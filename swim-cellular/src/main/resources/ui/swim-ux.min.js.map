{"version":3,"sources":["../../../theme/main/DarkTheme.ts","../../../theme/main/LightTheme.ts","../../../theme/main/Theme.ts","../../../../../node_modules/tslib/tslib.es6.js","../../../app/main/visual/ScrimView.ts","../../../app/main/visual/IlluminationView.ts","../../../app/main/visual/TactileView.ts","../../../app/main/popover/PopoverView.ts","../../../app/main/popover/PopoverViewController.ts","../../../app/main/drawer/DrawerView.ts","../../../app/main/drawer/DrawerViewController.ts","../../../app/main/drawer/DrawerButton.ts","../../../app/main/app/AppView.ts","../../../app/main/app/AppViewController.ts","../../../controls/main/action/ActionButton.ts","../../../controls/main/action/ActionItem.ts","../../../controls/main/action/ActionStackGestureController.ts","../../../controls/main/action/ActionStack.ts","../../../controls/main/action/ActionStackController.ts","../../../navigation/main/menu/MenuList.ts","../../../navigation/main/menu/MenuItem.ts","../../../navigation/main/menu/MenuListController.ts"],"names":["this","font","Font","parse","color","Color","backgroundColor","fillColor","iconColor","shadow","BoxShadow","of","black","DarkTheme","base","DarkBase","primary","DarkPrimary","secondary","DarkSecondary","disabled","DarkDisabled","floating","DarkFloating","prototype","getStyle","view","LightTheme","LightBase","LightPrimary","LightSecondary","LightDisabled","LightFloating","Theme","Object","defineProperty","get","theme","value","enumerable","configurable","writable","set","extendStatics","d","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","ScrimView","node","_this","_super","call","_modalState","_transition","Transition","duration","Ease","cubicOut","onClick","bind","onSyntheticClick","PointerEvent","on","passive","TouchEvent","initNode","addClass","display","position","top","right","bottom","left","pointerEvents","cursor","setAutoState","isShown","isHidden","transition","fromAny","show","opacity","tween","forTween","willShow","onEnd","didShow","hide","willHide","didHide","event","rootView","UiView","stopPropagation","onFallthroughClick","preventDefault","HtmlView","IlluminationView","_illuminationState","_illuminationTimer","width","Length","zero","height","borderRadius","pct","white","onUnmount","cancelIlluminate","illuminate","clientX","clientY","delay","setTimeout","willIlluminate","clientBounds","_node","offsetParent","getBoundingClientRect","cx","cy","rx","Math","max","ry","sqrt","didIlluminate","clearTimeout","stimulate","willStimulate","didStimulate","remove","dissipate","didDissipate","willDissipate","TactileView","_viewController","onBeginTrack","track","pointerType","illumination","prepend","x","y","tactileTransition","onMoveTrack","contains","beginHover","id","onEndTrack","onCancelTrack","GestureView","PopoverView","document","createElement","arrowWidth","setState","arrowHeight","_source","_sourceFrame","_placement","_placementFrame","_popoverTransition","arrow","createArrow","arrowView","View","fromNode","prependChildView","setAttribute","style","setProperty","setSource","source","willSetSource","isMounted","removeViewObserver","onSetSource","addViewObserver","didSetSource","willObserve","viewObserver","popoverWillSetSource","requireUpdate","NeedsLayout","didObserve","popoverDidSetSource","toggleModal","showModal","hideModal","placement","place","marginTop","clientHeight","popoverWillShow","visibility","popoverDidShow","popoverWillHide","popoverDidHide","Objects","equalArray","n","push","placementFrame","equal","popoverTransition","modifyUpdate","updateFlags","additionalFlags","NeedsScroll","NeedsAnimate","didMount","willUnmount","onLayout","viewContext","oldSourceFrame","newSourceFrame","popoverFrame","equals","placePopover","getChildView","placeArrow","sourceFrame","parent","popoverWidth","clientWidth","popoverHeight","parentBounds","parentLeft","parentTop","sourceLeft","window","pageXOffset","sourceRight","sourceTop","pageYOffset","sourceBottom","sourceWidth","sourceHeight","sourceX","sourceY","placementLeft","placementRight","innerWidth","placementTop","placementBottom","innerHeight","marginLeft","marginRight","marginBottom","pxValue","maxWidthStyle","getPropertyValue","maxHeightStyle","oldMaxWidth","oldMaxHeight","maxWidth","maxHeight","offsetLeft","offsetTop","willPlacePopover","removeProperty","onPlacePopover","didPlacePopover","popoverWillPlace","popoverDidPlace","arrowNode","offsetRight","offsetBottom","transparent","radius","arrowXMin","arrowXMax","arrowYMin","arrowYMax","toString","viewDidMount","viewDidPower","viewDidScroll","viewDidLayout","viewDidSetAttribute","name","viewDidSetStyle","priority","MemberAnimator","PopoverViewController","_view","HtmlViewController","DrawerView","collapsedWidth","px","expandedWidth","drawerSlide","update","updateDrawerSlide","drawerStretch","updateDrawerStretch","_drawerPlacement","_drawerState","_drawerTransition","flexDirection","overflowX","overflowY","overscrollBehaviorY","webkitOverflowScrolling","isCollapsed","drawerPlacement","newPlacement","oldPlacement","willSetDrawerPlacement","onSetDrawerPlacement","didSetDrawerPlacement","isHorizontal","isVertical","drawerWillSetPlacement","drawerDidSetPlacement","updateDrawerSlideTop","updateDrawerSlideRight","updateDrawerSlideBottom","updateDrawerSlideLeft","offsetHeight","offsetWidth","times","plus","viewIdiom","borderRightColor","boxShadow","placeTop","placeRight","placeBottom","placeLeft","removeClass","safeArea","viewport","edgeInsets","insetTop","insetRight","insetBottom","insetLeft","expand","paddingTop","paddingBottom","drawerState","drawerWillShow","drawerDidShow","drawerWillHide","drawerDidHide","willExpand","didExpand","drawerWillExpand","drawerDidExpand","collapse","willCollapse","didCollapse","drawerWillCollapse","drawerDidCollapse","toggle","Number","ViewScope","DrawerViewController","DrawerButton","_drawerView","initChildren","justifyContent","alignItems","userSelect","append","createIcon","icon","SvgView","viewBox","stroke","strokeWidth","strokeLinecap","setDrawerView","drawerView","childView","onMount","off","onInsertChildView","targetView","onInsertIcon","onRemoveChildView","onRemoveIcon","AppView","createTheme","colorScheme","dark","light","onResize","updateViewIdiom","setViewIdiom","init","AppViewController","UiViewController","ActionButton","overflow","iconContainer","setIcon","ccw","oldIconContainer","removeChildViewMap","setKey","transform","Transform","rotate","Angle","deg","newIconContainer","createIconContainer","appendChildView","setTheme","fill","NeedsDerive","onDerive","state","onInsertIconContainer","onRemoveIconContainer","onStartHovering","darker","onStopHovering","inherit","ActionItem","hoverColor","label","stackPhase","childKey","onInsertLabel","onRemoveLabel","fontSize","fontWeight","lineHeight","whiteSpace","ActionStackGestureController","actionStack","_actionStack","viewDidBeginTrack","viewDidHoldTrack","viewDidMoveTrack","defaultPrevented","min","dy","clearHoldTimer","viewDidEndTrack","dt","holdDelay","stackState","viewDidCancelTrack","buttons","ActionStack","onContextMenu","_stackState","_stackTransition","_buttonIcon","_buttonSpacing","_itemSpacing","touchAction","isExpanded","setButtonIcon","buttonIcon","button","createCloseIcon","childNodes","childViews","insertItem","item","index","insertChildNode","removeItems","removeChild","phase","childCount","itemIndex","zIndex","onInsertButton","onInsertItem","onRemoveButton","onRemoveItem","actionStackWillExpand","actionStackDidExpand","actionStackWillCollapse","actionStackDidCollapse","actionStackWillShow","actionStackDidShow","actionStackWillHide","actionStackDidHide","ActionStackController","items","presentModal","focus","dismissModal","MenuList","flexGrow","flexShrink","MenuItem","onPressItem","menuDidPressItem","normalFillColor","highlightFillColor","highlightCellColor","rgb","alpha","_highlighted","boxSizing","paddingLeft","paddingRight","createIconView","createTitleView","text","fontFamily","textOverflow","iconView","newIconView","oldIconView","removeAll","setChildView","titleView","newTitleView","oldTitleView","onAnimate","onInsertTitle","onRemoveTitle","title","isAuto","highlight","unhighlight","parentView","MenuListController","_selectedItem","selectItem","newItem","oldItem","willSelectItem","onSelectItem","didSelectItem"],"mappings":";grBA0BE,WACEA,KAAKC,KAAOC,EAAAA,KAAKC,MAAM,mBACvBH,KAAKI,MAAQC,EAAAA,MAAMF,MAAM,WACzBH,KAAKM,gBAAkBD,EAAAA,MAAMF,MAAM,cASrC,WACEH,KAAKO,UAAYF,EAAAA,MAAMF,MAAM,WAC7BH,KAAKQ,UAAYH,EAAAA,MAAMF,MAAM,cAS/B,WACEH,KAAKO,UAAYF,EAAAA,MAAMF,MAAM,WAC7BH,KAAKQ,UAAYH,EAAAA,MAAMF,MAAM,cAS/B,WACEH,KAAKO,UAAYF,EAAAA,MAAMF,MAAM,WAC7BH,KAAKQ,UAAYH,EAAAA,MAAMF,MAAM,cAS/B,WACEH,KAAKS,OAASC,EAAAA,UAAUC,GAAG,EAAG,EAAG,EAAG,EAAGN,EAAAA,MAAMO,MAAM,mBAarD,SAAAC,IACEb,KAAKc,KAAO,IAAIC,EAEhBf,KAAKgB,QAAU,IAAIC,EACnBjB,KAAKkB,UAAY,IAAIC,EACrBnB,KAAKoB,SAAW,IAAIC,EAEpBrB,KAAKsB,SAAW,IAAIC,EAMxB,OAHEV,EAAAW,UAAAC,SAAA,SAAyBC,GACvB,OAAO,MAEXb,OCxEE,WACEb,KAAKC,KAAOC,EAAAA,KAAKC,MAAM,mBACvBH,KAAKI,MAAQC,EAAAA,MAAMF,MAAM,WACzBH,KAAKM,gBAAkBD,EAAAA,MAAMF,MAAM,cASrC,WACEH,KAAKO,UAAYF,EAAAA,MAAMF,MAAM,WAC7BH,KAAKQ,UAAYH,EAAAA,MAAMF,MAAM,cAS/B,WACEH,KAAKO,UAAYF,EAAAA,MAAMF,MAAM,WAC7BH,KAAKQ,UAAYH,EAAAA,MAAMF,MAAM,cAS/B,WACEH,KAAKO,UAAYF,EAAAA,MAAMF,MAAM,WAC7BH,KAAKQ,UAAYH,EAAAA,MAAMF,MAAM,cAS/B,WACEH,KAAKS,OAASC,EAAAA,UAAUC,GAAG,EAAG,EAAG,EAAG,EAAGN,EAAAA,MAAMO,MAAM,mBAarD,SAAAe,IACE3B,KAAKc,KAAO,IAAIc,EAEhB5B,KAAKgB,QAAU,IAAIa,EACnB7B,KAAKkB,UAAY,IAAIY,EACrB9B,KAAKoB,SAAW,IAAIW,EAEpB/B,KAAKsB,SAAW,IAAIU,EAMxB,OAHEL,EAAAH,UAAAC,SAAA,SAAyBC,GACvB,OAAO,MAEXC,KC1CaM,EAAoB,GAEjCC,OAAOC,eAAeF,EAAO,OAAQ,CACnCG,IAAK,WAEH,IAAMC,EAAQ,IAAIxB,EAOlB,OANAqB,OAAOC,eAAeF,EAAO,OAAQ,CACnCK,MAAOD,EACPE,YAAY,EACZC,cAAc,EACdC,UAAU,IAELJ,GAETK,IAAK,SAAUL,GAEbH,OAAOC,eAAeF,EAAO,OAAQ,CACnCK,MAAOD,EACPE,YAAY,EACZC,cAAc,EACdC,UAAU,KAGdF,YAAY,EACZC,cAAc,IAGhBN,OAAOC,eAAeF,EAAO,QAAS,CACpCG,IAAK,WAEH,IAAMC,EAAQ,IAAIV,EAOlB,OANAO,OAAOC,eAAeF,EAAO,QAAS,CACpCK,MAAOD,EACPE,YAAY,EACZC,cAAc,EACdC,UAAU,IAELJ,GAETK,IAAK,SAAUL,GAEbH,OAAOC,eAAeF,EAAO,QAAS,CACpCK,MAAOD,EACPE,YAAY,EACZC,cAAc,EACdC,UAAU,KAGdF,YAAY,EACZC,cAAc,ICzFhB,IAAIG,EAAgB,SAASC,EAAGC,GAI5B,OAHAF,EAAgBT,OAAOY,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUJ,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAII,KAAKJ,EAAOA,EAAEK,eAAeD,KAAIL,EAAEK,GAAKJ,EAAEI,MACpDL,EAAGC,IAGrB,SAASM,EAAUP,EAAGC,GAEzB,SAASO,IAAOpD,KAAKqD,YAAcT,EADnCD,EAAcC,EAAGC,GAEjBD,EAAEpB,UAAkB,OAANqB,EAAaX,OAAOoB,OAAOT,IAAMO,EAAG5B,UAAYqB,EAAErB,UAAW,IAAI4B,GA0B5E,SAASG,EAAWC,EAAYC,EAAQC,EAAKC,GAChD,IAA2Hf,EAAvHgB,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAOzB,OAAO8B,yBAAyBP,EAAQC,GAAOC,EACrH,GAAuB,iBAAZM,SAAoD,mBAArBA,QAAQC,SAAyBH,EAAIE,QAAQC,SAASV,EAAYC,EAAQC,EAAKC,QACpH,IAAK,IAAIQ,EAAIX,EAAWM,OAAS,EAAGK,GAAK,EAAGA,KAASvB,EAAIY,EAAWW,MAAIJ,GAAKH,EAAI,EAAIhB,EAAEmB,GAAKH,EAAI,EAAIhB,EAAEa,EAAQC,EAAKK,GAAKnB,EAAEa,EAAQC,KAASK,GAChJ,OAAOH,EAAI,GAAKG,GAAK7B,OAAOC,eAAesB,EAAQC,EAAKK,GAAIA,oBChC9D,SAAAK,EAAYC,GAAZ,IAAAC,EACEC,EAAAC,KAAAxE,KAAMqE,IAAKrE,YACXsE,EAAKG,YAAc,SACnBH,EAAKI,YAAcC,EAAAA,WAAWC,SAAS,IAAKC,EAAAA,KAAKC,UACjDR,EAAKS,QAAUT,EAAKS,QAAQC,KAAKV,GACjCA,EAAKW,iBAAmBX,EAAKW,iBAAiBD,KAAKV,GACvB,oBAAjBY,cACTZ,EAAKa,GAAG,YAAab,EAAKS,QAAS,CAACK,SAAS,IAC7Cd,EAAKa,GAAG,QAASb,EAAKW,mBACS,oBAAfI,YAChBf,EAAKW,iBAAmBX,EAAKW,iBAAiBD,KAAKV,GACnDA,EAAKa,GAAG,WAAYb,EAAKS,QAAS,CAACK,SAAS,IAC5Cd,EAAKa,GAAG,QAASb,EAAKW,mBAEtBX,EAAKa,GAAG,QAASb,EAAKS,WA0G5B,OA9H+B5B,EAAAiB,EAAAG,GAwBnBH,EAAA5C,UAAA8D,SAAV,SAAmBjB,GACjBrE,KAAKuF,SAAS,SACTC,QAAQ,QACRC,SAAS,YACTC,IAAI,GACJC,MAAM,GACNC,OAAO,GACPC,KAAK,GACLC,cAAc,QACdC,OAAO,WACZ/F,KAAKM,gBAAgB0F,aAAa3F,EAAAA,MAAMO,MAAM,KAGhDsB,OAAAC,eAAIiC,EAAA5C,UAAA,aAAU,KAAd,WACE,OAAOxB,KAAKyE,6CAGdL,EAAA5C,UAAAyE,QAAA,WACE,MAA4B,UAArBjG,KAAKyE,aAAgD,YAArBzE,KAAKyE,aAG9CL,EAAA5C,UAAA0E,SAAA,WACE,MAA4B,WAArBlG,KAAKyE,aAAiD,WAArBzE,KAAKyE,aAK/CL,EAAA5C,UAAA2E,WAAA,SAAWA,GACT,YAAmB,IAAfA,EACKnG,KAAK0E,aAEZyB,EAAaxB,EAAAA,WAAWyB,QAAQD,GAChCnG,KAAK0E,YAAcyB,EACZnG,OAIXoE,EAAA5C,UAAA6E,KAAA,SAAKC,EAAiBC,GACK,WAArBvG,KAAKyE,aAAiD,WAArBzE,KAAKyE,cAEtC8B,OADY,IAAVA,IAA8B,IAAVA,EACdvG,KAAK0E,YAELC,EAAAA,WAAW6B,SAASD,GAE9BvG,KAAKyG,WACLzG,KAAKwF,QAAQ,SACC,OAAVe,GACFvG,KAAKM,gBAAgB0F,aAAa3F,EAAAA,MAAMO,MAAM,IAC9CZ,KAAKM,gBAAgB0F,aAAa3F,EAAAA,MAAMO,MAAM0F,GAAUC,EAAMG,MAAM1G,KAAK2G,QAAQ3B,KAAKhF,UAEtFA,KAAKM,gBAAgB0F,aAAa3F,EAAAA,MAAMO,MAAM0F,IAC9CtG,KAAK2G,aAKDvC,EAAA5C,UAAAiF,SAAV,WACEzG,KAAKyE,YAAc,WAGXL,EAAA5C,UAAAmF,QAAV,WACE3G,KAAKyE,YAAc,SAGrBL,EAAA5C,UAAAoF,KAAA,SAAKL,GACsB,UAArBvG,KAAKyE,aAAgD,YAArBzE,KAAKyE,cAErC8B,OADY,IAAVA,IAA8B,IAAVA,EACdvG,KAAK0E,YAELC,EAAAA,WAAW6B,SAASD,GAE9BvG,KAAK6G,WACS,OAAVN,EACFvG,KAAKM,gBAAgB0F,aAAa3F,EAAAA,MAAMO,MAAM,GAAI2F,EAAMG,MAAM1G,KAAK8G,QAAQ9B,KAAKhF,SAEhFA,KAAKM,gBAAgB0F,aAAa3F,EAAAA,MAAMO,MAAM,IAC9CZ,KAAK8G,aAKD1C,EAAA5C,UAAAqF,SAAV,WACE7G,KAAKyE,YAAc,UAGXL,EAAA5C,UAAAsF,QAAV,WACE9G,KAAKyE,YAAc,SACnBzE,KAAKwF,QAAQ,SAGLpB,EAAA5C,UAAAuD,QAAV,SAAkBgC,GAChB,IAAMC,EAAWhH,KAAKgH,SAClBA,aAAoBC,EAAAA,SACtBF,EAAMG,kBACNF,EAASG,mBAAmBJ,KAItB3C,EAAA5C,UAAAyD,iBAAV,SAA2B8B,GACzBA,EAAMK,iBACNL,EAAMG,mBAEV9C,GA9H+BiD,EAAAA,wBCS7B,SAAAC,EAAYjD,GAAZ,IAAAC,EACEC,EAAAC,KAAAxE,KAAMqE,IAAKrE,YACXsE,EAAKiD,mBAAqB,aAC1BjD,EAAKkD,mBAAqB,IAwH9B,OAjIsCrE,EAAAmE,EAAA/C,GAY1B+C,EAAA9F,UAAA8D,SAAV,SAAmBjB,GACjBrE,KAAKuF,SAAS,gBACTE,SAAS,YACTgC,MAAMC,EAAAA,OAAOC,QACbC,OAAOF,EAAAA,OAAOC,QACdE,aAAaH,EAAAA,OAAOI,IAAI,KACxBxH,gBAAgBD,EAAAA,MAAM0H,SACtBjC,cAAc,SAGrB5D,OAAAC,eAAImF,EAAA9F,UAAA,oBAAiB,KAArB,WACE,OAAOxB,KAAKuH,oDAGJD,EAAA9F,UAAAwG,UAAV,WACEhI,KAAKuH,mBAAqB,aAC1BvH,KAAKiI,mBACL1D,EAAA/C,UAAMwG,UAASxD,KAAAxE,OAGjBsH,EAAA9F,UAAA0G,WAAA,SAAWC,EAAiBC,EAAiB9B,EAClCH,EAAoCkC,GAC7C,QAD6C,IAAAA,IAAAA,EAAA,GACb,eAA5BrI,KAAKuH,mBAEP,GADAvH,KAAKiI,mBACS,IAAVI,EAAa,CACf,IAAMH,EAAalI,KAAKkI,WAAWlD,KAAKhF,KAAMmI,EAASC,EAAS9B,EAASH,EAAY,GACrFnG,KAAKwH,mBAAqBc,WAAWJ,EAAYG,OAC5C,CACLrI,KAAKuI,iBACL,IAAMC,EAAexI,KAAKyI,MAAMC,aAAcC,wBACxCC,EAAKT,EAAUK,EAAa3C,KAC5BgD,EAAKT,EAAUI,EAAa9C,IAC5BoD,EAAKC,KAAKC,IAAIJ,EAAIJ,EAAaf,MAAQmB,GACvCK,EAAKF,KAAKC,IAAIH,EAAIL,EAAaZ,OAASiB,GACxC9E,EAAIgF,KAAKG,KAAKJ,EAAKA,EAAKG,EAAKA,GACnCjJ,KAAKsG,QAAQA,GACM,OAAfH,EACFnG,KAAK6F,KAAK+C,GACLlD,IAAImD,GACJhD,KAAK+C,EAAK7E,EAAGoC,EAAWO,MAAM1G,KAAKmJ,cAAcnE,KAAKhF,QACtD0F,IAAImD,EAAK9E,EAAGoC,GACZsB,MAAM,EAAI1D,EAAGoC,GACbyB,OAAO,EAAI7D,EAAGoC,IAEnBnG,KAAK6F,KAAK+C,EAAK7E,GACV2B,IAAImD,EAAK9E,GACT0D,MAAM,EAAI1D,GACV6D,OAAO,EAAI7D,GAChB/D,KAAKmJ,iBAEPnJ,KAAKuH,mBAAqB,gBAKtBD,EAAA9F,UAAA+G,eAAV,aAIUjB,EAAA9F,UAAA2H,cAAV,aAIA7B,EAAA9F,UAAAyG,iBAAA,WACkC,IAA5BjI,KAAKwH,qBACP4B,aAAapJ,KAAKwH,oBAClBxH,KAAKwH,mBAAqB,IAI9BF,EAAA9F,UAAA6H,UAAA,SAAUlB,EAAiBC,EAAiB9B,EAAiBH,GAC3B,eAA5BnG,KAAKuH,oBACPvH,KAAKkI,WAAWC,EAASC,EAAS9B,EAASH,GAEb,gBAA5BnG,KAAKuH,qBACPvH,KAAKsJ,gBACc,OAAfnD,EACFnG,KAAKsG,QAAQ,EAAGH,EAAWO,MAAM1G,KAAKuJ,aAAavE,KAAKhF,SAExDA,KAAKsG,QAAQ,GACbtG,KAAKuJ,gBAEPvJ,KAAKuH,mBAAqB,eAIpBD,EAAA9F,UAAA8H,cAAV,aAIUhC,EAAA9F,UAAA+H,aAAV,WACEvJ,KAAKwJ,UAGPlC,EAAA9F,UAAAiI,UAAA,SAAUtB,EAAiBC,EAAiBjC,GACV,eAA5BnG,KAAKuH,oBACPvH,KAAKiI,mBACLjI,KAAK0J,gBACgC,gBAA5B1J,KAAKuH,qBACdvH,KAAK2J,gBACc,OAAfxD,EACFnG,KAAKsG,QAAQ,EAAGH,EAAWO,MAAM1G,KAAK0J,aAAa1E,KAAKhF,SAExDA,KAAKsG,QAAQ,GACbtG,KAAK0J,iBAGT1J,KAAKuH,mBAAqB,cAGlBD,EAAA9F,UAAAmI,cAAV,aAIUrC,EAAA9F,UAAAkI,aAAV,WACE1J,KAAKwJ,UAETlC,GAjIsCD,EAAAA,wBCFpC,SAAAuC,EAAYvF,UACVE,EAAAC,KAAAxE,KAAMqE,IAAKrE,KAkDf,OApDiCmD,EAAAyG,EAAArF,GAKrBqF,EAAApI,UAAA8D,SAAV,SAAmBjB,GACjBrE,KAAKuF,SAAS,YAGhBrD,OAAAC,eAAIyH,EAAApI,UAAA,iBAAc,KAAlB,WACE,OAAOxB,KAAK6J,iDAGd3H,OAAAC,eAAIyH,EAAApI,UAAA,oBAAiB,KAArB,WACE,OAAOmD,EAAAA,WAAWC,SAAc,IAAKC,EAAAA,KAAKC,2CAGlC8E,EAAApI,UAAAsI,aAAV,SAAuBC,EAAyBhD,GAC9C,QAAmB,IAAfgD,EAAMrI,KAAiB,CACzB,IAAM2G,EAA8B,UAAtB0B,EAAMC,YAA0B,EAAI,IAC5CC,EAAejK,KAAKkK,QAAQ5C,GAClC2C,EAAa/B,WAAW6B,EAAMI,EAAGJ,EAAMK,EAAG,GAAKpK,KAAKqK,kBAAmBhC,GACvE0B,EAAMrI,KAAOuI,IAIPL,EAAApI,UAAA8I,YAAV,SAAsBP,EAAyBhD,GAC7CxC,EAAA/C,UAAM8I,YAAW9F,KAAAxE,KAAC+J,EAAOhD,GACpB/G,KAAKwI,aAAa+B,SAASR,EAAMI,EAAGJ,EAAMK,KAC7CL,EAAM3C,iBACNpH,KAAKwK,WAAWT,EAAMU,GAAIV,EAAMC,YAAajD,GACzCgD,EAAMrI,gBAAgB4F,GACxByC,EAAMrI,KAAK+H,UAAUM,EAAMI,EAAGJ,EAAMK,EAAGpK,KAAKqK,qBAKxCT,EAAApI,UAAAkJ,WAAV,SAAqBX,EAAyBhD,GACxCgD,EAAMrI,gBAAgB4F,IACpBtH,KAAKwI,aAAa+B,SAASR,EAAMI,EAAGJ,EAAMK,GAC5CL,EAAMrI,KAAK2H,UAAUU,EAAMI,EAAGJ,EAAMK,EAAG,GAAKpK,KAAKqK,mBAEjDN,EAAMrI,KAAK+H,UAAUM,EAAMI,EAAGJ,EAAMK,EAAGpK,KAAKqK,qBAKxCT,EAAApI,UAAAmJ,cAAV,SAAwBZ,EAAyBhD,GAC3CgD,EAAMrI,gBAAgB4F,GACxByC,EAAMrI,KAAK+H,UAAUM,EAAMI,EAAGJ,EAAMK,EAAGpK,KAAKqK,oBAGlDT,GApDiCgB,EAAAA,2BC+B/B,SAAAC,EAAYxG,QAAA,IAAAA,IAAAA,EAAoByG,SAASC,cAAc,QAAvD,IAAAzG,EACEC,EAAAC,KAAAxE,KAAMqE,IAAKrE,KACXsE,EAAK0G,WAAWC,SAASvD,EAAAA,OAAOtB,QAAQ,KACxC9B,EAAK4G,YAAYD,SAASvD,EAAAA,OAAOtB,QAAQ,IACzC9B,EAAK6G,QAAU,KACf7G,EAAK8G,aAAe,KACpB9G,EAAKG,YAAc,QACnBH,EAAK+G,WAAa,CAAC,MAAO,SAAU,QAAS,QAC7C/G,EAAKgH,gBAAkB,KACvBhH,EAAKiH,mBAAqB5G,EAAAA,WAAWC,SAAS,IAAKC,EAAAA,KAAKC,UAExD,IAAM0G,EAAQlH,EAAKmH,cACnB,GAAc,OAAVD,EAAgB,CAClB,IAAME,EAAYC,EAAAA,KAAKC,SAASJ,GAChClH,EAAKuH,iBAAiBH,EAAW,kBAwnBvC,OAppBiCvI,EAAA0H,EAAAtG,GAgCrBsG,EAAArJ,UAAAiK,YAAV,WACE,IAAMD,EAAQV,SAASC,cAAc,OAMrC,OALAS,EAAMM,aAAa,QAAS,iBAC5BN,EAAMO,MAAMC,YAAY,UAAW,QACnCR,EAAMO,MAAMC,YAAY,WAAY,YACpCR,EAAMO,MAAMC,YAAY,QAAS,KACjCR,EAAMO,MAAMC,YAAY,SAAU,KAC3BR,GAGTtJ,OAAAC,eAAI0I,EAAArJ,UAAA,iBAAc,KAAlB,WACE,OAAOxB,KAAK6J,iDASd3H,OAAAC,eAAI0I,EAAArJ,UAAA,SAAM,KAAV,WACE,OAAOxB,KAAKmL,yCAGdN,EAAArJ,UAAAyK,UAAA,SAAUC,GACJlM,KAAKmL,UAAYe,IACnBlM,KAAKmM,cAAcD,GACE,OAAjBlM,KAAKmL,SAAoBnL,KAAKoM,aAChCpM,KAAKmL,QAAQkB,mBAAmBrM,MAElCA,KAAKmL,QAAUe,EACflM,KAAKsM,YAAYJ,GACI,OAAjBlM,KAAKmL,SAAoBnL,KAAKoM,aAChCpM,KAAKmL,QAAQoB,gBAAgBvM,MAE/BA,KAAKwM,aAAaN,KAIZrB,EAAArJ,UAAA2K,cAAV,SAAwBD,GACtBlM,KAAKyM,aAAY,SAAUC,QACiB,IAAtCA,EAAaC,sBACfD,EAAaC,qBAAqBT,EAAQlM,UAKtC6K,EAAArJ,UAAA8K,YAAV,SAAsBJ,GACpBlM,KAAK4M,cAAcjB,EAAAA,KAAKkB,cAGhBhC,EAAArJ,UAAAgL,aAAV,SAAuBN,GACrBlM,KAAK8M,YAAW,SAAUJ,QACiB,IAArCA,EAAaK,qBACfL,EAAaK,oBAAoBb,EAAQlM,UAK/CkC,OAAAC,eAAI0I,EAAArJ,UAAA,aAAU,KAAd,WACE,OAAOxB,KAAKyE,6CAGdvC,OAAAC,eAAI0I,EAAArJ,UAAA,YAAS,KAAb,WACE,OAAOxB,sCAGT6K,EAAArJ,UAAAwL,YAAA,SAAYzG,GACe,WAArBvG,KAAKyE,aAAiD,WAArBzE,KAAKyE,YACxCzE,KAAKiN,UAAU1G,GACe,UAArBvG,KAAKyE,aAAgD,YAArBzE,KAAKyE,aAC9CzE,KAAKkN,UAAU3G,IAInBsE,EAAArJ,UAAAyL,UAAA,SAAU1G,GACR,GAAyB,WAArBvG,KAAKyE,aAAiD,WAArBzE,KAAKyE,YAA0B,CAEhE8B,OADY,IAAVA,IAA8B,IAAVA,EACdvG,KAAKuL,mBAEL5G,EAAAA,WAAW6B,SAASD,GAE9BvG,KAAKyG,WACL,IAAM0G,EAAYnN,KAAKoN,QACT,OAAV7G,GACFA,EAAQA,EAAMG,MAAM1G,KAAK2G,QAAQ3B,KAAKhF,OACpB,UAAdmN,GACFnN,KAAKsG,QAAQ2E,cAAS,QACO,IAAzBjL,KAAKqN,UAAU/K,OACjBtC,KAAKqN,WAAWrN,KAAKyI,MAAM6E,cAE7BtN,KAAKqN,UAAU,EAAG9G,IACK,UAAd4G,GACTnN,KAAKsG,QAAQ2E,cAAS,QACO,IAAzBjL,KAAKqN,UAAU/K,OACjBtC,KAAKqN,UAAUrN,KAAKyI,MAAM6E,cAE5BtN,KAAKqN,UAAU,EAAG9G,KAElBvG,KAAKqN,UAAUpC,cAAS,QACG,IAAvBjL,KAAKsG,QAAQhE,OACftC,KAAKsG,QAAQ,GAEftG,KAAKsG,QAAQ,EAAGC,KAGlBvG,KAAK2G,YAKDkE,EAAArJ,UAAAiF,SAAV,WACEzG,KAAKyM,aAAY,SAAUC,QACY,IAAjCA,EAAaa,iBACfb,EAAaa,gBAAgBvN,SAGjCA,KAAKwN,WAAW,WAChBxN,KAAKyE,YAAc,WAGXoG,EAAArJ,UAAAmF,QAAV,WACE3G,KAAKyE,YAAc,QACnBzE,KAAK8F,cAAc,QACnB9F,KAAKqN,UAAUpC,cAAS,GACxBjL,KAAKsG,QAAQ2E,cAAS,GACtBjL,KAAK8M,YAAW,SAAUJ,QACY,IAAhCA,EAAae,gBACff,EAAae,eAAezN,UAKlC6K,EAAArJ,UAAA0L,UAAA,SAAU3G,GACR,GAAyB,UAArBvG,KAAKyE,aAAgD,YAArBzE,KAAKyE,YAA2B,CAEhE8B,OADY,IAAVA,IAA8B,IAAVA,EACdvG,KAAKuL,mBAEL5G,EAAAA,WAAW6B,SAASD,GAE9BvG,KAAK6G,WACL,IAAMsG,EAAYnN,KAAKoN,QACT,OAAV7G,GACFA,EAAQA,EAAMG,MAAM1G,KAAK8G,QAAQ9B,KAAKhF,OACpB,UAAdmN,GACFnN,KAAKsG,QAAQ2E,cAAS,QACO,IAAzBjL,KAAKqN,UAAU/K,OACjBtC,KAAKqN,UAAU,GAEjBrN,KAAKqN,WAAWrN,KAAKyI,MAAM6E,aAAc/G,IAClB,UAAd4G,GACTnN,KAAKsG,QAAQ2E,cAAS,QACO,IAAzBjL,KAAKqN,UAAU/K,OACjBtC,KAAKqN,UAAU,GAEjBrN,KAAKqN,UAAUrN,KAAKyI,MAAM6E,aAAc/G,KAExCvG,KAAKqN,UAAUpC,cAAS,QACG,IAAvBjL,KAAKsG,QAAQhE,OACftC,KAAKsG,QAAQ,GAEftG,KAAKsG,QAAQ,EAAGC,KAGlBvG,KAAK8G,YAKD+D,EAAArJ,UAAAqF,SAAV,WACE7G,KAAKyM,aAAY,SAAUC,QACY,IAAjCA,EAAagB,iBACfhB,EAAagB,gBAAgB1N,SAGjCA,KAAK8F,cAAc,QACnB9F,KAAKyE,YAAc,UAGXoG,EAAArJ,UAAAsF,QAAV,WACE9G,KAAKyE,YAAc,SACnBzE,KAAKwN,WAAW,UAChBxN,KAAKqN,UAAUpC,cAAS,GACxBjL,KAAKsG,QAAQ2E,cAAS,GACtBjL,KAAK8M,YAAW,SAAUJ,QACY,IAAhCA,EAAaiB,gBACfjB,EAAaiB,eAAe3N,UAOlC6K,EAAArJ,UAAA2L,UAAA,SAAUA,GACR,QAAkB,IAAdA,EACF,OAAOnN,KAAKqL,WAEZ,IAAKuC,EAAAA,QAAQC,WAAW7N,KAAKqL,WAAY8B,GAAY,CACnDnN,KAAKqL,WAAWvH,OAAS,EACzB,IAAK,IAAIK,EAAI,EAAG2J,EAAIX,EAAUrJ,OAAQK,EAAI2J,EAAG3J,GAAK,EAChDnE,KAAKqL,WAAW0C,KAAKZ,EAAUhJ,IAEjCnE,KAAKoN,QAEP,OAAOpN,MAMX6K,EAAArJ,UAAAwM,eAAA,SAAeA,GACb,YAAuB,IAAnBA,EACKhO,KAAKsL,iBAEPsC,EAAAA,QAAQK,MAAMjO,KAAKsL,gBAAiB0C,KACvChO,KAAKsL,gBAAkB0C,EACvBhO,KAAKoN,SAEApN,OAMX6K,EAAArJ,UAAA0M,kBAAA,SAAkBA,GAChB,YAA0B,IAAtBA,EACKlO,KAAKuL,oBAEc,OAAtB2C,IACFA,EAAoBvJ,EAAAA,WAAWyB,QAAQ8H,IAElClO,OAID6K,EAAArJ,UAAA2M,aAAV,SAAuBC,GACrB,IAAIC,EAAkB,EAKtB,OAJ+D,IAA1DD,GAAezC,EAAAA,KAAK2C,YAAc3C,EAAAA,KAAK4C,iBAC1CF,GAAmB1C,EAAAA,KAAKkB,aAE1BwB,GAAmB9J,EAAA/C,UAAM2M,aAAY3J,KAAAxE,KAACoO,EAAcC,IAI5CxD,EAAArJ,UAAAgN,SAAV,WACuB,OAAjBxO,KAAKmL,SACPnL,KAAKmL,QAAQoB,gBAAgBvM,MAE/BuE,EAAA/C,UAAMgN,SAAQhK,KAAAxE,OAGN6K,EAAArJ,UAAAiN,YAAV,WACElK,EAAA/C,UAAMiN,YAAWjK,KAAAxE,MACI,OAAjBA,KAAKmL,SACPnL,KAAKmL,QAAQkB,mBAAmBrM,OAI1B6K,EAAArJ,UAAAkN,SAAV,SAAmBC,GACjBpK,EAAA/C,UAAMkN,SAAQlK,KAAAxE,KAAC2O,GACf3O,KAAKoN,SAGPvC,EAAArJ,UAAA4L,MAAA,WACE,IAAMlB,EAASlM,KAAKmL,QACdyD,EAAiB5O,KAAKoL,aACtByD,EAA4B,OAAX3C,EAAkBA,EAAO4C,aAAe,KAC/D,GAAuB,OAAnBD,GAAsD,IAA3B7O,KAAKqL,WAAWvH,QAAiB+K,EAAeE,OAAOH,GAQpF,MAAO,OAPP,IAAMzB,EAAYnN,KAAKgP,aAAa9C,EAAS2C,GACvCrD,EAAQxL,KAAKiP,aAAa,SAIhC,OAHIzD,aAAiBnE,EAAAA,UACnBrH,KAAKkP,WAAWhD,EAAS2C,EAAgBrD,EAAO2B,GAE3CA,GAODtC,EAAArJ,UAAAwN,aAAV,SAAuB9C,EAAciD,GACnC,IAAM9K,EAAOrE,KAAKyI,MACZ2G,EAAS/K,EAAKqE,aACpB,GAAe,OAAX0G,EACF,MAAO,OAoCT,IAlCA,IAiCIjC,EAjCEkC,EAAehL,EAAKiL,YACpBC,EAAgBlL,EAAKiJ,aAGrBkC,EAAeJ,EAAOzG,wBACtB8G,EAAaD,EAAa3J,KAC1B6J,EAAYF,EAAa9J,IAGzBiK,EAAaR,EAAYtJ,KAAO+J,OAAOC,YAAcJ,EACrDK,EAAcX,EAAYxJ,MAAQiK,OAAOC,YAAcJ,EACvDM,EAAYZ,EAAYzJ,IAAMkK,OAAOI,YAAcN,EACnDO,EAAed,EAAYvJ,OAASgK,OAAOI,YAAcN,EACzDQ,EAAcf,EAAY1H,MAC1B0I,EAAehB,EAAYvH,OAC3BwI,EAAUT,EAAaO,EAAY,EACnCG,EAAUN,EAAYI,EAAa,EAGnCnC,EAAiBhO,KAAKsL,gBACtBgF,EAAoC,OAAnBtC,EAA0BA,EAAenI,KAAO,EACjE0K,GAAqC,OAAnBvC,EAA0BA,EAAerI,MAAQiK,OAAOY,YAAcf,EACxFgB,EAAmC,OAAnBzC,EAA0BA,EAAetI,IAAM,EAC/DgL,GAAsC,OAAnB1C,EAA0BA,EAAepI,OAASgK,OAAOe,aAAejB,EAG3FkB,EAAajB,EAAaW,EAAgBV,OAAOC,YACjDgB,EAAcN,EAAiBZ,EAAaO,EAC5C7C,EAAY0C,EAAYU,EAAeb,OAAOI,YAC9Cc,EAAeJ,EAAkBX,EAAYI,EAE7CjF,EAAclL,KAAKkL,YAAY5I,MAAOyO,UAGnC5M,EAAI,EAAGA,EAAInE,KAAKqL,WAAWvH,OAAQK,GAAK,EAAG,CAElD,GAAU,WADJlB,EAAIjD,KAAKqL,WAAWlH,KACC,UAANlB,GAAuB,SAANA,EAAc,CAClDkK,EAAYlK,EACZ,MACK,GAAU,QAANA,GAAesM,EAAgBrE,GAAemC,EAAW,CAClEF,EAAYlK,EACZ,MACK,GAAU,WAANA,GAAkBsM,EAAgBrE,GAAe4F,EAAc,CACxE3D,EAAYlK,EACZ,MACK,GAAU,SAANA,GAAgBoM,EAAenE,GAAe0F,EAAY,CACnEzD,EAAYlK,EACZ,MACK,GAAU,UAANA,GAAiBoM,EAAenE,GAAe2F,EAAa,CACrE1D,EAAYlK,EACZ,OAGJ,QAAkB,IAAdkK,EAAsB,CACxBA,EAAY,OACHhJ,EAAI,EAAb,IAAK,IAAW2J,EAAI9N,KAAKqL,WAAWvH,OAAQK,EAAI2J,EAAG3J,GAAK,EAAG,CACzD,IAAMlB,EACN,GAAU,SADJA,EAAIjD,KAAKqL,WAAWlH,KACPkJ,GAAayD,EAAc,CAC5C3D,EAAYlK,EACZ,MACK,GAAU,WAANA,GAAkB6N,GAAgBzD,EAAW,CACtDF,EAAYlK,EACZ,MACK,GAAU,SAANA,GAAgB2N,GAAcC,EAAa,CACpD1D,EAAYlK,EACZ,MACK,GAAU,UAANA,GAAiB4N,GAAeD,EAAY,CACrDzD,EAAYlK,EACZ,QAKN,IAQI0C,EACAC,EATEoL,EAAgB3M,EAAK0H,MAAMkF,iBAAiB,aAC5CC,EAAiB7M,EAAK0H,MAAMkF,iBAAiB,cAC7CE,EAAcH,EAAgBtJ,EAAAA,OAAOtB,QAAQ4K,GAAeD,UAAY,EACxEK,EAAeF,EAAiBxJ,EAAAA,OAAOtB,QAAQ8K,GAAgBH,UAAY,EAC7EM,EAAWF,EACXG,EAAYF,EACZvL,EAAOxB,EAAKkN,WACZ7L,EAAMrB,EAAKmN,UA0Ff,MAvFkB,UAAdrE,GACFtH,EAAOyK,EACP5K,EAAM+K,EACN9K,GAA4B,OAAnBqI,EAA0BA,EAAevG,MAAQmI,OAAOY,YAAcD,EAC/Ec,EAAWtI,KAAKC,IAAI,EAAGuH,EAAiBD,GACxCgB,EAAYvI,KAAKC,IAAI,EAAG0H,EAAkBD,IACnB,UAAdtD,GACTtH,EAAOyK,EACP5K,EAAMgL,EAAkBnB,EACxB5J,EAAQ4K,GAAqC,OAAnBvC,EAA0BA,EAAevG,MAAQmI,OAAOY,YAClFa,EAAWtI,KAAKC,IAAI,EAAGuH,EAAiBD,GACxCgB,EAAYvI,KAAKC,IAAI,EAAG0H,EAAkBD,IACnB,SAAdtD,GACTtH,EAAOyK,EACP5K,EAAM+K,EACN9K,EAAQ4K,GAAqC,OAAnBvC,EAA0BA,EAAevG,MAAQmI,OAAOY,YAClF5K,EAAS8K,GAAsC,OAAnB1C,EAA0BA,EAAepG,OAASgI,OAAOe,aACrFU,EAAWtI,KAAKC,IAAI,EAAGuH,EAAiBD,GACxCgB,EAAYvI,KAAKC,IAAI,EAAG0H,EAAkBD,IACnB,QAAdtD,GAEPtH,EADEuK,EAAUf,EAAa,GAAKiB,EACvBA,EACEF,EAAUf,EAAa,GAAKkB,EAC9BA,EAAiBlB,EAEjBe,EAAUf,EAAa,EAEhC3J,EAAMqD,KAAKC,IAAIyH,EAAcV,GAAaR,EAAgBrE,IAC1DmG,EAAWtI,KAAKC,IAAI,EAAGuH,EAAiBD,GACxCgB,EAAYvI,KAAKC,IAAI,EAAGiH,EAAeQ,IAChB,WAAdtD,GAEPtH,EADEuK,EAAUf,EAAa,GAAKiB,EACvBA,EACEF,EAAUf,EAAa,GAAKkB,EAC9BA,EAAiBlB,EAEjBe,EAAUf,EAAa,EAEhC3J,EAAMqD,KAAKC,IAAIyH,EAAcR,EAAe/E,GAC5CmG,EAAWtI,KAAKC,IAAI,EAAGuH,EAAiBD,GACxCgB,EAAYvI,KAAKC,IAAI,EAAG0H,EAAkBX,IACnB,SAAd5C,GACTtH,EAAOkD,KAAKC,IAAIsH,EAAeX,GAAcN,EAAenE,IAE1DxF,EADE2K,EAAUd,EAAc,GAAKkB,EACzBA,EACGJ,EAAUd,EAAc,GAAKmB,EAChCA,EAAkBnB,EAElBc,EAAUd,EAAc,EAEhC8B,EAAWtI,KAAKC,IAAI,EAAG8G,EAAcQ,GACrCgB,EAAYvI,KAAKC,IAAI,EAAG0H,EAAkBD,IACnB,UAAdtD,IACTtH,EAAOkD,KAAKC,IAAIsH,EAAeR,EAAc5E,GAE3CxF,EADE2K,EAAUd,EAAc,GAAKkB,EACzBA,EACGJ,EAAUd,EAAc,GAAKmB,EAChCA,EAAkBnB,EAElBc,EAAUd,EAAc,EAEhC8B,EAAWtI,KAAKC,IAAI,EAAGuH,EAAiBZ,GACxC2B,EAAYvI,KAAKC,IAAI,EAAG0H,EAAkBD,IAG1B,SAAdtD,GAAyBtH,IAASxB,EAAKkN,YAAc7L,IAAQrB,EAAKmN,WACzCH,IAAaF,GAAeG,IAAcF,IACrEpR,KAAKyR,iBAAiBtE,GACtB9I,EAAK0H,MAAMC,YAAY,WAAY,YACnC3H,EAAK0H,MAAMC,YAAY,OAAQnG,EAAO,WACxB,IAAVF,EACFtB,EAAK0H,MAAMC,YAAY,QAASrG,EAAQ,MAExCtB,EAAK0H,MAAM2F,eAAe,SAE5BrN,EAAK0H,MAAMC,YAAY,MAAOtG,EAAM,WACrB,IAAXE,EACFvB,EAAK0H,MAAMC,YAAY,SAAUpG,EAAS,MAE1CvB,EAAK0H,MAAM2F,eAAe,UAE5BrN,EAAK0H,MAAMC,YAAY,YAAaqF,EAAW,MAC/ChN,EAAK0H,MAAMC,YAAY,aAAcsF,EAAY,MACjDtR,KAAK2R,eAAexE,GACpBnN,KAAK4R,gBAAgBzE,IAGhBA,GAGCtC,EAAArJ,UAAAiQ,iBAAV,SAA2BtE,GACzBnN,KAAKyM,aAAY,SAAUC,QACa,IAAlCA,EAAamF,kBACfnF,EAAamF,iBAAiB1E,EAAWnN,UAKrC6K,EAAArJ,UAAAmQ,eAAV,SAAyBxE,KAIftC,EAAArJ,UAAAoQ,gBAAV,SAA0BzE,GACxBnN,KAAK8M,YAAW,SAAUJ,QACa,IAAjCA,EAAaoF,iBACfpF,EAAaoF,gBAAgB3E,EAAWnN,UAMpC6K,EAAArJ,UAAA0N,WAAV,SAAqBhD,EAAciD,EAAoB3D,EAClC2B,GACnB,IAAM9I,EAAOrE,KAAKyI,MACZ2G,EAAS/K,EAAKqE,aACpB,GAAe,OAAX0G,EAAJ,CAGA,IAAM2C,EAAYvG,EAAM/C,MAGlB+G,EAAeJ,EAAOzG,wBACtB8G,EAAaD,EAAa3J,KAC1B6J,EAAYF,EAAa9J,IAGzBiK,EAAaR,EAAYtJ,KAAO+J,OAAOC,YAAcJ,EACrDM,EAAYZ,EAAYzJ,IAAMkK,OAAOI,YAAcN,EAGnDU,EAAUT,EAFIR,EAAY1H,MAES,EACnC4I,EAAUN,EAFKZ,EAAYvH,OAEQ,EAEnC2J,EAAalN,EAAKkN,WAClBS,EAAcT,EAAalN,EAAKiL,YAChCkC,EAAYnN,EAAKmN,UACjBS,EAAeT,EAAYnN,EAAKiJ,aAEhChN,EAAkBN,KAAKM,mBAAqBD,EAAAA,MAAM6R,cAClDrK,EAAe7H,KAAK6H,eACpBsK,EAAStK,aAAwBH,EAAAA,OAASG,EAAakJ,UAAY,EAEnE/F,EAAahL,KAAKgL,WAAW1I,MAAOyO,UACpC7F,EAAclL,KAAKkL,YAAY5I,MAAOyO,UAEtCqB,EAAYb,EAAaY,EAASnH,EAAW,EAC7CqH,EAAYL,EAAcG,EAASnH,EAAW,EAC9CsH,EAAYd,EAAYW,EAASnH,EAAW,EAC5CuH,EAAYN,EAAeE,EAASnH,EAAW,EAErD+G,EAAUhG,MAAM2F,eAAe,OAC/BK,EAAUhG,MAAM2F,eAAe,SAC/BK,EAAUhG,MAAM2F,eAAe,UAC/BK,EAAUhG,MAAM2F,eAAe,QAC/BK,EAAUhG,MAAM2F,eAAe,qBAC/BK,EAAUhG,MAAM2F,eAAe,qBAC/BK,EAAUhG,MAAM2F,eAAe,qBAC/BK,EAAUhG,MAAM2F,eAAe,sBAC/BK,EAAUhG,MAAM2F,eAAe,sBAC/BK,EAAUhG,MAAM2F,eAAe,sBAC/BK,EAAUhG,MAAM2F,eAAe,oBAC/BK,EAAUhG,MAAM2F,eAAe,oBAC/BK,EAAUhG,MAAM2F,eAAe,oBAC/BK,EAAUhG,MAAM2F,eAAe,uBAC/BK,EAAUhG,MAAM2F,eAAe,uBAC/BK,EAAUhG,MAAM2F,eAAe,uBAEb,SAAdvE,GAAsC,UAAdA,GAAuC,UAAdA,GAAuC,SAAdA,EAE5E4E,EAAUhG,MAAMC,YAAY,UAAW,QAC9BwF,EAAYtG,GAAemF,GAC/B+B,GAAahC,GAAWA,GAAWiC,GAExCN,EAAUhG,MAAMC,YAAY,UAAW,SACvC+F,EAAUhG,MAAMC,YAAY,OAASd,EAAe,MACpD6G,EAAUhG,MAAMC,YAAY,OAASoE,EAAUmB,EAAavG,EAAW,EAAK,MAC5E+G,EAAUhG,MAAMC,YAAY,oBAAsBhB,EAAW,EAAK,MAClE+G,EAAUhG,MAAMC,YAAY,oBAAqB,SACjD+F,EAAUhG,MAAMC,YAAY,oBAAqB,eACjD+F,EAAUhG,MAAMC,YAAY,qBAAuBhB,EAAW,EAAK,MACnE+G,EAAUhG,MAAMC,YAAY,qBAAsB,SAClD+F,EAAUhG,MAAMC,YAAY,qBAAsB,eAClD+F,EAAUhG,MAAMC,YAAY,sBAAuBd,EAAc,MACjE6G,EAAUhG,MAAMC,YAAY,sBAAuB,SACnD+F,EAAUhG,MAAMC,YAAY,sBAAuB1L,EAAgBkS,aAC1DP,EAAe/G,GAAemF,GAClC+B,GAAahC,GAAWA,GAAWiC,GAExCN,EAAUhG,MAAMC,YAAY,UAAW,SACvC+F,EAAUhG,MAAMC,YAAY,UAAYd,EAAe,MACvD6G,EAAUhG,MAAMC,YAAY,OAASoE,EAAUmB,EAAavG,EAAW,EAAK,MAC5E+G,EAAUhG,MAAMC,YAAY,oBAAsBhB,EAAW,EAAK,MAClE+G,EAAUhG,MAAMC,YAAY,oBAAqB,SACjD+F,EAAUhG,MAAMC,YAAY,oBAAqB,eACjD+F,EAAUhG,MAAMC,YAAY,qBAAuBhB,EAAW,EAAK,MACnE+G,EAAUhG,MAAMC,YAAY,qBAAsB,SAClD+F,EAAUhG,MAAMC,YAAY,qBAAsB,eAClD+F,EAAUhG,MAAMC,YAAY,mBAAoBd,EAAc,MAC9D6G,EAAUhG,MAAMC,YAAY,mBAAoB,SAChD+F,EAAUhG,MAAMC,YAAY,mBAAoB1L,EAAgBkS,aACvDjB,EAAarG,GAAekF,GAChCkC,GAAajC,GAAWA,GAAWkC,GAExCR,EAAUhG,MAAMC,YAAY,UAAW,SACvC+F,EAAUhG,MAAMC,YAAY,QAAUd,EAAe,MACrD6G,EAAUhG,MAAMC,YAAY,MAAQqE,EAAUmB,EAAYxG,EAAW,EAAK,MAC1E+G,EAAUhG,MAAMC,YAAY,mBAAqBhB,EAAW,EAAK,MACjE+G,EAAUhG,MAAMC,YAAY,mBAAoB,SAChD+F,EAAUhG,MAAMC,YAAY,mBAAoB,eAChD+F,EAAUhG,MAAMC,YAAY,sBAAwBhB,EAAW,EAAK,MACpE+G,EAAUhG,MAAMC,YAAY,sBAAuB,SACnD+F,EAAUhG,MAAMC,YAAY,sBAAuB,eACnD+F,EAAUhG,MAAMC,YAAY,qBAAsBd,EAAc,MAChE6G,EAAUhG,MAAMC,YAAY,qBAAsB,SAClD+F,EAAUhG,MAAMC,YAAY,qBAAsB1L,EAAgBkS,aACzDR,EAAc9G,GAAekF,GACjCkC,GAAajC,GAAWA,GAAWkC,GAExCR,EAAUhG,MAAMC,YAAY,UAAW,SACvC+F,EAAUhG,MAAMC,YAAY,SAAWd,EAAe,MACtD6G,EAAUhG,MAAMC,YAAY,MAAQqE,EAAUmB,EAAYxG,EAAW,EAAK,MAC1E+G,EAAUhG,MAAMC,YAAY,mBAAqBhB,EAAW,EAAK,MACjE+G,EAAUhG,MAAMC,YAAY,mBAAoB,SAChD+F,EAAUhG,MAAMC,YAAY,mBAAoB,eAChD+F,EAAUhG,MAAMC,YAAY,sBAAwBhB,EAAW,EAAK,MACpE+G,EAAUhG,MAAMC,YAAY,sBAAuB,SACnD+F,EAAUhG,MAAMC,YAAY,sBAAuB,eACnD+F,EAAUhG,MAAMC,YAAY,oBAAqBd,EAAc,MAC/D6G,EAAUhG,MAAMC,YAAY,oBAAqB,SACjD+F,EAAUhG,MAAMC,YAAY,oBAAqB1L,EAAgBkS,aAGjET,EAAUhG,MAAMC,YAAY,UAAW,UAI3CnB,EAAArJ,UAAAiR,aAAA,SAAa/Q,GACX1B,KAAKoN,SAGPvC,EAAArJ,UAAAkR,aAAA,SAAahR,GACX1B,KAAKoN,SAGPvC,EAAArJ,UAAAmR,cAAA,SAAchE,EAA0BjN,GACtC1B,KAAKoN,SAGPvC,EAAArJ,UAAAoR,cAAA,SAAcjE,EAA0BjN,GACtC1B,KAAKoN,SAGPvC,EAAArJ,UAAAqR,oBAAA,SAAoBC,EAAcxQ,EAAgBZ,GAChD1B,KAAKoN,SAGPvC,EAAArJ,UAAAuR,gBAAA,SAAgBD,EAAcxQ,EAAgB0Q,EAA8BtR,GAC1E1B,KAAKoN,SAnmBP7J,EAAA,CADC0P,EAAAA,eAAevL,EAAAA,0CAIhBnE,EAAA,CADC0P,EAAAA,eAAevL,EAAAA,2CAmmBlBmD,GAppBiCxD,EAAAA,wBCjBjC,SAAA6L,mDAqCA,OArCgF/P,EAAA+P,EAAA3O,GAC9ErC,OAAAC,eAAI+Q,EAAA1R,UAAA,SAAM,KAAV,WACE,IAAME,EAAO1B,KAAKmT,MAClB,OAAgB,OAATzR,EAAgBA,EAAKwK,OAAS,sCAGvCgH,EAAA1R,UAAAmL,qBAAA,SAAqBT,EAAqBxK,KAI1CwR,EAAA1R,UAAAuL,oBAAA,SAAoBb,EAAqBxK,KAIzCwR,EAAA1R,UAAAqQ,iBAAA,SAAiB1E,EAA6BzL,KAI9CwR,EAAA1R,UAAAsQ,gBAAA,SAAgB3E,EAA6BzL,KAI7CwR,EAAA1R,UAAA+L,gBAAA,SAAgB7L,KAIhBwR,EAAA1R,UAAAiM,eAAA,SAAe/L,KAIfwR,EAAA1R,UAAAkM,gBAAA,SAAgBhM,KAIhBwR,EAAA1R,UAAAmM,eAAA,SAAejM,KAGjBwR,GArCgFE,EAAAA,kCC2B9E,SAAAC,EAAYhP,GAAZ,IAAAC,EACEC,EAAAC,KAAAxE,KAAMqE,IAAKrE,YACXsE,EAAKgP,eAAetN,aAAa0B,EAAAA,OAAO6L,GAAG,KAC3CjP,EAAKkP,cAAcxN,aAAa0B,EAAAA,OAAO6L,GAAG,MAC1CjP,EAAKmP,YAAYxI,SAAS,GAC1B3G,EAAKmP,YAAYC,OAASpP,EAAKqP,kBAAkB3O,KAAKV,GACtDA,EAAKsP,cAAc3I,SAAS,GAC5B3G,EAAKsP,cAAcF,OAASpP,EAAKuP,oBAAoB7O,KAAKV,GAC1DA,EAAKwP,iBAAmB,OACxBxP,EAAKyP,aAAe,SACpBzP,EAAK0P,kBAAoBrP,EAAAA,WAAWC,SAAS,IAAKC,EAAAA,KAAKC,YA2c3D,OA7dgC3B,EAAAkQ,EAAA9O,GAqBpB8O,EAAA7R,UAAA8D,SAAV,SAAmBjB,GACjBrE,KAAKuF,SAAS,UACTC,QAAQ,QACRyO,cAAc,UACdC,UAAU,UACVC,UAAU,QACVC,oBAAoB,WACpBC,wBAAwB,SACxB/T,gBAAgB,YAGvB4B,OAAAC,eAAIkR,EAAA7R,UAAA,iBAAc,KAAlB,WACE,OAAOxB,KAAK6J,iDAGd3H,OAAAC,eAAIkR,EAAA7R,UAAA,cAAW,KAAf,WACE,OAAOxB,KAAK+T,8CAGdV,EAAA7R,UAAAyE,QAAA,WACE,MAA6B,UAAtBjG,KAAK+T,cAAkD,YAAtB/T,KAAK+T,cAG/CV,EAAA7R,UAAA0E,SAAA,WACE,MAA6B,WAAtBlG,KAAK+T,cAAmD,WAAtB/T,KAAK+T,cAGhDV,EAAA7R,UAAA8S,YAAA,WACE,MAA6B,cAAtBtU,KAAK+T,cAAsD,eAAtB/T,KAAK+T,cAiBnDV,EAAA7R,UAAA+S,gBAAA,SAAgBC,GACd,IAAMC,EAAezU,KAAK8T,iBAC1B,YAAqB,IAAjBU,EACKC,GAEHA,IAAiBD,IACnBxU,KAAK0U,uBAAuBF,EAAcC,GAC1CzU,KAAK8T,iBAAmBU,EACxBxU,KAAK2U,qBAAqBH,EAAcC,GACxCzU,KAAK4U,sBAAsBJ,EAAcC,IAEpCzU,OAIXqT,EAAA7R,UAAAqT,aAAA,WACE,MAAiC,QAA1B7U,KAAK8T,kBAAwD,WAA1B9T,KAAK8T,kBAGjDT,EAAA7R,UAAAsT,WAAA,WACE,MAAiC,SAA1B9U,KAAK8T,kBAAyD,UAA1B9T,KAAK8T,kBAMxCT,EAAA7R,UAAAkT,uBAAV,SAAiCF,EAA+BC,GAC9DzU,KAAKyM,aAAY,SAAUC,QACmB,IAAxCA,EAAaqI,wBACfrI,EAAaqI,uBAAuBP,EAAcC,EAAczU,UAK5DqT,EAAA7R,UAAAmT,qBAAV,SAA+BH,EAA+BC,GAC5DzU,KAAK4M,cAAcjB,EAAAA,KAAKkB,cAGhBwG,EAAA7R,UAAAoT,sBAAV,SAAgCJ,EAA+BC,GAC7DzU,KAAK8M,YAAW,SAAUJ,QACmB,IAAvCA,EAAasI,uBACftI,EAAasI,sBAAsBR,EAAcC,EAAczU,UAM3DqT,EAAA7R,UAAAmS,kBAAV,SAA4BF,GAC1B,IAAMc,EAAkBvU,KAAK8T,iBACL,QAApBS,EACFvU,KAAKiV,qBAAqBxB,GACG,UAApBc,EACTvU,KAAKkV,uBAAuBzB,GACC,WAApBc,EACTvU,KAAKmV,wBAAwB1B,GACA,SAApBc,GACTvU,KAAKoV,sBAAsB3B,IAKrBJ,EAAA7R,UAAAyT,qBAAV,SAA+BxB,GAC7BzT,KAAK0F,IAAIM,aAAa0B,EAAAA,OAAO6L,IAAIE,EAAc,GAAKzT,KAAKyI,MAAM4M,gBAIvDhC,EAAA7R,UAAA0T,uBAAV,SAAiCzB,GAC/BzT,KAAK2F,MAAMK,aAAa0B,EAAAA,OAAO6L,IAAIE,EAAc,GAAKzT,KAAKyI,MAAM6M,eAIzDjC,EAAA7R,UAAA2T,wBAAV,SAAkC1B,GAChCzT,KAAK4F,OAAOI,aAAa0B,EAAAA,OAAO6L,IAAIE,EAAc,GAAKzT,KAAKyI,MAAM4M,gBAI1DhC,EAAA7R,UAAA4T,sBAAV,SAAgC3B,GAC9BzT,KAAK6F,KAAKG,aAAa0B,EAAAA,OAAO6L,IAAIE,EAAc,GAAKzT,KAAKyI,MAAM6M,eAIxDjC,EAAA7R,UAAAqS,oBAAV,SAA8BD,GAC5B,GAAI5T,KAAK8U,aAAc,CACrB,IAAMxB,EAAiBtT,KAAKsT,eAAehR,MACrCkR,EAAgBxT,KAAKwT,cAAclR,MACnCmF,EAAQ6L,EAAeiC,MAAM,EAAI3B,GAAe4B,KAAKhC,EAAc+B,MAAM3B,IAC/E5T,KAAKyH,MAAMzB,aAAayB,KAIlB4L,EAAA7R,UAAAkN,SAAV,SAAmBC,GACjBpK,EAAA/C,UAAMkN,SAAQlK,KAAAxE,KAAC2O,GACf3O,KAAKoN,MAAMuB,GACmB,WAA1BA,EAAY8G,WACdzV,KAAK0V,iBAAiBrV,EAAAA,MAAM6R,eAC5BlS,KAAK2V,UAAU1K,SAASvK,EAAAA,UAAUC,GAAG,EAAG,EAAG,EAAG,EAAGN,EAAAA,MAAMO,MAAM,QAE7DZ,KAAK0V,iBAAiBrV,EAAAA,MAAMO,SAC5BZ,KAAK2V,UAAU1K,cAAS,KAIlBoI,EAAA7R,UAAA4L,MAAV,SAAgBuB,GACd,IAAM4F,EAAkBvU,KAAK8T,iBACL,QAApBS,EACFvU,KAAK4V,SAASjH,GACe,UAApB4F,EACTvU,KAAK6V,WAAWlH,GACa,WAApB4F,EACTvU,KAAK8V,YAAYnH,GACY,SAApB4F,GACTvU,KAAK+V,UAAUpH,IAKT0E,EAAA7R,UAAAoU,SAAV,SAAmBjH,GACjB3O,KAAKuF,SAAS,cACTyQ,YAAY,gBACZA,YAAY,iBACZA,YAAY,eAEjBhW,KAAKyF,SAASO,aAAa,SAC3BhG,KAAKyH,MAAMzB,kBAAa,GACxBhG,KAAK4H,OAAO5B,kBAAa,GACzBhG,KAAK0F,IAAIM,kBAAa,GACtBhG,KAAK2F,MAAMK,aAAa0B,EAAAA,OAAOC,QAC/B3H,KAAK4F,OAAOI,kBAAa,GACzBhG,KAAK6F,KAAKG,aAAa0B,EAAAA,OAAOC,QAC9B3H,KAAKiV,qBAAqBjV,KAAKyT,YAAYnR,OAE3C,IAAM2T,EAAWtH,EAAYuH,SAASD,SACtCjW,KAAKmW,WAAWlL,SAAS,CACvBmL,SAAU,EACVC,WAAYJ,EAASI,WACrBC,YAAa,EACbC,UAAWN,EAASM,YAGlBvW,KAAKsU,eACPtU,KAAKwW,UAKCnD,EAAA7R,UAAAqU,WAAV,SAAqBlH,GACnB3O,KAAKgW,YAAY,cACZzQ,SAAS,gBACTyQ,YAAY,iBACZA,YAAY,eAEjBhW,KAAKyF,SAASO,aAAa,SAC3BhG,KAAKyH,MAAMzB,kBAAa,GACxBhG,KAAK4H,OAAO5B,kBAAa,GACzBhG,KAAK0F,IAAIM,aAAa0B,EAAAA,OAAOC,QAC7B3H,KAAK2F,MAAMK,kBAAa,GACxBhG,KAAK4F,OAAOI,aAAa0B,EAAAA,OAAOC,QAChC3H,KAAK6F,KAAKG,kBAAa,GACvBhG,KAAKkV,uBAAuBlV,KAAKyT,YAAYnR,OAC7CtC,KAAK6T,oBAAoB7T,KAAK4T,cAActR,OAE5C,IAAM2T,EAAWtH,EAAYuH,SAASD,SACtCjW,KAAKyW,WAAWzQ,aAAa0B,EAAAA,OAAO6L,GAAG0C,EAASG,WAChDpW,KAAK0W,cAAc1Q,aAAa0B,EAAAA,OAAO6L,GAAG0C,EAASK,cACnDtW,KAAKmW,WAAWlL,SAAS,CACvBmL,SAAU,EACVC,WAAYJ,EAASI,WACrBC,YAAa,EACbC,UAAW,KAKLlD,EAAA7R,UAAAsU,YAAV,SAAsBnH,GACpB3O,KAAKgW,YAAY,cACZA,YAAY,gBACZzQ,SAAS,iBACTyQ,YAAY,eAEjBhW,KAAKyF,SAASO,aAAa,SAC3BhG,KAAKyH,MAAMzB,kBAAa,GACxBhG,KAAK4H,OAAO5B,kBAAa,GACzBhG,KAAK0F,IAAIM,kBAAa,GACtBhG,KAAK2F,MAAMK,aAAa0B,EAAAA,OAAOC,QAC/B3H,KAAK4F,OAAOI,kBAAa,GACzBhG,KAAK6F,KAAKG,aAAa0B,EAAAA,OAAOC,QAC9B3H,KAAKmV,wBAAwBnV,KAAKyT,YAAYnR,OAE9C,IAAM2T,EAAWtH,EAAYuH,SAASD,SACtCjW,KAAKmW,WAAWlL,SAAS,CACvBmL,SAAU,EACVC,WAAYJ,EAASI,WACrBC,YAAa,EACbC,UAAWN,EAASM,YAGlBvW,KAAKsU,eACPtU,KAAKwW,UAKCnD,EAAA7R,UAAAuU,UAAV,SAAoBpH,GAClB3O,KAAKgW,YAAY,cACZA,YAAY,gBACZA,YAAY,iBACZzQ,SAAS,eAEdvF,KAAKyF,SAASO,aAAa,SAC3BhG,KAAKyH,MAAMzB,kBAAa,GACxBhG,KAAK4H,OAAO5B,kBAAa,GACzBhG,KAAK0F,IAAIM,aAAa0B,EAAAA,OAAOC,QAC7B3H,KAAK2F,MAAMK,kBAAa,GACxBhG,KAAK4F,OAAOI,aAAa0B,EAAAA,OAAOC,QAChC3H,KAAK6F,KAAKG,kBAAa,GACvBhG,KAAKoV,sBAAsBpV,KAAKyT,YAAYnR,OAC5CtC,KAAK6T,oBAAoB7T,KAAK4T,cAActR,OAE5C,IAAM2T,EAAWtH,EAAYuH,SAASD,SACtCjW,KAAKyW,WAAWzQ,aAAa0B,EAAAA,OAAO6L,GAAG0C,EAASG,WAChDpW,KAAK0W,cAAc1Q,aAAa0B,EAAAA,OAAO6L,GAAG0C,EAASK,cACnDtW,KAAKmW,WAAWlL,SAAS,CACvBmL,SAAU,EACVC,WAAY,EACZC,YAAa,EACbC,UAAWN,EAASM,aAIxBrU,OAAAC,eAAIkR,EAAA7R,UAAA,aAAU,KAAd,WACE,IAAMmV,EAAc3W,KAAK+T,aACzB,MAAoB,cAAhB4C,GAA+C,eAAhBA,EAC1B,QAEAA,mCAIXzU,OAAAC,eAAIkR,EAAA7R,UAAA,YAAS,KAAb,WACE,OAAOxB,sCAGTqT,EAAA7R,UAAAyL,UAAA,SAAU1G,GACRvG,KAAKqG,KAAKE,IAGZ8M,EAAA7R,UAAA0L,UAAA,SAAU3G,GACRvG,KAAK4G,KAAKL,IAGZ8M,EAAA7R,UAAA6E,KAAA,SAAKE,GACEvG,KAAKiG,WAAwC,IAA3BjG,KAAKyT,YAAYnR,OAA4C,IAA7BtC,KAAK4T,cAActR,QAEtEiE,OADY,IAAVA,IAA8B,IAAVA,EACdvG,KAAKgU,kBAELrP,EAAAA,WAAW6B,SAASD,GAE9BvG,KAAKyG,WACS,OAAVF,EACFvG,KAAK4T,cAAc,EAAGrN,GACjBkN,YAAY,EAAGlN,EAAMG,MAAM1G,KAAK2G,QAAQ3B,KAAKhF,SAElDA,KAAK4T,cAAc,GACdH,YAAY,GACjBzT,KAAK2G,aAKD0M,EAAA7R,UAAAiF,SAAV,WACEzG,KAAKyM,aAAY,SAAUC,QACW,IAAhCA,EAAakK,gBACflK,EAAakK,eAAe5W,SAGhCA,KAAK+T,aAAe,UACpB/T,KAAKwF,QAAQ,SAGL6N,EAAA7R,UAAAmF,QAAV,WACE3G,KAAK+T,aAAe,QACpB/T,KAAK8M,YAAW,SAAUJ,QACW,IAA/BA,EAAamK,eACfnK,EAAamK,cAAc7W,UAKjCqT,EAAA7R,UAAAoF,KAAA,SAAKL,GACEvG,KAAKkG,YAAyC,IAA3BlG,KAAKyT,YAAYnR,QAErCiE,OADY,IAAVA,IAA8B,IAAVA,EACdvG,KAAKgU,kBAELrP,EAAAA,WAAW6B,SAASD,GAE9BvG,KAAK6G,WACS,OAAVN,EACFvG,KAAKyT,YAAY,EAAGlN,EAAMG,MAAM1G,KAAK8G,QAAQ9B,KAAKhF,SAElDA,KAAKyT,YAAY,GACjBzT,KAAK8G,aAKDuM,EAAA7R,UAAAqF,SAAV,WACE7G,KAAKyM,aAAY,SAAUC,QACW,IAAhCA,EAAaoK,gBACfpK,EAAaoK,eAAe9W,SAGhCA,KAAK+T,aAAe,UAGZV,EAAA7R,UAAAsF,QAAV,WACE9G,KAAKwF,QAAQ,QACbxF,KAAK+T,aAAe,SACpB/T,KAAK8M,YAAW,SAAUJ,QACW,IAA/BA,EAAaqK,eACfrK,EAAaqK,cAAc/W,UAKjCqT,EAAA7R,UAAAgV,OAAA,SAAOjQ,GACAvG,KAAKiG,WAAwC,IAA3BjG,KAAKyT,YAAYnR,OAA4C,IAA7BtC,KAAK4T,cAActR,QAEtEiE,OADY,IAAVA,IAA8B,IAAVA,EACdvG,KAAKgU,kBAELrP,EAAAA,WAAW6B,SAASD,GAE9BvG,KAAKgX,aACS,OAAVzQ,EACFvG,KAAKyT,YAAY,EAAGlN,GACfqN,cAAc,EAAGrN,EAAMG,MAAM1G,KAAKiX,UAAUjS,KAAKhF,SAEtDA,KAAKyT,YAAY,GACZG,cAAc,GACnB5T,KAAKiX,eAKD5D,EAAA7R,UAAAwV,WAAV,WACEhX,KAAKyM,aAAY,SAAUC,QACa,IAAlCA,EAAawK,kBACfxK,EAAawK,iBAAiBlX,SAGlCA,KAAK+T,aAAe,WAGZV,EAAA7R,UAAAyV,UAAV,WACEjX,KAAK+T,aAAe,QACpB/T,KAAK8M,YAAW,SAAUJ,QACa,IAAjCA,EAAayK,iBACfzK,EAAayK,gBAAgBnX,UAKnCqT,EAAA7R,UAAA4V,SAAA,SAAS7Q,IACHvG,KAAK8U,cAAkB9U,KAAKsU,eAA4C,IAA3BtU,KAAKyT,YAAYnR,OAA4C,IAA7BtC,KAAK4T,cAActR,QAEhGiE,OADY,IAAVA,IAA8B,IAAVA,EACdvG,KAAKgU,kBAELrP,EAAAA,WAAW6B,SAASD,GAE9BvG,KAAKqX,eACS,OAAV9Q,EACFvG,KAAKyT,YAAY,EAAGlN,GACfqN,cAAc,EAAGrN,EAAMG,MAAM1G,KAAKsX,YAAYtS,KAAKhF,SAExDA,KAAKyT,YAAY,GACZG,cAAc,GACnB5T,KAAKsX,iBAKDjE,EAAA7R,UAAA6V,aAAV,WACErX,KAAKyM,aAAY,SAAUC,QACe,IAApCA,EAAa6K,oBACf7K,EAAa6K,mBAAmBvX,SAGpCA,KAAK+T,aAAe,aACpB/T,KAAKwF,QAAQ,SAGL6N,EAAA7R,UAAA8V,YAAV,WACEtX,KAAK+T,aAAe,YACpB/T,KAAK8M,YAAW,SAAUJ,QACe,IAAnCA,EAAa8K,mBACf9K,EAAa8K,kBAAkBxX,UAKrCqT,EAAA7R,UAAAiW,OAAA,SAAOlR,GACL,IAAMoQ,EAAc3W,KAAK+T,aACL,WAAhB4C,GAA4C,WAAhBA,EAC9B3W,KAAKqG,KAAKE,GACe,cAAhBoQ,GAA+C,eAAhBA,EACxC3W,KAAKwW,OAAOjQ,GACgB,WAAnBvG,KAAKyV,UACdzV,KAAK4G,KAAKL,GAEVvG,KAAKoX,SAAS7Q,IAralBhD,EAAA,CADC0P,EAAAA,eAAevL,EAAAA,8CAIhBnE,EAAA,CADC0P,EAAAA,eAAevL,EAAAA,6CAIhBnE,EAAA,CADC0P,EAAAA,eAAeyE,2CAIhBnU,EAAA,CADC0P,EAAAA,eAAeyE,6CA6BhBnU,EAAA,CADCoU,EAAAA,4CAoYHtE,GA7dgChM,EAAAA,wBCnBhC,SAAAuQ,mDAwCA,OAxC6EzU,EAAAyU,EAAArT,GAC3EqT,EAAApW,UAAAuT,uBAAA,SAAuBP,EAA+BC,EAA+B/S,KAIrFkW,EAAApW,UAAAwT,sBAAA,SAAsBR,EAA+BC,EAA+B/S,KAIpFkW,EAAApW,UAAAoV,eAAA,SAAelV,KAIfkW,EAAApW,UAAAqV,cAAA,SAAcnV,KAIdkW,EAAApW,UAAAsV,eAAA,SAAepV,KAIfkW,EAAApW,UAAAuV,cAAA,SAAcrV,KAIdkW,EAAApW,UAAA0V,iBAAA,SAAiBxV,KAIjBkW,EAAApW,UAAA2V,gBAAA,SAAgBzV,KAIhBkW,EAAApW,UAAA+V,mBAAA,SAAmB7V,KAInBkW,EAAApW,UAAAgW,kBAAA,SAAkB9V,KAGpBkW,GAxC6ExE,EAAAA,kCCG3E,SAAAyE,EAAYxT,GAAZ,IAAAC,EACEC,EAAAC,KAAAxE,KAAMqE,IAAKrE,YACXsE,EAAKS,QAAUT,EAAKS,QAAQC,KAAKV,GACjCA,EAAKwT,YAAc,KACnBxT,EAAKyT,iBAwFT,OAhGkC5U,EAAA0U,EAAAtT,GAWtBsT,EAAArW,UAAA8D,SAAV,SAAmBjB,GACjBrE,KAAKuF,SAAS,iBACTC,QAAQ,QACRwS,eAAe,UACfC,WAAW,UACXxQ,MAAM,IACNG,OAAO,IACPsQ,WAAW,QACXnS,OAAO,YAGJ8R,EAAArW,UAAAuW,aAAV,WACE/X,KAAKmY,OAAOnY,KAAKoY,aAAc,SAGvBP,EAAArW,UAAA4W,WAAV,WACE,IAAMC,EAAOC,EAAAA,QAAQhV,OAAO,OACvBmE,MAAM,IACNG,OAAO,IACP2Q,QAAQ,aACRC,OAAO,WACPC,YAAY,GACZC,cAAc,SAEnB,OADAL,EAAKF,OAAO,QAAQvV,EAAE,2BACfyV,GAGTnW,OAAAC,eAAI0V,EAAArW,UAAA,iBAAc,KAAlB,WACE,OAAOxB,KAAK6J,iDAGd3H,OAAAC,eAAI0V,EAAArW,UAAA,aAAU,KAAd,WACE,OAAOxB,KAAK8X,6CAGdD,EAAArW,UAAAmX,cAAA,SAAcC,GACZ5Y,KAAK8X,YAAcc,GAGrB1W,OAAAC,eAAI0V,EAAArW,UAAA,WAAQ,KAAZ,WACE,IAAMqX,EAAY7Y,KAAKiP,aAAa,QACpC,OAAO4J,aAAqBxR,EAAAA,SAAWwR,EAAY,sCAG3ChB,EAAArW,UAAAsX,QAAV,WACEvU,EAAA/C,UAAMsX,QAAOtU,KAAAxE,MACbA,KAAKmF,GAAG,QAASnF,KAAK+E,UAGd8S,EAAArW,UAAAwG,UAAV,WACEhI,KAAK+Y,IAAI,QAAS/Y,KAAK+E,SACvBR,EAAA/C,UAAMwG,UAASxD,KAAAxE,OAGP6X,EAAArW,UAAAwX,kBAAV,SAA4BH,EAAiBI,GAC3C1U,EAAA/C,UAAMwX,kBAAiBxU,KAAAxE,KAAC6Y,EAAWI,GAElB,SADAJ,EAAUnV,MACCmV,aAAqBP,EAAAA,SAAWO,aAAqBxR,EAAAA,WAC/ErH,KAAKkZ,aAAaL,IAIZhB,EAAArW,UAAA2X,kBAAV,SAA4BN,GAET,SADAA,EAAUnV,MACCmV,aAAqBP,EAAAA,SAAWO,aAAqBxR,EAAAA,WAC/ErH,KAAKoZ,aAAaP,GAEpBtU,EAAA/C,UAAM2X,kBAAiB3U,KAAAxE,KAAC6Y,IAGhBhB,EAAArW,UAAA0X,aAAV,SAAuBb,KAIbR,EAAArW,UAAA4X,aAAV,SAAuBf,KAIbR,EAAArW,UAAAuD,QAAV,SAAkBgC,GAChBA,EAAMG,kBACN,IAAM0R,EAAa5Y,KAAK8X,YACL,OAAfc,GACFA,EAAWnB,UAGjBI,GAhGkCxQ,EAAAA,wBCClC,SAAAgS,mDAiCA,OAjC6BlW,EAAAkW,EAAA9U,GAC3BrC,OAAAC,eAAIkX,EAAA7X,UAAA,iBAAc,KAAlB,WACE,OAAOxB,KAAK6J,iDAUJwP,EAAA7X,UAAA8X,YAAV,WAEE,MAAoB,SADAtZ,KAAKkW,SAASqD,YAEzBtX,EAAMuX,KAENvX,EAAMwX,OAIPJ,EAAA7X,UAAAkY,SAAV,SAAmB/K,GACjBpK,EAAA/C,UAAMkY,SAAQlV,KAAAxE,KAAC2O,GACf3O,KAAK2Z,gBAAgBhL,EAAYuH,WAGzBmD,EAAA7X,UAAAmY,gBAAV,SAA0BzD,GACpBA,EAASzO,MAAQ,KAAOyO,EAAStO,OAAS,IAC5C5H,KAAK4Z,aAAa,UAElB5Z,KAAK4Z,aAAa,YApBtBrW,EAAA,CALCoU,EAAAA,UAA0B,CACzBkC,KAAM,WACJ,OAAO7Z,KAAKsZ,8CA0BlBD,GAjC6BpS,EAAAA,sBCA7B,SAAA6S,mDACA,OADoE3W,EAAA2W,EAAAvV,GACpEuV,GADoEC,EAAAA,gCCKlE,SAAAC,EAAY3V,UACVE,EAAAC,KAAAxE,KAAMqE,IAAKrE,KAyIf,OA3IkCmD,EAAA6W,EAAAzV,GAKtByV,EAAAxY,UAAA8D,SAAV,SAAmBjB,GACjBE,EAAA/C,UAAM8D,SAAQd,KAAAxE,KAACqE,GACfrE,KAAKuF,SAAS,iBACTE,SAAS,YACTD,QAAQ,QACRwS,eAAe,UACfC,WAAW,UACXxQ,MAAM,IACNG,OAAO,IACPC,aAAa,OACboS,SAAS,UACT/B,WAAW,QACXnS,OAAO,YAGd7D,OAAAC,eAAI6X,EAAAxY,UAAA,iBAAc,KAAlB,WACE,OAAOxB,KAAK6J,iDAMd3H,OAAAC,eAAI6X,EAAAxY,UAAA,gBAAa,KAAjB,WACE,IAAMqX,EAAY7Y,KAAKiP,aAAa,iBACpC,OAAO4J,aAAqBxR,EAAAA,SAAWwR,EAAY,sCAGrD3W,OAAAC,eAAI6X,EAAAxY,UAAA,OAAI,KAAR,WACE,IAAM0Y,EAAgBla,KAAKka,cACrBrB,EAA8B,OAAlBqB,EAAyBA,EAAcjL,aAAa,QAAU,KAChF,OAAO4J,aAAqBP,EAAAA,SAAWO,aAAqBxR,EAAAA,SAAWwR,EAAY,sCAGrFmB,EAAAxY,UAAA2Y,QAAA,SAAQ9B,EAAiC9R,EAA0B6T,QAA1B,IAAA7T,IAAAA,EAAA,WAA0B,IAAA6T,IAAAA,GAAA,GACjE7T,EAAQ5B,EAAAA,WAAW6B,SAASD,GAC5B,IAAM8T,EAAmBra,KAAKiP,aAAa,iBACvCoL,aAA4BhT,EAAAA,WAC9BrH,KAAKsa,mBAAmBD,GACxBA,EAAiBE,OAAO,MACV,OAAVhU,EACF8T,EAAiB/T,QAAQ,EAAGC,EAAMG,MAAM2T,EAAiB7Q,OAAOxE,KAAKqV,KACpDG,UAAUC,EAAAA,UAAUC,OAAOC,EAAAA,MAAMC,IAAIR,GAAO,GAAK,KAAM7T,GAExE8T,EAAiB7Q,UAGrB,IAAMqR,EAAmB7a,KAAK8a,oBAAoBzC,GAC7C/R,QAAQ,GACRA,QAAQ,EAAGC,GACXiU,UAAUC,EAAAA,UAAUC,OAAOC,EAAAA,MAAMC,IAAIR,EAAM,IAAM,MACjDI,UAAUC,EAAAA,UAAUC,OAAOC,EAAAA,MAAMC,IAAI,IAAKrU,GAC/CvG,KAAK+a,gBAAgBF,EAAkB,kBAG/Bb,EAAAxY,UAAAsZ,oBAAV,SAA8BzC,GAC5B,IAAM6B,EAAgB7S,EAAAA,SAAS/D,OAAO,OACjCiC,SAAS,eACTE,SAAS,YACTD,QAAQ,QACRwS,eAAe,UACfC,WAAW,UACXxQ,MAAM,IACNG,OAAO,IACP9B,cAAc,QAInB,OAHa,OAATuS,GACF6B,EAAca,gBAAgB1C,EAAM,QAE/B6B,GAGTF,EAAAxY,UAAAwZ,SAAA,SAAS3Y,GACPrC,KAAKM,gBAAgB0F,aAAa3D,EAAMrB,QAAQT,WAChDP,KAAK2V,UAAU3P,aAAa3D,EAAMf,SAASb,QAE3C,IAAM4X,EAAOrY,KAAKqY,KACdA,aAAgBC,EAAAA,SAClBD,EAAK4C,KAAKjV,aAAa3D,EAAMrB,QAAQR,YAI/BwZ,EAAAxY,UAAAsX,QAAV,WACEvU,EAAA/C,UAAMsX,QAAOtU,KAAAxE,MACbA,KAAK4M,cAAcjB,EAAAA,KAAKuP,cAGhBlB,EAAAxY,UAAA2Z,SAAV,SAAmBxM,GACjBpK,EAAA/C,UAAM2Z,SAAQ3W,KAAAxE,KAAC2O,GACf,IAAMtM,EAAQrC,KAAKqC,MAAM+Y,WACX,IAAV/Y,GACFrC,KAAKgb,SAAS3Y,IAIR2X,EAAAxY,UAAAwX,kBAAV,SAA4BH,EAAiBI,GAC3C1U,EAAA/C,UAAMwX,kBAAiBxU,KAAAxE,KAAC6Y,EAAWI,GAElB,kBADAJ,EAAUnV,KACSmV,aAAqBxR,EAAAA,UACvDrH,KAAKqb,sBAAsBxC,IAIrBmB,EAAAxY,UAAA2X,kBAAV,SAA4BN,GAET,kBADAA,EAAUnV,KACSmV,aAAqBxR,EAAAA,UACvDrH,KAAKsb,sBAAsBzC,GAE7BtU,EAAA/C,UAAM2X,kBAAiB3U,KAAAxE,KAAC6Y,IAGhBmB,EAAAxY,UAAA6Z,sBAAV,SAAgCnB,KAItBF,EAAAxY,UAAA8Z,sBAAV,SAAgCpB,KAItBF,EAAAxY,UAAA+Z,gBAAV,WACE,IAAMlZ,EAAQrC,KAAKqC,MAAM+Y,WACX,IAAV/Y,GACFrC,KAAKM,gBAAgB0F,aAAa3D,EAAMrB,QAAQT,UAAUib,OAAO,IAAMxb,KAAKqK,oBAItE2P,EAAAxY,UAAAia,eAAV,WACE,IAAMpZ,EAAQrC,KAAKqC,MAAM+Y,WACX,IAAV/Y,GACFrC,KAAKM,gBAAgB0F,aAAa3D,EAAMrB,QAAQT,UAAWP,KAAKqK,oBAI1D2P,EAAAxY,UAAA8I,YAAV,SAAsBP,EAAyBhD,KA/G/CxD,EAAA,CADCoU,EAAAA,UAAU,CAAC+D,SAAS,iCAmHvB1B,GA3IkCpQ,iBCMhC,SAAA+R,EAAYtX,UACVE,EAAAC,KAAAxE,KAAMqE,IAAKrE,KA2Hf,OA7HgCmD,EAAAwY,EAAApX,GAKpBoX,EAAAna,UAAA8D,SAAV,SAAmBjB,GACjBrE,KAAKuF,SAAS,eACTE,SAAS,YACTD,QAAQ,QACRwS,eAAe,UACfC,WAAW,UACXxQ,MAAM,IACNG,OAAO,IACPC,aAAa,OACbqQ,WAAW,QACXnS,OAAO,YAGd7D,OAAAC,eAAIwZ,EAAAna,UAAA,iBAAc,KAAlB,WACE,OAAOxB,KAAK6J,iDAYd3H,OAAAC,eAAIwZ,EAAAna,UAAA,OAAI,KAAR,WACE,IAAMqX,EAAY7Y,KAAKiP,aAAa,QACpC,OAAO4J,aAAqBP,EAAAA,SAAWO,aAAqBxR,EAAAA,SAAWwR,EAAY,sCAGrF3W,OAAAC,eAAIwZ,EAAAna,UAAA,QAAK,KAAT,WACE,IAAMqX,EAAY7Y,KAAKiP,aAAa,SACpC,OAAO4J,aAAqBxR,EAAAA,SAAWwR,EAAY,sCAGrD8C,EAAAna,UAAAwZ,SAAA,SAAS3Y,GACPrC,KAAKM,gBAAgB0F,aAAa3D,EAAMnB,UAAUX,WAClDP,KAAK2V,UAAU3P,aAAa3D,EAAMf,SAASb,QAC3CT,KAAK4b,WAAW5V,aAAa3D,EAAMnB,UAAUX,UAAUib,OAAO,KAE9D,IAAMnD,EAAOrY,KAAKqY,KACdA,aAAgBC,EAAAA,SAClBD,EAAK4C,KAAKjV,aAAa3D,EAAMnB,UAAUV,YAIjCmb,EAAAna,UAAAsX,QAAV,WACE9Y,KAAK4M,cAAcjB,EAAAA,KAAKuP,cAGhBS,EAAAna,UAAA2M,aAAV,SAAuBC,GACrB,IAAIC,EAAkB,EAKtB,OAJ0C,IAArCD,EAAczC,EAAAA,KAAK4C,gBACtBF,GAAmB1C,EAAAA,KAAKkB,aAE1BwB,GAAmB9J,EAAA/C,UAAM2M,aAAY3J,KAAAxE,KAACoO,EAAcC,IAI5CsN,EAAAna,UAAA2Z,SAAV,SAAmBxM,GACjBpK,EAAA/C,UAAM2Z,SAAQ3W,KAAAxE,KAAC2O,GACf,IAAMtM,EAAQrC,KAAKqC,MAAM+Y,WACX,IAAV/Y,GACFrC,KAAKgb,SAAS3Y,IAIRsZ,EAAAna,UAAAkN,SAAV,SAAmBC,GACjBpK,EAAA/C,UAAMkN,SAAQlK,KAAAxE,KAAC2O,GACf,IAAMkN,EAAQ7b,KAAK6b,MACL,OAAVA,GACFA,EAAMvV,QAAQtG,KAAK8b,WAAWxZ,QAIxBqZ,EAAAna,UAAAwX,kBAAV,SAA4BH,EAAiBI,GAC3C1U,EAAA/C,UAAMwX,kBAAiBxU,KAAAxE,KAAC6Y,EAAWI,GACnC,IAAM8C,EAAWlD,EAAUnV,IACV,SAAbqY,IAAwBlD,aAAqBP,EAAAA,SAAWO,aAAqBxR,EAAAA,UAC/ErH,KAAKkZ,aAAaL,GACI,UAAbkD,GAAwBlD,aAAqBxR,EAAAA,UACtDrH,KAAKgc,cAAcnD,IAIb8C,EAAAna,UAAA2X,kBAAV,SAA4BN,GAC1B,IAAMkD,EAAWlD,EAAUnV,IACV,SAAbqY,IAAwBlD,aAAqBP,EAAAA,SAAWO,aAAqBxR,EAAAA,UAC/ErH,KAAKoZ,aAAaP,GACI,UAAbkD,GAAwBlD,aAAqBxR,EAAAA,UACtDrH,KAAKic,cAAcpD,GAErBtU,EAAA/C,UAAM2X,kBAAiB3U,KAAAxE,KAAC6Y,IAGhB8C,EAAAna,UAAA0X,aAAV,SAAuBb,KAIbsD,EAAAna,UAAA4X,aAAV,SAAuBf,KAIbsD,EAAAna,UAAAwa,cAAV,SAAwBH,GACtBA,EAAMrW,QAAQQ,aAAa,SAC3B6V,EAAMpW,SAAS,YACVC,IAAI,GACJC,MAAM,IACNC,OAAO,GACPsW,SAAS,IACTC,WAAW,OACXC,WAAW,QACXC,WAAW,UACXjc,MAAM,YAGHub,EAAAna,UAAAya,cAAV,SAAwBJ,KAnGxBtY,EAAA,CADCoU,EAAAA,UAAU,CAAC+D,SAAS,iCAIrBnY,EAAA,CADC0P,EAAAA,eAAeyE,OAAQ,CAACgE,SAAS,sCAIlCnY,EAAA,CADC0P,EAAAA,eAAe5S,EAAAA,yCAiGlBsb,GA7HgCtU,EAAAA,uBCL9B,SAAAiV,EAAYC,GACVvc,KAAKwc,aAAeD,EA2DxB,OAxDED,EAAA9a,UAAAib,kBAAA,SAAkB1S,EAAyBhD,EAAqBrF,KAIhE4a,EAAA9a,UAAAkb,iBAAA,SAAiB3S,EAAyBrI,GACxC1B,KAAKwc,aAAa/E,SAClB1N,EAAM3C,kBAGRkV,EAAA9a,UAAAmb,iBAAA,SAAiB5S,EAAyBhD,EAAqBrF,GAC7D,IAAKqI,EAAM6S,iBAAkB,CAC3B,IAAML,EAAcvc,KAAKwc,aACzB,GAAID,EAAYjI,cAAe,CAC7B,IAAMwH,EAAa/S,KAAK8T,IAAI9T,KAAKC,IAAI,GAAIe,EAAM+S,GAAK,KAAM,GAC1DP,EAAYT,WAAW7Q,SAAS6Q,GAChCS,EAAY3P,cAAcjB,EAAAA,KAAKkB,aAC3BiP,EAAa,IACf/R,EAAMgT,oBAMdT,EAAA9a,UAAAwb,gBAAA,SAAgBjT,EAAyBhD,EAAqBrF,GAC5D,IAAKqI,EAAM6S,iBAAkB,CAC3B,IAAML,EAAcvc,KAAKwc,aACnBV,EAAaS,EAAYT,WAAWxZ,MACtCyH,EAAMkT,GAAKlT,EAAMmT,UACfpB,EAAa,IAAkC,aAA3BS,EAAYY,WAClCZ,EAAYnF,WAEZmF,EAAY/F,SAGVsF,EAAa,GACfS,EAAYnF,WACH0E,GAAc,IACvBS,EAAY/F,WAMpB8F,EAAA9a,UAAA4b,mBAAA,SAAmBrT,EAAyBhD,EAAqBrF,GAC/D,IAAM6a,EAAcvc,KAAKwc,aACH,IAAlBzS,EAAMsT,QACRd,EAAY9E,SAEO8E,EAAYT,WAAWxZ,MACzB,IAAkC,aAA3Bia,EAAYY,WAClCZ,EAAYnF,WAEZmF,EAAY/F,UAIpB8F,mBCpCE,SAAAgB,EAAYjZ,GAAZ,IAAAC,EACEC,EAAAC,KAAAxE,KAAMqE,IAAKrE,YACXsE,EAAKS,QAAUT,EAAKS,QAAQC,KAAKV,GACjCA,EAAKiZ,cAAgBjZ,EAAKiZ,cAAcvY,KAAKV,GAC7CA,EAAKkZ,YAAc,YACnBlZ,EAAKmZ,iBAAmB9Y,EAAAA,WAAWC,SAAS,IAAKC,EAAAA,KAAKC,UACtDR,EAAKoZ,YAAc,KACnBpZ,EAAKqZ,eAAiB,GACtBrZ,EAAKsZ,aAAe,GACpBtZ,EAAKyT,iBA4XT,OAjZiC5U,EAAAma,EAAA/Y,GAwBrB+Y,EAAA9b,UAAA8D,SAAV,SAAmBjB,GACjBrE,KAAKuF,SAAS,gBACTC,QAAQ,SACRC,SAAS,YACTgC,MAAM,IACNG,OAAO,IACPtB,QAAQ,GACR4R,WAAW,QACX2F,YAAY,SAGTP,EAAA9b,UAAAuW,aAAV,WACE/X,KAAKmY,OAAO6B,EAAc,WAG5B9X,OAAAC,eAAImb,EAAA9b,UAAA,iBAAc,KAAlB,WACE,OAAOxB,KAAK6J,iDAGd3H,OAAAC,eAAImb,EAAA9b,UAAA,aAAU,KAAd,WACE,OAAOxB,KAAKwd,6CAGdF,EAAA9b,UAAAsc,WAAA,WACE,MAA4B,aAArB9d,KAAKwd,aAAmD,cAArBxd,KAAKwd,aAGjDF,EAAA9b,UAAA8S,YAAA,WACE,MAA4B,cAArBtU,KAAKwd,aAAoD,eAArBxd,KAAKwd,aAMlDtb,OAAAC,eAAImb,EAAA9b,UAAA,aAAU,KAAd,WACE,IAAM2b,EAAand,KAAKwd,YACxB,MAAmB,cAAfL,EACK,SACiB,cAAfA,EACF,UACiB,aAAfA,EACF,QACiB,eAAfA,EACF,cAEP,mCAIJjb,OAAAC,eAAImb,EAAA9b,UAAA,YAAS,KAAb,WACE,OAAO,sCAGT8b,EAAA9b,UAAAyL,UAAA,SAAU1G,GACRvG,KAAKwW,OAAOjQ,IAGd+W,EAAA9b,UAAA0L,UAAA,SAAU3G,GACRvG,KAAKoX,SAAS7Q,IAGhBrE,OAAAC,eAAImb,EAAA9b,UAAA,SAAM,KAAV,WACE,IAAMqX,EAAY7Y,KAAKiP,aAAa,UACpC,OAAO4J,aAAqBmB,EAAenB,EAAY,sCAGzD3W,OAAAC,eAAImb,EAAA9b,UAAA,aAAU,KAAd,WACE,OAAOxB,KAAK0d,6CAGdJ,EAAA9b,UAAAuc,cAAA,SAAcC,EAAuCzX,EAAoB6T,GACvEpa,KAAK0d,YAAcM,EACnB,IAAMC,EAASje,KAAKie,OACL,OAAXA,SACY,IAAV1X,IAA8B,IAAVA,EACtBA,EAAQvG,KAAKyd,kBACM,IAAVlX,IACTA,OAAQ,GAEV0X,EAAO9D,QAAQ6D,EAAYzX,EAAO6T,KAI5BkD,EAAA9b,UAAA0c,gBAAV,WACE,IAAM7F,EAAOC,EAAAA,QAAQhV,OAAO,OAAOmE,MAAM,IAAIG,OAAO,IAAI2Q,QAAQ,aAEhE,OADAF,EAAKF,OAAO,QAAQvV,EAAE,yGACfyV,GAGTnW,OAAAC,eAAImb,EAAA9b,UAAA,QAAK,KAAT,WAGE,IAFA,IAAM2c,EAAane,KAAKyI,MAAM0V,WACxBC,EAAa,GACVja,EAAI,EAAG2J,EAAIqQ,EAAWra,OAAQK,EAAI2J,EAAG3J,GAAK,EAAG,CACpD,IAAM0U,EAAasF,EAAWha,GAAgBzC,KAC1CmX,aAAqB8C,GACvByC,EAAWrQ,KAAK8K,GAGpB,OAAOuF,mCAGTd,EAAA9b,UAAA6c,WAAA,SAAWC,EAAkBC,EAAgB7a,QAC7B,IAAV6a,IACFA,EAAQve,KAAKqE,KAAK8Z,WAAWra,OAAS,GAExC9D,KAAKwe,gBAAgBF,EAAKja,KAAMrE,KAAKqE,KAAK8Z,WAAW,EAAII,IAAU,KAAM7a,IAG3E4Z,EAAA9b,UAAAid,YAAA,WAEE,IADA,IAAMN,EAAane,KAAKyI,MAAM0V,WACrBha,EAAIga,EAAWra,OAAS,EAAGK,GAAK,EAAGA,GAAK,EAAG,CAClD,IAAM0U,EAAasF,EAAWha,GAAgBzC,KAC1CmX,aAAqB8C,GACvB3b,KAAK0e,YAAY7F,KAKbyE,EAAA9b,UAAAsX,QAAV,WACEvU,EAAA/C,UAAMsX,QAAOtU,KAAAxE,MACbA,KAAKmF,GAAG,QAASnF,KAAK+E,SACtB/E,KAAKmF,GAAG,cAAenF,KAAKud,gBAGpBD,EAAA9b,UAAAwG,UAAV,WACEhI,KAAK+Y,IAAI,QAAS/Y,KAAK+E,SACvB/E,KAAK+Y,IAAI,cAAe/Y,KAAKud,eAC7BhZ,EAAA/C,UAAMwG,UAASxD,KAAAxE,OAGPsd,EAAA9b,UAAA2M,aAAV,SAAuBC,GACrB,IAAIC,EAAkB,EAKtB,OAJ0C,IAArCD,EAAczC,EAAAA,KAAK4C,gBACtBF,GAAmB1C,EAAAA,KAAKkB,aAE1BwB,GAAmB9J,EAAA/C,UAAM2M,aAAY3J,KAAAxE,KAACoO,EAAcC,IAI5CiP,EAAA9b,UAAAkN,SAAV,SAAmBC,GACjBpK,EAAA/C,UAAMkN,SAAQlK,KAAAxE,KAAC2O,GAQf,IAPA,IAAMgQ,EAAQ3e,KAAK8b,WAAWxZ,MACxB6b,EAAane,KAAKyI,MAAM0V,WACxBS,EAAaT,EAAWra,OAG1B+a,EAAY,EACZC,EAASF,EAAa,EACjBza,EAAI,EAAGA,EAAIya,EAAYza,GAAK,EAAG,CACtC,IAAM0U,EAAasF,EAAWha,GAAgBzC,KAC9C,GAAImX,aAAqB8C,EAAY,CACnC,IAAM/V,EAPW,GAOa5F,KAAK2d,eAAiBkB,GANrC,GAM+D7e,KAAK4d,cACnF/E,EAAUrT,QAAkB,IAAVmZ,EAAc,OAAS,QAC/B/Y,OAAO+Y,EAAQ/Y,GACfkZ,OAAOA,GACjBD,GAAa,EACbC,GAAU,EAEZ,IAAMb,EAASje,KAAKie,OACL,OAAXA,GACFA,EAAOa,OAAOF,KAKVtB,EAAA9b,UAAAwX,kBAAV,SAA4BH,EAAiBI,GAC3C1U,EAAA/C,UAAMwX,kBAAiBxU,KAAAxE,KAAC6Y,EAAWI,GAElB,WADAJ,EAAUnV,KACEmV,aAAqBmB,EAChDha,KAAK+e,eAAelG,GACXA,aAAqB8C,GAC9B3b,KAAKgf,aAAanG,IAIZyE,EAAA9b,UAAA2X,kBAAV,SAA4BN,GAET,WADAA,EAAUnV,KACEmV,aAAqBmB,EAChDha,KAAKif,eAAepG,GACXA,aAAqB8C,GAC9B3b,KAAKkf,aAAarG,GAEpBtU,EAAA/C,UAAM2X,kBAAiB3U,KAAAxE,KAAC6Y,IAGhByE,EAAA9b,UAAAud,eAAV,SAAyBd,GACnBje,KAAKsU,aAAoC,OAArBtU,KAAK0d,YAC3BO,EAAO9D,QAAQna,KAAK0d,aACX1d,KAAK8d,cACdG,EAAO9D,QAAQna,KAAKke,mBAEtBD,EAAOa,OAAO,GACdb,EAAO1R,gBAAgB,IAAI+P,EAA6Btc,QAGhDsd,EAAA9b,UAAAyd,eAAV,SAAyBhB,KAIfX,EAAA9b,UAAAwd,aAAV,SAAuBV,GACrBA,EAAK7Y,SAAS,YAAYE,MAAM,GAAGC,OAAO,GAAGC,KAAK,GAAGiZ,OAAO,IAGpDxB,EAAA9b,UAAA0d,aAAV,SAAuBZ,KAIvBhB,EAAA9b,UAAAgV,OAAA,SAAOjQ,IACDvG,KAAKsU,eAA2C,IAA1BtU,KAAK8b,WAAWxZ,SAEtCiE,OADY,IAAVA,IAA8B,IAAVA,EACdvG,KAAKyd,iBAEL9Y,EAAAA,WAAW6B,SAASD,GAE9BvG,KAAKgX,aACS,OAAVzQ,GACFvG,KAAKie,OAAQ9D,QAAQna,KAAKke,kBAAmB3X,GACf,IAA1BvG,KAAK8b,WAAWxZ,MAClBtC,KAAK8b,WAAW7Q,SAAS,EAAG1E,EAAMG,MAAM1G,KAAKiX,UAAUjS,KAAKhF,QAE5DsI,WAAWtI,KAAKiX,UAAUjS,KAAKhF,SAGjCA,KAAKie,OAAQ9D,QAAQna,KAAKke,mBAC1Ble,KAAK8b,WAAW7Q,SAAS,GACzBjL,KAAK4M,cAAcjB,EAAAA,KAAKkB,aACxB7M,KAAKiX,eAKDqG,EAAA9b,UAAAwV,WAAV,WACEhX,KAAKyM,aAAY,SAAUC,QACkB,IAAvCA,EAAayS,uBACfzS,EAAayS,sBAAsBnf,SAGvCA,KAAKwd,YAAc,aAGXF,EAAA9b,UAAAyV,UAAV,WACEjX,KAAKwd,YAAc,WACnBxd,KAAK8M,YAAW,SAAUJ,QACkB,IAAtCA,EAAa0S,sBACf1S,EAAa0S,qBAAqBpf,UAKxCsd,EAAA9b,UAAA4V,SAAA,SAAS7Q,IACHvG,KAAK8d,cAA0C,IAA1B9d,KAAK8b,WAAWxZ,SAErCiE,OADY,IAAVA,IAA8B,IAAVA,EACdvG,KAAKyd,iBAEL9Y,EAAAA,WAAW6B,SAASD,GAE9BvG,KAAKqX,eACS,OAAV9Q,GACFvG,KAAKie,OAAQ9D,QAAQna,KAAK0d,YAAanX,GAAO,GAChB,IAA1BvG,KAAK8b,WAAWxZ,MAClBtC,KAAK8b,WAAW7Q,SAAS,EAAG1E,EAAMG,MAAM1G,KAAKsX,YAAYtS,KAAKhF,QAE9DsI,WAAWtI,KAAKsX,YAAYtS,KAAKhF,SAGnCA,KAAKie,OAAQ9D,QAAQna,KAAK0d,aAC1B1d,KAAK8b,WAAW7Q,SAAS,GACzBjL,KAAK4M,cAAcjB,EAAAA,KAAKkB,aACxB7M,KAAKsX,iBAKDgG,EAAA9b,UAAA6V,aAAV,WACErX,KAAKyM,aAAY,SAAUC,QACoB,IAAzCA,EAAa2S,yBACf3S,EAAa2S,wBAAwBrf,SAGzCA,KAAKwd,YAAc,cAGXF,EAAA9b,UAAA8V,YAAV,WACEtX,KAAKwd,YAAc,YACnBxd,KAAK8M,YAAW,SAAUJ,QACoB,IAAxCA,EAAa4S,wBACf5S,EAAa4S,uBAAuBtf,UAK1Csd,EAAA9b,UAAAiW,OAAA,SAAOlR,GACL,IAAM4W,EAAand,KAAKwd,YACL,cAAfL,GAA6C,eAAfA,EAChCnd,KAAKwW,OAAOjQ,GACY,aAAf4W,GAA4C,cAAfA,GACtCnd,KAAKoX,SAAS7Q,IAIlB+W,EAAA9b,UAAA6E,KAAA,SAAKE,GACwB,IAAvBvG,KAAKsG,QAAQ8U,QAEb7U,OADY,IAAVA,IAA8B,IAAVA,EACdvG,KAAKyd,iBAEL9Y,EAAAA,WAAW6B,SAASD,GAE9BvG,KAAKyG,WACS,OAAVF,EACFvG,KAAKsG,QAAQ,EAAGC,EAAMG,MAAM1G,KAAK2G,QAAQ3B,KAAKhF,SAE9CA,KAAKsG,QAAQ,GACbtG,KAAK4M,cAAcjB,EAAAA,KAAKkB,aACxB7M,KAAK2G,aAKD2W,EAAA9b,UAAAiF,SAAV,WACEzG,KAAKyM,aAAY,SAAUC,QACgB,IAArCA,EAAa6S,qBACf7S,EAAa6S,oBAAoBvf,SAGrCA,KAAKwF,QAAQ,UAGL8X,EAAA9b,UAAAmF,QAAV,WACE3G,KAAK8M,YAAW,SAAUJ,QACgB,IAApCA,EAAa8S,oBACf9S,EAAa8S,mBAAmBxf,UAKtCsd,EAAA9b,UAAAoF,KAAA,SAAKL,GACwB,IAAvBvG,KAAKsG,QAAQ8U,QAEb7U,OADY,IAAVA,IAA8B,IAAVA,EACdvG,KAAKyd,iBAEL9Y,EAAAA,WAAW6B,SAASD,GAE9BvG,KAAK6G,WACS,OAAVN,EACFvG,KAAKsG,QAAQ,EAAGC,EAAMG,MAAM1G,KAAK8G,QAAQ9B,KAAKhF,SAE9CA,KAAKsG,QAAQ,GACbtG,KAAK4M,cAAcjB,EAAAA,KAAKkB,aACxB7M,KAAK8G,aAKDwW,EAAA9b,UAAAqF,SAAV,WACE7G,KAAKyM,aAAY,SAAUC,QACgB,IAArCA,EAAa+S,qBACf/S,EAAa+S,oBAAoBzf,UAK7Bsd,EAAA9b,UAAAsF,QAAV,WACE9G,KAAKwF,QAAQ,QACbxF,KAAK8M,YAAW,SAAUJ,QACgB,IAApCA,EAAagT,oBACfhT,EAAagT,mBAAmB1f,UAK5Bsd,EAAA9b,UAAAuD,QAAV,SAAkBgC,GAChBA,EAAMG,mBAGEoW,EAAA9b,UAAA+b,cAAV,SAAwBxW,GACtBA,EAAMK,kBAvVR7D,EAAA,CADC0P,EAAAA,eAAeyE,OAAQ,CAACpV,MAAO,sCA0VlCgb,GAjZiCjW,EAAAA,wBCdjC,SAAAsY,mDAwDA,OAxDgFxc,EAAAwc,EAAApb,GAC9ErC,OAAAC,eAAIwd,EAAAne,UAAA,aAAU,KAAd,WACE,OAAsB,OAAfxB,KAAKmT,MAAiBnT,KAAKmT,MAAMgK,WAAa,sCAGvDjb,OAAAC,eAAIwd,EAAAne,UAAA,SAAM,KAAV,WACE,OAAsB,OAAfxB,KAAKmT,MAAiBnT,KAAKmT,MAAM8K,OAAS,sCAGnD/b,OAAAC,eAAIwd,EAAAne,UAAA,QAAK,KAAT,WACE,OAAsB,OAAfxB,KAAKmT,MAAiBnT,KAAKmT,MAAMyM,MAAQ,oCAGlDD,EAAAne,UAAAid,YAAA,WACqB,OAAfze,KAAKmT,OACPnT,KAAKmT,MAAMsL,eAIfkB,EAAAne,UAAA2d,sBAAA,SAAsBzd,KAItBie,EAAAne,UAAA4d,qBAAA,SAAqB1d,GACnB,IAAMsF,EAAWhH,KAAKgH,SACL,OAAbA,GACFA,EAAS6Y,aAAane,EAAM,CAACoe,OAAO,KAIxCH,EAAAne,UAAA6d,wBAAA,SAAwB3d,KAIxBie,EAAAne,UAAA8d,uBAAA,SAAuB5d,GACrB,IAAMsF,EAAWhH,KAAKgH,SACL,OAAbA,GACFA,EAAS+Y,aAAare,IAI1Bie,EAAAne,UAAA+d,oBAAA,SAAoB7d,KAIpBie,EAAAne,UAAAge,mBAAA,SAAmB9d,KAInBie,EAAAne,UAAAie,oBAAA,SAAoB/d,KAIpBie,EAAAne,UAAAke,mBAAA,SAAmBhe,KAGrBie,GAxDgFvM,EAAAA,kCCA9E,SAAA4M,EAAY3b,UACVE,EAAAC,KAAAxE,KAAMqE,IAAKrE,KA6Cf,OA/C8BmD,EAAA6c,EAAAzb,GAKlByb,EAAAxe,UAAA8D,SAAV,SAAmBjB,GACjBrE,KAAKuF,SAAS,aACT0a,SAAS,GACTC,WAAW,GACX7S,UAAU,IACVyD,aAAa,KAGpB5O,OAAAC,eAAI6d,EAAAxe,UAAA,iBAAc,KAAlB,WACE,OAAOxB,KAAK6J,iDAGJmW,EAAAxe,UAAAwX,kBAAV,SAA4BH,EAAiBI,GAC3C1U,EAAA/C,UAAMwX,kBAAiBxU,KAAAxE,KAAC6Y,EAAWI,GAC/BJ,aAAqBsH,GACvBngB,KAAKgf,aAAanG,IAIZmH,EAAAxe,UAAA2X,kBAAV,SAA4BN,GACtBA,aAAqBsH,GACvBngB,KAAKkf,aAAarG,GAEpBtU,EAAA/C,UAAM2X,kBAAiB3U,KAAAxE,KAAC6Y,IAGhBmH,EAAAxe,UAAAwd,aAAV,SAAuBV,KAIb0B,EAAAxe,UAAA0d,aAAV,SAAuBZ,KAKvB0B,EAAAxe,UAAA4e,YAAA,SAAY9B,GACVte,KAAK8M,YAAW,SAAUJ,QACc,IAAlCA,EAAa2T,kBACf3T,EAAa2T,iBAAiB/B,EAAMte,UAI5CggB,GA/C8B3Y,EAAAA,wBCe5B,SAAA8Y,EAAY9b,GAAZ,IAAAC,EACEC,EAAAC,KAAAxE,KAAMqE,IAAKrE,YACXsE,EAAKS,QAAUT,EAAKS,QAAQC,KAAKV,GACjCA,EAAKgc,gBAAgBrV,SAAS5K,EAAAA,MAAMF,MAAM,YAC1CmE,EAAKic,mBAAmBtV,SAAS5K,EAAAA,MAAMF,MAAM,YAC7CmE,EAAKkc,mBAAmBvV,SAAS5K,EAAAA,MAAMF,MAAM,YAC7CmE,EAAKsX,WAAW3Q,SAAS5K,EAAAA,MAAMogB,IAAI,IAAK,IAAK,IAAK,MAClDnc,EAAKhE,gBAAgB0F,aAAa1B,EAAKsX,WAAWtZ,MAAOoe,MAAM,IAC/Dpc,EAAKqc,cAAe,IA6QxB,OAzR8Bxd,EAAAgd,EAAA5b,GAelB4b,EAAA3e,UAAA8D,SAAV,SAAmBjB,GACjBrE,KAAKuF,SAAS,aACTE,SAAS,YACTD,QAAQ,QACR0a,WAAW,GACXtY,OAAO,IACPgZ,UAAU,cACVxE,WAAW,IACXnC,SAAS,UACT/B,WAAW,QACXnS,OAAO,WACZ/F,KAAK6gB,YAAY7a,aAAa0B,EAAAA,OAAO6L,GAAG,IACxCvT,KAAK8gB,aAAa9a,aAAa0B,EAAAA,OAAO6L,GAAG,KAG3CrR,OAAAC,eAAIge,EAAA3e,UAAA,iBAAc,KAAlB,WACE,OAAOxB,KAAK6J,iDAqBd3H,OAAAC,eAAIge,EAAA3e,UAAA,cAAW,KAAf,WACE,OAAOxB,KAAK2gB,8CAGJR,EAAA3e,UAAAuf,eAAV,SAAyB1I,GACvB,IAAM3W,EAAO2F,EAAAA,SAAS/D,OAAO,OACxBkC,QAAQ,QACRwS,eAAe,UACfC,WAAW,UACXxQ,MAAM,IACNG,OAAO,IAKZ,YAJa,IAATyQ,IACFA,EAAK4C,KAAKjb,KAAKsgB,gBAAgBhe,OAC/BZ,EAAKyW,OAAOE,EAAM,SAEb3W,GAGCye,EAAA3e,UAAAwf,gBAAV,SAA0BC,GACxB,IAAMvf,EAAO2F,EAAAA,SAAS/D,OAAO,QACxBkC,QAAQ,SACR0b,WAAW,sCACXhF,SAAS,IACTG,WAAW,UACX8E,aAAa,YACblH,SAAS,UACT7Z,MAAMJ,KAAKsgB,gBAAgBhe,OAIhC,YAHa,IAAT2e,GACFvf,EAAKuf,KAAKA,GAELvf,GAKTye,EAAA3e,UAAA4f,SAAA,SAASC,GACP,IAAMxI,EAAY7Y,KAAKiP,aAAa,QAC9BqS,EAAczI,aAAqBxR,EAAAA,SAAWwR,EAAY,KAChE,YAAoB,IAAhBwI,EACKC,GAEHD,aAAuB/I,EAAAA,QACL,OAAhBgJ,GACFD,EAAcrhB,KAAK+gB,eAAeM,GAClCrhB,KAAK+a,gBAAgBsG,EAAa,UAElCC,EAAYC,YACZD,EAAYnJ,OAAOkJ,GACnBA,EAAcC,GAES,OAAhBD,EACW,OAAhBC,EACFthB,KAAK+a,gBAAgBsG,EAAa,QAElCrhB,KAAKwhB,aAAa,OAAQH,GAEH,OAAhBC,GACTA,EAAY9X,SAEPxJ,OAMXmgB,EAAA3e,UAAAigB,UAAA,SAAUC,GACR,IAAM7I,EAAY7Y,KAAKiP,aAAa,SAC9B0S,EAAe9I,aAAqBxR,EAAAA,SAAWwR,EAAY,KACjE,YAAqB,IAAjB6I,EACKC,GAEqB,iBAAjBD,EACY,OAAjBC,GACFD,EAAe1hB,KAAKghB,gBAAgBU,GACpC1hB,KAAK+a,gBAAgB2G,EAAc,WAEnCC,EAAaV,KAAKS,GAClBA,EAAeC,GAES,OAAjBD,EACY,OAAjBC,EACF3hB,KAAK+a,gBAAgB2G,EAAc,SAEnC1hB,KAAKwhB,aAAa,QAASE,GAEH,OAAjBC,GACTA,EAAanY,SAERxJ,OAIDmgB,EAAA3e,UAAAsX,QAAV,WACEvU,EAAA/C,UAAMsX,QAAOtU,KAAAxE,MACbA,KAAKmF,GAAG,QAASnF,KAAK+E,UAGdob,EAAA3e,UAAAwG,UAAV,WACEhI,KAAK+Y,IAAI,QAAS/Y,KAAK+E,SACvBR,EAAA/C,UAAMwG,UAASxD,KAAAxE,OAGPmgB,EAAA3e,UAAAogB,UAAV,SAAoBjT,GAClBpK,EAAA/C,UAAMogB,UAASpd,KAAAxE,KAAC2O,GAChB,IAAMiF,EAAgB5T,KAAK4T,cAActR,MACZ,iBAAlBsR,GACS5T,KAAKyhB,YACbjc,QAA0B,IAAlBoO,EAAsB,OAAS,SACvCtN,QAAQsN,IAIZuM,EAAA3e,UAAAkN,SAAV,SAAmBC,GACjBpK,EAAA/C,UAAMkN,SAAQlK,KAAAxE,KAAC2O,GACf,IAAMwH,EAAanW,KAAKmW,WAAWiF,WAChB,IAAfjF,IACFnW,KAAK6gB,YAAY7a,aAAa0B,EAAAA,OAAO6L,GAAGxK,KAAKC,IAAI,EAAGmN,EAAWI,aAC/DvW,KAAK8gB,aAAa9a,aAAa0B,EAAAA,OAAO6L,GAAGxK,KAAKC,IAAI,EAAGmN,EAAWE,gBAI1D8J,EAAA3e,UAAAwX,kBAAV,SAA4BH,EAAiBI,GAC3C1U,EAAA/C,UAAMwX,kBAAiBxU,KAAAxE,KAAC6Y,EAAWI,GACnC,IAAM8C,EAAWlD,EAAUnV,IACV,SAAbqY,GAAuBlD,aAAqBxR,EAAAA,SAC9CrH,KAAKkZ,aAAaL,GACI,UAAbkD,GAAwBlD,aAAqBxR,EAAAA,UACtDrH,KAAK6hB,cAAchJ,IAIbsH,EAAA3e,UAAA2X,kBAAV,SAA4BN,GAC1B,IAAMkD,EAAWlD,EAAUnV,IACV,SAAbqY,GAAuBlD,aAAqBxR,EAAAA,SAC9CrH,KAAKoZ,aAAaP,GACI,UAAbkD,GAAwBlD,aAAqBxR,EAAAA,UACtDrH,KAAK8hB,cAAcjJ,GAErBtU,EAAA/C,UAAM2X,kBAAiB3U,KAAAxE,KAAC6Y,IAGhBsH,EAAA3e,UAAA0X,aAAV,SAAuBb,GACrBA,EAAK6H,WAAW,GACXtP,WAAW,GACXC,YAAY,IAGTsP,EAAA3e,UAAA4X,aAAV,SAAuBf,KAIb8H,EAAA3e,UAAAqgB,cAAV,SAAwBE,GACtBA,EAAM7B,WAAW,GACXtP,WAAW,GACXC,YAAY,IAGVsP,EAAA3e,UAAAsgB,cAAV,SAAwBC,KAId5B,EAAA3e,UAAA+Z,gBAAV,WACE,IAAMK,EAAa5b,KAAK4b,WAAWtZ,WAChB,IAAfsZ,GAAyB5b,KAAKM,gBAAgB0hB,gBACb,IAA/BhiB,KAAKM,gBAAgBgC,OACvBtC,KAAKM,gBAAgB0F,aAAa4V,EAAW8E,MAAM,IAAI,GAEzD1gB,KAAKM,gBAAgB0F,aAAa4V,EAAY5b,KAAKqK,qBAI7C8V,EAAA3e,UAAAia,eAAV,WACE,IAAMG,EAAa5b,KAAK4b,WAAWtZ,WAChB,IAAfsZ,GAAyB5b,KAAKM,gBAAgB0hB,UAChDhiB,KAAKM,gBAAgB0F,aAAa4V,EAAW8E,MAAM,GAAI1gB,KAAKqK,oBAIhE8V,EAAA3e,UAAAygB,UAAA,SAAU1b,GACR,IAAKvG,KAAK2gB,aAAc,CACtB3gB,KAAK2gB,cAAe,GACN,IAAVpa,IACFA,EAAQvG,KAAKqK,mBAEfrK,KAAKM,gBAAgB0F,aAAahG,KAAKwgB,mBAAmBle,MAAOoe,MAAM,GAAIna,GAC3E,IAAM6a,EAAWphB,KAAKohB,WACtB,GAAiB,OAAbA,EAAmB,CACrB,IAAM/I,EAAO+I,EAASnS,aAAa,QAC/BoJ,aAAgBC,EAAAA,SAClBD,EAAK4C,KAAKjb,KAAKugB,mBAAmBje,MAAQiE,GAG9C,IAAMkb,EAAYzhB,KAAKyhB,YACL,OAAdA,GACFA,EAAUrhB,MAAMJ,KAAKugB,mBAAmBje,MAAQiE,GAGpD,OAAOvG,MAGTmgB,EAAA3e,UAAA0gB,YAAA,SAAY3b,GACV,GAAIvG,KAAK2gB,aAAc,CACrB3gB,KAAK2gB,cAAe,GACN,IAAVpa,IACFA,EAAQvG,KAAKqK,mBAEfrK,KAAKM,gBAAgB0F,aAAahG,KAAKwgB,mBAAmBle,MAAOoe,MAAM,GAAIna,GAC3E,IAAM6a,EAAWphB,KAAKohB,WACtB,GAAiB,OAAbA,EAAmB,CACrB,IAAM/I,EAAO+I,EAASnS,aAAa,QAC/BoJ,aAAgBC,EAAAA,SAClBD,EAAK4C,KAAKjb,KAAKsgB,gBAAgBhe,MAAQiE,GAG3C,IAAMkb,EAAYzhB,KAAKyhB,YACL,OAAdA,GACFA,EAAUrhB,MAAMJ,KAAKsgB,gBAAgBhe,MAAQiE,GAGjD,OAAOvG,MAGCmgB,EAAA3e,UAAAuD,QAAV,SAAkBgC,GAChBA,EAAMG,kBACN,IAAMib,EAAaniB,KAAKmiB,WACpBA,aAAsBnC,GACxBmC,EAAW/B,YAAYpgB,OAnP3BuD,EAAA,CADC0P,EAAAA,eAAeyE,OAAQ,CAACgE,SAAS,yCAIlCnY,EAAA,CADC0P,EAAAA,eAAe5S,EAAAA,8CAIhBkD,EAAA,CADC0P,EAAAA,eAAe5S,EAAAA,iDAIhBkD,EAAA,CADC0P,EAAAA,eAAe5S,EAAAA,iDAIhBkD,EAAA,CADC0P,EAAAA,eAAe5S,EAAAA,yCAIhBkD,EAAA,CADCoU,EAAAA,UAAU,CAAC+D,SAAS,sCAwOvByE,GAzR8BvW,iBCP5B,SAAAwY,IAAA,IAAA9d,EACEC,EAAAC,KAAAxE,OAAOA,YACPsE,EAAK+d,cAAgB,OAqCzB,OA3CuElf,EAAAif,EAAA7d,GASrErC,OAAAC,eAAIigB,EAAA5gB,UAAA,eAAY,KAAhB,WACE,OAAOxB,KAAKqiB,+CAGdD,EAAA5gB,UAAA8gB,WAAA,SAAWC,GACT,IAAMC,EAAUxiB,KAAKqiB,cACjBG,IAAYD,IACdviB,KAAKyiB,eAAeF,EAASC,GAC7BxiB,KAAKqiB,cAAgBE,EACrBviB,KAAK0iB,aAAaH,EAASC,GAC3BxiB,KAAK2iB,cAAcJ,EAASC,KAItBJ,EAAA5gB,UAAAihB,eAAV,SAAyBF,EAA0BC,KAIzCJ,EAAA5gB,UAAAkhB,aAAV,SAAuBH,EAA0BC,GAC/B,OAAZA,GACFA,EAAQN,aAAY,GAEN,OAAZK,GACFA,EAAQN,WAAU,IAIZG,EAAA5gB,UAAAmhB,cAAV,SAAwBJ,EAA0BC,KAIlDJ,EAAA5gB,UAAA6e,iBAAA,SAAiB/B,EAAgB5c,GAC/B1B,KAAKsiB,WAAWhE,IAEpB8D,GA3CuEhP,EAAAA","file":"/Users/c9r/Swim/Code/swim-platform/swim-toolkit-js/swim-ux-js/@swim/ux/dist/main/swim-ux.min.js","sourcesContent":["// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Color} from \"@swim/color\";\nimport {Font} from \"@swim/font\";\nimport {BoxShadow} from \"@swim/shadow\";\nimport {View} from \"@swim/view\";\nimport {ViewStyleType, BaseLook, AccentLook, SurfaceLook, Theme} from \"./Theme\";\n\n/** @hidden */\nexport class DarkBase implements BaseLook {\n  font?: Font;\n  color?: Color;\n  backgroundColor?: Color;\n\n  constructor() {\n    this.font = Font.parse(\"14px sans-serif\");\n    this.color = Color.parse(\"#ffffff\");\n    this.backgroundColor = Color.parse(\"#1e2022\");\n  }\n}\n\n/** @hidden */\nexport class DarkPrimary implements AccentLook {\n  fillColor: Color;\n  iconColor: Color;\n\n  constructor() {\n    this.fillColor = Color.parse(\"#32c5ff\");\n    this.iconColor = Color.parse(\"#1e2022\");\n  }\n}\n\n/** @hidden */\nexport class DarkSecondary implements AccentLook {\n  fillColor: Color;\n  iconColor: Color;\n\n  constructor() {\n    this.fillColor = Color.parse(\"#44d7b6\");\n    this.iconColor = Color.parse(\"#1e2022\");\n  }\n}\n\n/** @hidden */\nexport class DarkDisabled implements AccentLook {\n  fillColor: Color;\n  iconColor: Color;\n\n  constructor() {\n    this.fillColor = Color.parse(\"#7b7c7d\");\n    this.iconColor = Color.parse(\"#ffffff\");\n  }\n}\n\n/** @hidden */\nexport class DarkFloating implements SurfaceLook {\n  shadow?: BoxShadow;\n  opacity?: number;\n\n  constructor() {\n    this.shadow = BoxShadow.of(0, 2, 4, 0, Color.black(0.5));\n  }\n}\n\nexport class DarkTheme implements Theme {\n  base: BaseLook;\n\n  primary: AccentLook;\n  secondary: AccentLook;\n  disabled: AccentLook;\n\n  floating: SurfaceLook;\n\n  constructor() {\n    this.base = new DarkBase();\n\n    this.primary = new DarkPrimary();\n    this.secondary = new DarkSecondary();\n    this.disabled = new DarkDisabled();\n\n    this.floating = new DarkFloating();\n  }\n\n  getStyle<V extends View>(view: V): ViewStyleType<V> | null {\n    return null;\n  }\n}\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Color} from \"@swim/color\";\nimport {Font} from \"@swim/font\";\nimport {BoxShadow} from \"@swim/shadow\";\nimport {View} from \"@swim/view\";\nimport {ViewStyleType, BaseLook, AccentLook, SurfaceLook, Theme} from \"./Theme\";\n\n/** @hidden */\nexport class LightBase implements BaseLook {\n  font?: Font;\n  color?: Color;\n  backgroundColor?: Color;\n\n  constructor() {\n    this.font = Font.parse(\"14px sans-serif\");\n    this.color = Color.parse(\"#4a4a4a\");\n    this.backgroundColor = Color.parse(\"#ffffff\");\n  }\n}\n\n/** @hidden */\nexport class LightPrimary implements AccentLook {\n  fillColor: Color;\n  iconColor: Color;\n\n  constructor() {\n    this.fillColor = Color.parse(\"#32c5ff\");\n    this.iconColor = Color.parse(\"#1e2022\");\n  }\n}\n\n/** @hidden */\nexport class LightSecondary implements AccentLook {\n  fillColor: Color;\n  iconColor: Color;\n\n  constructor() {\n    this.fillColor = Color.parse(\"#44d7b6\");\n    this.iconColor = Color.parse(\"#1e2022\");\n  }\n}\n\n/** @hidden */\nexport class LightDisabled implements AccentLook {\n  fillColor: Color;\n  iconColor: Color;\n\n  constructor() {\n    this.fillColor = Color.parse(\"#7b7c7d\");\n    this.iconColor = Color.parse(\"#ffffff\");\n  }\n}\n\n/** @hidden */\nexport class LightFloating implements SurfaceLook {\n  shadow?: BoxShadow;\n  opacity?: number;\n\n  constructor() {\n    this.shadow = BoxShadow.of(0, 2, 4, 0, Color.black(0.5));\n  }\n}\n\nexport class LightTheme implements Theme {\n  base: BaseLook;\n\n  primary: AccentLook;\n  secondary: AccentLook;\n  disabled: AccentLook;\n\n  floating: SurfaceLook;\n\n  constructor() {\n    this.base = new LightBase();\n\n    this.primary = new LightPrimary();\n    this.secondary = new LightSecondary();\n    this.disabled = new LightDisabled();\n\n    this.floating = new LightFloating();\n  }\n\n  getStyle<V extends View>(view: V): ViewStyleType<V> | null {\n    return null;\n  }\n}\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Color} from \"@swim/color\";\nimport {Font} from \"@swim/font\";\nimport {BoxShadow} from \"@swim/shadow\";\nimport {View} from \"@swim/view\";\nimport {DarkTheme} from \"./DarkTheme\";\nimport {LightTheme} from \"./LightTheme\";\n\nexport type ViewStyleType<V extends View> = V extends {readonly style: infer S} ? S : unknown;\n\nexport interface BaseLook {\n  readonly font?: Font;\n  readonly color?: Color;\n  readonly backgroundColor?: Color;\n}\n\nexport interface AccentLook {\n  readonly fillColor: Color;\n  readonly iconColor: Color;\n}\n\nexport interface SurfaceLook {\n  readonly shadow?: BoxShadow;\n  readonly opacity?: number;\n}\n\nexport interface Theme {\n  readonly base: BaseLook;\n\n  readonly primary: AccentLook;\n  readonly secondary: AccentLook;\n  readonly disabled: AccentLook;\n\n  readonly floating: SurfaceLook;\n\n  getStyle<V extends View>(view: V): ViewStyleType<V> | null;\n}\n\nexport interface ThemeClass {\n  dark: Theme;\n  light: Theme;\n}\n\nexport const Theme: ThemeClass = {} as ThemeClass;\n\nObject.defineProperty(Theme, \"dark\", {\n  get: function (): Theme {\n    // Lazily initialize theme.\n    const theme = new DarkTheme();\n    Object.defineProperty(Theme, \"dark\", {\n      value: theme,\n      enumerable: true,\n      configurable: true,\n      writable: true,\n    });\n    return theme;\n  },\n  set: function (theme: Theme): void {\n    // Overwrite lazy property with writable property.\n    Object.defineProperty(Theme, \"dark\", {\n      value: theme,\n      enumerable: true,\n      configurable: true,\n      writable: true,\n    });\n  },\n  enumerable: true,\n  configurable: true,\n});\n\nObject.defineProperty(Theme, \"light\", {\n  get: function (): Theme {\n    // Lazily initialize theme.\n    const theme = new LightTheme();\n    Object.defineProperty(Theme, \"light\", {\n      value: theme,\n      enumerable: true,\n      configurable: true,\n      writable: true,\n    });\n    return theme;\n  },\n  set: function (theme: Theme): void {\n    // Overwrite lazy property with writable property.\n    Object.defineProperty(Theme, \"light\", {\n      value: theme,\n      enumerable: true,\n      configurable: true,\n      writable: true,\n    });\n  },\n  enumerable: true,\n  configurable: true,\n});\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Color} from \"@swim/color\";\nimport {Ease, Tween, AnyTransition, Transition} from \"@swim/transition\";\nimport {ModalState, HtmlView, UiView} from \"@swim/view\";\n\nexport class ScrimView extends HtmlView {\n  /** @hidden */\n  _modalState: ModalState;\n  /** @hidden */\n  _transition: Transition<any>;\n\n  constructor(node: HTMLElement) {\n    super(node);\n    this._modalState = \"hidden\";\n    this._transition = Transition.duration(250, Ease.cubicOut);\n    this.onClick = this.onClick.bind(this);\n    this.onSyntheticClick = this.onSyntheticClick.bind(this);\n    if (typeof PointerEvent !== \"undefined\") {\n      this.on(\"pointerup\", this.onClick, {passive: true});\n      this.on(\"click\", this.onSyntheticClick);\n    } else if (typeof TouchEvent !== \"undefined\") {\n      this.onSyntheticClick = this.onSyntheticClick.bind(this);\n      this.on(\"touchend\", this.onClick, {passive: true});\n      this.on(\"click\", this.onSyntheticClick);\n    } else {\n      this.on(\"click\", this.onClick);\n    }\n  }\n\n  protected initNode(node: HTMLElement): void {\n    this.addClass(\"scrim\")\n        .display(\"none\")\n        .position(\"absolute\")\n        .top(0)\n        .right(0)\n        .bottom(0)\n        .left(0)\n        .pointerEvents(\"auto\")\n        .cursor(\"pointer\");\n    this.backgroundColor.setAutoState(Color.black(0));\n  }\n\n  get modalState(): ModalState {\n    return this._modalState;\n  }\n\n  isShown(): boolean {\n    return this._modalState === \"shown\" || this._modalState === \"showing\";\n  }\n\n  isHidden(): boolean {\n    return this._modalState === \"hidden\" || this._modalState === \"hiding\";\n  }\n\n  transition(): Transition<any>;\n  transition(transition: AnyTransition<any>): this;\n  transition(transition?: AnyTransition<any>): Transition<any> | this {\n    if (transition === void 0) {\n      return this._transition;\n    } else {\n      transition = Transition.fromAny(transition);\n      this._transition = transition;\n      return this;\n    }\n  }\n\n  show(opacity: number, tween?: Tween<any>): void {\n    if (this._modalState === \"hidden\" || this._modalState === \"hiding\") {\n      if (tween === void 0 || tween === true) {\n        tween = this._transition;\n      } else {\n        tween = Transition.forTween(tween);\n      }\n      this.willShow();\n      this.display(\"block\");\n      if (tween !== null) {\n        this.backgroundColor.setAutoState(Color.black(0));\n        this.backgroundColor.setAutoState(Color.black(opacity), tween.onEnd(this.didShow.bind(this)));\n      } else {\n        this.backgroundColor.setAutoState(Color.black(opacity));\n        this.didShow();\n      }\n    }\n  }\n\n  protected willShow(): void {\n    this._modalState = \"showing\";\n  }\n\n  protected didShow(): void {\n    this._modalState = \"shown\";\n  }\n\n  hide(tween?: Tween<any>): void {\n    if (this._modalState === \"shown\" || this._modalState === \"showing\") {\n      if (tween === void 0 || tween === true) {\n        tween = this._transition;\n      } else {\n        tween = Transition.forTween(tween);\n      }\n      this.willHide();\n      if (tween !== null) {\n        this.backgroundColor.setAutoState(Color.black(0), tween.onEnd(this.didHide.bind(this)));\n      } else {\n        this.backgroundColor.setAutoState(Color.black(0));\n        this.didHide();\n      }\n    }\n  }\n\n  protected willHide(): void {\n    this._modalState = \"hiding\";\n  }\n\n  protected didHide(): void {\n    this._modalState = \"hidden\";\n    this.display(\"none\");\n  }\n\n  protected onClick(event: Event): void {\n    const rootView = this.rootView;\n    if (rootView instanceof UiView) {\n      event.stopPropagation();\n      rootView.onFallthroughClick(event);\n    }\n  }\n\n  protected onSyntheticClick(event: Event): void {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n}\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Length} from \"@swim/length\";\nimport {Color} from \"@swim/color\";\nimport {Transition} from \"@swim/transition\";\nimport {HtmlView} from \"@swim/view\";\n\nexport type IlluminationState = \"passivated\" | \"illuminated\" | \"stimulated\" | \"dissipated\";\n\nexport class IlluminationView extends HtmlView {\n  /** @hidden */\n  _illuminationState: IlluminationState;\n  /** @hidden */\n  _illuminationTimer: number;\n\n  constructor(node: HTMLElement) {\n    super(node);\n    this._illuminationState = \"passivated\";\n    this._illuminationTimer = 0;\n  }\n\n  protected initNode(node: HTMLElement): void {\n    this.addClass(\"illumination\")\n        .position(\"absolute\")\n        .width(Length.zero())\n        .height(Length.zero())\n        .borderRadius(Length.pct(50))\n        .backgroundColor(Color.white())\n        .pointerEvents(\"none\");\n  }\n\n  get illuminationState(): IlluminationState {\n    return this._illuminationState;\n  }\n\n  protected onUnmount(): void {\n    this._illuminationState = \"passivated\";\n    this.cancelIlluminate();\n    super.onUnmount();\n  }\n\n  illuminate(clientX: number, clientY: number, opacity: number,\n             transition: Transition<any> | null, delay: number = 0): void {\n    if (this._illuminationState === \"passivated\") {\n      this.cancelIlluminate();\n      if (delay !== 0) {\n        const illuminate = this.illuminate.bind(this, clientX, clientY, opacity, transition, 0);\n        this._illuminationTimer = setTimeout(illuminate, delay) as any;\n      } else {\n        this.willIlluminate();\n        const clientBounds = this._node.offsetParent!.getBoundingClientRect()\n        const cx = clientX - clientBounds.left;\n        const cy = clientY - clientBounds.top;\n        const rx = Math.max(cx, clientBounds.width - cx);\n        const ry = Math.max(cy, clientBounds.height - cy);\n        const r = Math.sqrt(rx * rx + ry * ry);\n        this.opacity(opacity);\n        if (transition !== null) {\n          this.left(cx)\n              .top(cy)\n              .left(cx - r, transition.onEnd(this.didIlluminate.bind(this)))\n              .top(cy - r, transition)\n              .width(2 * r, transition)\n              .height(2 * r, transition);\n        } else {\n          this.left(cx - r)\n              .top(cy - r)\n              .width(2 * r)\n              .height(2 * r);\n          this.didIlluminate();\n        }\n        this._illuminationState = \"illuminated\";\n      }\n    }\n  }\n\n  protected willIlluminate(): void {\n    // hook\n  }\n\n  protected didIlluminate(): void {\n    // hook\n  }\n\n  cancelIlluminate(): void {\n    if (this._illuminationTimer !== 0) {\n      clearTimeout(this._illuminationTimer);\n      this._illuminationTimer = 0;\n    }\n  }\n\n  stimulate(clientX: number, clientY: number, opacity: number, transition: Transition<any> | null): void {\n    if (this._illuminationState === \"passivated\") {\n      this.illuminate(clientX, clientY, opacity, transition);\n    }\n    if (this._illuminationState === \"illuminated\") {\n      this.willStimulate();\n      if (transition !== null) {\n        this.opacity(0, transition.onEnd(this.didStimulate.bind(this)));\n      } else {\n        this.opacity(0);\n        this.didStimulate();\n      }\n      this._illuminationState = \"stimulated\";\n    }\n  }\n\n  protected willStimulate(): void {\n    // hook\n  }\n\n  protected didStimulate(): void {\n    this.remove();\n  }\n\n  dissipate(clientX: number, clientY: number, transition: Transition<any> | null): void {\n    if (this._illuminationState === \"passivated\") {\n      this.cancelIlluminate();\n      this.didDissipate()\n    } else if (this._illuminationState === \"illuminated\") {\n      this.willDissipate();\n      if (transition !== null) {\n        this.opacity(0, transition.onEnd(this.didDissipate.bind(this)));\n      } else {\n        this.opacity(0);\n        this.didDissipate();\n      }\n    }\n    this._illuminationState = \"dissipated\";\n  }\n\n  protected willDissipate(): void {\n    // hook\n  }\n\n  protected didDissipate(): void {\n    this.remove();\n  }\n}\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Ease, Transition} from \"@swim/transition\";\nimport {GestureViewTrack, GestureView, GestureViewController} from \"@swim/gesture\";\nimport {IlluminationView} from \"./IlluminationView\";\n\nexport class TactileView extends GestureView {\n  constructor(node: HTMLElement) {\n    super(node);\n  }\n\n  protected initNode(node: HTMLElement): void {\n    this.addClass(\"tactile\");\n  }\n\n  get viewController(): GestureViewController<TactileView> | null {\n    return this._viewController;\n  }\n\n  get tactileTransition(): Transition<any> | null {\n    return Transition.duration<any>(250, Ease.cubicOut);\n  }\n\n  protected onBeginTrack(track: GestureViewTrack, event: Event | null): void {\n    if (track.view === void 0) {\n      const delay = track.pointerType === \"mouse\" ? 0 : 100;\n      const illumination = this.prepend(IlluminationView);\n      illumination.illuminate(track.x, track.y, 0.1, this.tactileTransition, delay);\n      track.view = illumination;\n    }\n  }\n\n  protected onMoveTrack(track: GestureViewTrack, event: Event | null): void {\n    super.onMoveTrack(track, event);\n    if (!this.clientBounds.contains(track.x, track.y)) {\n      track.preventDefault();\n      this.beginHover(track.id, track.pointerType, event);\n      if (track.view instanceof IlluminationView) {\n        track.view.dissipate(track.x, track.y, this.tactileTransition);\n      }\n    }\n  }\n\n  protected onEndTrack(track: GestureViewTrack, event: Event | null): void {\n    if (track.view instanceof IlluminationView) {\n      if (this.clientBounds.contains(track.x, track.y)) {\n        track.view.stimulate(track.x, track.y, 0.1, this.tactileTransition);\n      } else {\n        track.view.dissipate(track.x, track.y, this.tactileTransition);\n      }\n    }\n  }\n\n  protected onCancelTrack(track: GestureViewTrack, event: Event | null): void {\n    if (track.view instanceof IlluminationView) {\n      track.view.dissipate(track.x, track.y, this.tactileTransition);\n    }\n  }\n}\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Objects} from \"@swim/util\";\nimport {BoxR2} from \"@swim/math\";\nimport {AnyLength, Length} from \"@swim/length\";\nimport {Color} from \"@swim/color\";\nimport {Ease, Tween, AnyTransition, Transition} from \"@swim/transition\";\nimport {\n  ViewContext,\n  ViewFlags,\n  View,\n  ModalState,\n  Modal,\n  MemberAnimator,\n  RenderedViewObserver,\n  HtmlView,\n  HtmlViewObserver,\n} from \"@swim/view\";\nimport {PopoverViewObserver} from \"./PopoverViewObserver\";\nimport {PopoverViewController} from \"./PopoverViewController\";\n\nexport type PopoverPlacement = \"none\" | \"above\" | \"below\" | \"over\" | \"top\" | \"bottom\" | \"right\" | \"left\";\n\nexport class PopoverView extends HtmlView implements Modal, HtmlViewObserver, RenderedViewObserver {\n  /** @hidden */\n  _source: View | null;\n  /** @hidden */\n  _sourceFrame: BoxR2 | null;\n  /** @hidden */\n  _modalState: ModalState;\n  /** @hidden */\n  readonly _placement: PopoverPlacement[];\n  /** @hidden */\n  _placementFrame: BoxR2 | null;\n  /** @hidden */\n  _popoverTransition: Transition<any> | null;\n\n  constructor(node: HTMLElement = document.createElement(\"div\")) {\n    super(node);\n    this.arrowWidth.setState(Length.fromAny(10));\n    this.arrowHeight.setState(Length.fromAny(8));\n    this._source = null;\n    this._sourceFrame = null;\n    this._modalState = \"shown\";\n    this._placement = [\"top\", \"bottom\", \"right\", \"left\"];\n    this._placementFrame = null;\n    this._popoverTransition = Transition.duration(250, Ease.cubicOut);\n\n    const arrow = this.createArrow();\n    if (arrow !== null) {\n      const arrowView = View.fromNode(arrow);\n      this.prependChildView(arrowView, \"arrow\");\n    }\n  }\n\n  protected createArrow(): HTMLElement | null {\n    const arrow = document.createElement(\"div\");\n    arrow.setAttribute(\"class\", \"popover-arrow\");\n    arrow.style.setProperty(\"display\", \"none\");\n    arrow.style.setProperty(\"position\", \"absolute\");\n    arrow.style.setProperty(\"width\", \"0\");\n    arrow.style.setProperty(\"height\", \"0\");\n    return arrow;\n  }\n\n  get viewController(): PopoverViewController | null {\n    return this._viewController;\n  }\n\n  @MemberAnimator(Length)\n  arrowWidth: MemberAnimator<this, Length, AnyLength>;\n\n  @MemberAnimator(Length)\n  arrowHeight: MemberAnimator<this, Length, AnyLength>;\n\n  get source(): View | null {\n    return this._source;\n  }\n\n  setSource(source: View | null): void {\n    if (this._source !== source) {\n      this.willSetSource(source);\n      if (this._source !== null && this.isMounted()) {\n        this._source.removeViewObserver(this);\n      }\n      this._source = source;\n      this.onSetSource(source);\n      if (this._source !== null && this.isMounted()) {\n        this._source.addViewObserver(this);\n      }\n      this.didSetSource(source);\n    }\n  }\n\n  protected willSetSource(source: View | null): void {\n    this.willObserve(function (viewObserver: PopoverViewObserver): void {\n      if (viewObserver.popoverWillSetSource !== void 0) {\n        viewObserver.popoverWillSetSource(source, this);\n      }\n    });\n  }\n\n  protected onSetSource(source: View | null): void {\n    this.requireUpdate(View.NeedsLayout);\n  }\n\n  protected didSetSource(source: View | null): void {\n    this.didObserve(function (viewObserver: PopoverViewObserver): void {\n      if (viewObserver.popoverDidSetSource !== void 0) {\n        viewObserver.popoverDidSetSource(source, this);\n      }\n    });\n  }\n\n  get modalState(): ModalState {\n    return this._modalState;\n  }\n\n  get modalView(): View | null {\n    return this;\n  }\n\n  toggleModal(tween?: Tween<any>): void {\n    if (this._modalState === \"hidden\" || this._modalState === \"hiding\") {\n      this.showModal(tween);\n    } else if (this._modalState === \"shown\" || this._modalState === \"showing\") {\n      this.hideModal(tween);\n    }\n  }\n\n  showModal(tween?: Tween<any>): void {\n    if (this._modalState === \"hidden\" || this._modalState === \"hiding\") {\n      if (tween === void 0 || tween === true) {\n        tween = this._popoverTransition;\n      } else {\n        tween = Transition.forTween(tween);\n      }\n      this.willShow();\n      const placement = this.place();\n      if (tween !== null) {\n        tween = tween.onEnd(this.didShow.bind(this));\n        if (placement === \"above\") {\n          this.opacity.setState(void 0);\n          if (this.marginTop.value === void 0) {\n            this.marginTop(-this._node.clientHeight);\n          }\n          this.marginTop(0, tween);\n        } else if (placement === \"below\") {\n          this.opacity.setState(void 0);\n          if (this.marginTop.value === void 0) {\n            this.marginTop(this._node.clientHeight);\n          }\n          this.marginTop(0, tween);\n        } else {\n          this.marginTop.setState(void 0);\n          if (this.opacity.value === void 0) {\n            this.opacity(0);\n          }\n          this.opacity(1, tween);\n        }\n      } else {\n        this.didShow();\n      }\n    }\n  }\n\n  protected willShow(): void {\n    this.willObserve(function (viewObserver: PopoverViewObserver): void {\n      if (viewObserver.popoverWillShow !== void 0) {\n        viewObserver.popoverWillShow(this);\n      }\n    });\n    this.visibility(\"visible\");\n    this._modalState = \"showing\";\n  }\n\n  protected didShow(): void {\n    this._modalState = \"shown\";\n    this.pointerEvents(\"auto\");\n    this.marginTop.setState(void 0);\n    this.opacity.setState(void 0);\n    this.didObserve(function (viewObserver: PopoverViewObserver): void {\n      if (viewObserver.popoverDidShow !== void 0) {\n        viewObserver.popoverDidShow(this);\n      }\n    });\n  }\n\n  hideModal(tween?: Tween<any>): void {\n    if (this._modalState === \"shown\" || this._modalState === \"showing\") {\n      if (tween === void 0 || tween === true) {\n        tween = this._popoverTransition;\n      } else {\n        tween = Transition.forTween(tween);\n      }\n      this.willHide();\n      const placement = this.place();\n      if (tween !== null) {\n        tween = tween.onEnd(this.didHide.bind(this));\n        if (placement === \"above\") {\n          this.opacity.setState(void 0);\n          if (this.marginTop.value === void 0) {\n            this.marginTop(0);\n          }\n          this.marginTop(-this._node.clientHeight, tween);\n        } else if (placement === \"below\") {\n          this.opacity.setState(void 0);\n          if (this.marginTop.value === void 0) {\n            this.marginTop(0);\n          }\n          this.marginTop(this._node.clientHeight, tween);\n        } else {\n          this.marginTop.setState(void 0);\n          if (this.opacity.value === void 0) {\n            this.opacity(1);\n          }\n          this.opacity(0, tween);\n        }\n      } else {\n        this.didHide();\n      }\n    }\n  }\n\n  protected willHide(): void {\n    this.willObserve(function (viewObserver: PopoverViewObserver): void {\n      if (viewObserver.popoverWillHide !== void 0) {\n        viewObserver.popoverWillHide(this);\n      }\n    });\n    this.pointerEvents(\"none\");\n    this._modalState = \"hiding\";\n  }\n\n  protected didHide(): void {\n    this._modalState = \"hidden\";\n    this.visibility(\"hidden\");\n    this.marginTop.setState(void 0);\n    this.opacity.setState(void 0);\n    this.didObserve(function (viewObserver: PopoverViewObserver): void {\n      if (viewObserver.popoverDidHide !== void 0) {\n        viewObserver.popoverDidHide(this);\n      }\n    });\n  }\n\n  placement(): ReadonlyArray<PopoverPlacement>;\n  placement(placement: ReadonlyArray<PopoverPlacement>): this;\n  placement(placement?: ReadonlyArray<PopoverPlacement>): ReadonlyArray<PopoverPlacement> | this {\n    if (placement === void 0) {\n      return this._placement;\n    } else {\n      if (!Objects.equalArray(this._placement, placement)) {\n        this._placement.length = 0;\n        for (let i = 0, n = placement.length; i < n; i += 1) {\n          this._placement.push(placement[i]);\n        }\n        this.place();\n      }\n      return this;\n    }\n  }\n\n  placementFrame(): BoxR2 | null;\n  placementFrame(placementFrame: BoxR2 | null): this;\n  placementFrame(placementFrame?: BoxR2 | null): BoxR2 | null | this {\n    if (placementFrame === void 0) {\n      return this._placementFrame;\n    } else {\n      if (!Objects.equal(this._placementFrame, placementFrame)) {\n        this._placementFrame = placementFrame;\n        this.place();\n      }\n      return this;\n    }\n  }\n\n  popoverTransition(): Transition<any> | null;\n  popoverTransition(popoverTransition: AnyTransition<any> | null): this;\n  popoverTransition(popoverTransition?: AnyTransition<any> | null): Transition<any> | null | this {\n    if (popoverTransition === void 0) {\n      return this._popoverTransition;\n    } else {\n      if (popoverTransition !== null) {\n        popoverTransition = Transition.fromAny(popoverTransition);\n      }\n      return this;\n    }\n  }\n\n  protected modifyUpdate(updateFlags: ViewFlags): ViewFlags {\n    let additionalFlags = 0;\n    if ((updateFlags & (View.NeedsScroll | View.NeedsAnimate)) !== 0) {\n      additionalFlags |= View.NeedsLayout;\n    }\n    additionalFlags |= super.modifyUpdate(updateFlags | additionalFlags);\n    return additionalFlags;\n  }\n\n  protected didMount(): void {\n    if (this._source !== null) {\n      this._source.addViewObserver(this);\n    }\n    super.didMount();\n  }\n\n  protected willUnmount(): void {\n    super.willUnmount();\n    if (this._source !== null) {\n      this._source.removeViewObserver(this);\n    }\n  }\n\n  protected onLayout(viewContext: ViewContext): void {\n    super.onLayout(viewContext);\n    this.place();\n  }\n\n  place(): PopoverPlacement {\n    const source = this._source;\n    const oldSourceFrame = this._sourceFrame;\n    const newSourceFrame = source !== null ? source.popoverFrame : null;\n    if (newSourceFrame !== null && this._placement.length !== 0 && !newSourceFrame.equals(oldSourceFrame)) {\n      const placement = this.placePopover(source!, newSourceFrame);\n      const arrow = this.getChildView(\"arrow\");\n      if (arrow instanceof HtmlView) {\n        this.placeArrow(source!, newSourceFrame, arrow, placement);\n      }\n      return placement;\n    } else {\n      return \"none\";\n    }\n  }\n\n  /** @hidden */\n  protected placePopover(source: View, sourceFrame: BoxR2): PopoverPlacement {\n    const node = this._node;\n    const parent = node.offsetParent;\n    if (parent === null) {\n      return \"none\";\n    }\n    const popoverWidth = node.clientWidth;\n    const popoverHeight = node.clientHeight;\n\n    // offsetParent bounds in client coordinates\n    const parentBounds = parent.getBoundingClientRect();\n    const parentLeft = parentBounds.left;\n    const parentTop = parentBounds.top;\n\n    // source bounds in offsetParent coordinates (transformed from page coordinates)\n    const sourceLeft = sourceFrame.left - window.pageXOffset - parentLeft;\n    const sourceRight = sourceFrame.right - window.pageXOffset - parentLeft;\n    const sourceTop = sourceFrame.top - window.pageYOffset - parentTop;\n    const sourceBottom = sourceFrame.bottom - window.pageYOffset - parentTop;\n    const sourceWidth = sourceFrame.width;\n    const sourceHeight = sourceFrame.height;\n    const sourceX = sourceLeft + sourceWidth/2;\n    const sourceY = sourceTop + sourceHeight/2;\n\n    // placement frame in offsetParent coordinates (transformed from client coordinates)\n    const placementFrame = this._placementFrame;\n    const placementLeft = (placementFrame !== null ? placementFrame.left : 0);\n    const placementRight = (placementFrame !== null ? placementFrame.right : window.innerWidth) - parentLeft;\n    const placementTop = (placementFrame !== null ? placementFrame.top : 0);\n    const placementBottom = (placementFrame !== null ? placementFrame.bottom : window.innerHeight) - parentTop;\n\n    // source bound margins relative to placement bounds\n    const marginLeft = sourceLeft - placementLeft - window.pageXOffset;\n    const marginRight = placementRight - sourceLeft - sourceWidth;\n    const marginTop = sourceTop - placementTop - window.pageYOffset;\n    const marginBottom = placementBottom - sourceTop - sourceHeight;\n\n    const arrowHeight = this.arrowHeight.value!.pxValue();\n\n    let placement: PopoverPlacement | undefined;\n    for (let i = 0; i < this._placement.length; i += 1) { // first fit\n      const p = this._placement[i];\n      if (p === \"above\" || p === \"below\" || p === \"over\") {\n        placement = p;\n        break;\n      } else if (p === \"top\" && popoverHeight + arrowHeight <= marginTop) {\n        placement = p;\n        break;\n      } else if (p === \"bottom\" && popoverHeight + arrowHeight <= marginBottom) {\n        placement = p;\n        break;\n      } else if (p === \"left\" && popoverWidth + arrowHeight <= marginLeft) {\n        placement = p;\n        break;\n      } else if (p === \"right\" && popoverWidth + arrowHeight <= marginRight) {\n        placement = p;\n        break;\n      }\n    }\n    if (placement === void 0) {\n      placement = \"none\";\n      for (let i = 0, n = this._placement.length; i < n; i += 1) { // best fit\n        const p = this._placement[i];\n        if (p === \"top\" && marginTop >= marginBottom) {\n          placement = p;\n          break;\n        } else if (p === \"bottom\" && marginBottom >= marginTop) {\n          placement = p;\n          break;\n        } else if (p === \"left\" && marginLeft >= marginRight) {\n          placement = p;\n          break;\n        } else if (p === \"right\" && marginRight >= marginLeft) {\n          placement = p;\n          break;\n        }\n      }\n    }\n\n    const maxWidthStyle = node.style.getPropertyValue(\"max-width\");\n    const maxHeightStyle = node.style.getPropertyValue(\"max-height\");\n    const oldMaxWidth = maxWidthStyle ? Length.fromAny(maxWidthStyle).pxValue() : 0;\n    const oldMaxHeight = maxHeightStyle ? Length.fromAny(maxHeightStyle).pxValue() : 0;\n    let maxWidth = oldMaxWidth;\n    let maxHeight = oldMaxHeight;\n    let left = node.offsetLeft;\n    let top = node.offsetTop;\n    let right: number | undefined;\n    let bottom: number | undefined;\n    if (placement === \"above\") {\n      left = placementLeft;\n      top = placementTop;\n      right = (placementFrame !== null ? placementFrame.width : window.innerWidth) - placementRight;\n      maxWidth = Math.max(0, placementRight - placementLeft);\n      maxHeight = Math.max(0, placementBottom - placementTop);\n    } else if (placement === \"below\") {\n      left = placementLeft;\n      top = placementBottom - popoverHeight;\n      right = placementRight - (placementFrame !== null ? placementFrame.width : window.innerWidth);\n      maxWidth = Math.max(0, placementRight - placementLeft);\n      maxHeight = Math.max(0, placementBottom - placementTop);\n    } else if (placement === \"over\") {\n      left = placementLeft;\n      top = placementTop;\n      right = placementRight - (placementFrame !== null ? placementFrame.width : window.innerWidth);\n      bottom = placementBottom - (placementFrame !== null ? placementFrame.height : window.innerHeight);\n      maxWidth = Math.max(0, placementRight - placementLeft);\n      maxHeight = Math.max(0, placementBottom - placementTop);\n    } else if (placement === \"top\") {\n      if (sourceX - popoverWidth/2 <= placementLeft) {\n        left = placementLeft;\n      } else if (sourceX + popoverWidth/2 >= placementRight) {\n        left = placementRight - popoverWidth;\n      } else {\n        left = sourceX - popoverWidth/2;\n      }\n      top = Math.max(placementTop, sourceTop - (popoverHeight + arrowHeight));\n      maxWidth = Math.max(0, placementRight - placementLeft);\n      maxHeight = Math.max(0, sourceBottom - placementTop);\n    } else if (placement === \"bottom\") {\n      if (sourceX - popoverWidth/2 <= placementLeft) {\n        left = placementLeft;\n      } else if (sourceX + popoverWidth/2 >= placementRight) {\n        left = placementRight - popoverWidth;\n      } else {\n        left = sourceX - popoverWidth/2;\n      }\n      top = Math.max(placementTop, sourceBottom + arrowHeight);\n      maxWidth = Math.max(0, placementRight - placementLeft);\n      maxHeight = Math.max(0, placementBottom - sourceTop);\n    } else if (placement === \"left\") {\n      left = Math.max(placementLeft, sourceLeft - (popoverWidth + arrowHeight));\n      if (sourceY - popoverHeight/2 <= placementTop) {\n        top = placementTop;\n      } else if (sourceY + popoverHeight/2 >= placementBottom) {\n        top = placementBottom - popoverHeight;\n      } else {\n        top = sourceY - popoverHeight/2;\n      }\n      maxWidth = Math.max(0, sourceRight - placementLeft);\n      maxHeight = Math.max(0, placementBottom - placementTop);\n    } else if (placement === \"right\") {\n      left = Math.max(placementLeft, sourceRight + arrowHeight);\n      if (sourceY - popoverHeight/2 <= placementTop) {\n        top = placementTop;\n      } else if (sourceY + popoverHeight/2 >= placementBottom) {\n        top = placementBottom - popoverHeight;\n      } else {\n        top = sourceY - popoverHeight/2;\n      }\n      maxWidth = Math.max(0, placementRight - sourceLeft);\n      maxHeight = Math.max(0, placementBottom - placementTop);\n    }\n\n    if (placement !== \"none\" && (left !== node.offsetLeft || top !== node.offsetTop\n                             ||  maxWidth !== oldMaxWidth || maxHeight !== oldMaxHeight)) {\n      this.willPlacePopover(placement!);\n      node.style.setProperty(\"position\", \"absolute\");\n      node.style.setProperty(\"left\", left + \"px\");\n      if (right !== void 0) {\n        node.style.setProperty(\"right\", right + \"px\");\n      } else {\n        node.style.removeProperty(\"right\");\n      }\n      node.style.setProperty(\"top\", top + \"px\");\n      if (bottom !== void 0) {\n        node.style.setProperty(\"bottom\", bottom + \"px\");\n      } else {\n        node.style.removeProperty(\"bottom\");\n      }\n      node.style.setProperty(\"max-width\", maxWidth + \"px\");\n      node.style.setProperty(\"max-height\", maxHeight + \"px\");\n      this.onPlacePopover(placement!);\n      this.didPlacePopover(placement!);\n    }\n\n    return placement;\n  }\n\n  protected willPlacePopover(placement: PopoverPlacement): void {\n    this.willObserve(function (viewObserver: PopoverViewObserver): void {\n      if (viewObserver.popoverWillPlace !== void 0) {\n        viewObserver.popoverWillPlace(placement, this);\n      }\n    });\n  }\n\n  protected onPlacePopover(placement: PopoverPlacement): void {\n    // hook\n  }\n\n  protected didPlacePopover(placement: PopoverPlacement): void {\n    this.didObserve(function (viewObserver: PopoverViewObserver): void {\n      if (viewObserver.popoverDidPlace !== void 0) {\n        viewObserver.popoverDidPlace(placement, this);\n      }\n    });\n  }\n\n  /** @hidden */\n  protected placeArrow(source: View, sourceFrame: BoxR2, arrow: HtmlView,\n                       placement: PopoverPlacement): void {\n    const node = this._node;\n    const parent = node.offsetParent;\n    if (parent === null) {\n      return;\n    }\n    const arrowNode = arrow._node;\n\n    // offsetParent bounds in client coordinates\n    const parentBounds = parent.getBoundingClientRect();\n    const parentLeft = parentBounds.left;\n    const parentTop = parentBounds.top;\n\n    // source bounds in offsetParent coordinates (transformed from page coordinates)\n    const sourceLeft = sourceFrame.left - window.pageXOffset - parentLeft;\n    const sourceTop = sourceFrame.top - window.pageYOffset - parentTop;\n    const sourceWidth = sourceFrame.width;\n    const sourceHeight = sourceFrame.height;\n    const sourceX = sourceLeft + sourceWidth/2;\n    const sourceY = sourceTop + sourceHeight/2;\n\n    const offsetLeft = node.offsetLeft;\n    const offsetRight = offsetLeft + node.clientWidth;\n    const offsetTop = node.offsetTop;\n    const offsetBottom = offsetTop + node.clientHeight;\n\n    const backgroundColor = this.backgroundColor() || Color.transparent();\n    const borderRadius = this.borderRadius();\n    const radius = borderRadius instanceof Length ? borderRadius.pxValue() : 0;\n\n    const arrowWidth = this.arrowWidth.value!.pxValue();\n    const arrowHeight = this.arrowHeight.value!.pxValue();\n\n    const arrowXMin = offsetLeft + radius + arrowWidth/2;\n    const arrowXMax = offsetRight - radius - arrowWidth/2;\n    const arrowYMin = offsetTop + radius + arrowWidth/2;\n    const arrowYMax = offsetBottom - radius - arrowWidth/2;\n\n    arrowNode.style.removeProperty(\"top\");\n    arrowNode.style.removeProperty(\"right\");\n    arrowNode.style.removeProperty(\"bottom\");\n    arrowNode.style.removeProperty(\"left\");\n    arrowNode.style.removeProperty(\"border-left-width\");\n    arrowNode.style.removeProperty(\"border-left-style\");\n    arrowNode.style.removeProperty(\"border-left-color\");\n    arrowNode.style.removeProperty(\"border-right-width\");\n    arrowNode.style.removeProperty(\"border-right-style\");\n    arrowNode.style.removeProperty(\"border-right-color\");\n    arrowNode.style.removeProperty(\"border-top-width\");\n    arrowNode.style.removeProperty(\"border-top-style\");\n    arrowNode.style.removeProperty(\"border-top-color\");\n    arrowNode.style.removeProperty(\"border-bottom-width\");\n    arrowNode.style.removeProperty(\"border-bottom-style\");\n    arrowNode.style.removeProperty(\"border-bottom-color\");\n\n    if (placement === \"none\" || placement === \"above\" || placement === \"below\" || placement === \"over\") {\n      // hide arrow\n      arrowNode.style.setProperty(\"display\", \"none\");\n    } else if (offsetTop - arrowHeight >= sourceY // arrow tip below source center\n        && arrowXMin <= sourceX && sourceX <= arrowXMax) { // arrow base on top popover edge\n      // top arrow\n      arrowNode.style.setProperty(\"display\", \"block\");\n      arrowNode.style.setProperty(\"top\", (-arrowHeight) + \"px\");\n      arrowNode.style.setProperty(\"left\", (sourceX - offsetLeft - arrowWidth/2) + \"px\");\n      arrowNode.style.setProperty(\"border-left-width\", (arrowWidth/2) + \"px\");\n      arrowNode.style.setProperty(\"border-left-style\", \"solid\");\n      arrowNode.style.setProperty(\"border-left-color\", \"transparent\");\n      arrowNode.style.setProperty(\"border-right-width\", (arrowWidth/2) + \"px\");\n      arrowNode.style.setProperty(\"border-right-style\", \"solid\");\n      arrowNode.style.setProperty(\"border-right-color\", \"transparent\");\n      arrowNode.style.setProperty(\"border-bottom-width\", arrowHeight + \"px\");\n      arrowNode.style.setProperty(\"border-bottom-style\", \"solid\");\n      arrowNode.style.setProperty(\"border-bottom-color\", backgroundColor.toString());\n    } else if (offsetBottom + arrowHeight <= sourceY // arrow tip above source center\n        && arrowXMin <= sourceX && sourceX <= arrowXMax) { // arrow base on bottom popover edge\n      // bottom arrow\n      arrowNode.style.setProperty(\"display\", \"block\");\n      arrowNode.style.setProperty(\"bottom\", (-arrowHeight) + \"px\");\n      arrowNode.style.setProperty(\"left\", (sourceX - offsetLeft - arrowWidth/2) + \"px\");\n      arrowNode.style.setProperty(\"border-left-width\", (arrowWidth/2) + \"px\");\n      arrowNode.style.setProperty(\"border-left-style\", \"solid\");\n      arrowNode.style.setProperty(\"border-left-color\", \"transparent\");\n      arrowNode.style.setProperty(\"border-right-width\", (arrowWidth/2) + \"px\");\n      arrowNode.style.setProperty(\"border-right-style\", \"solid\");\n      arrowNode.style.setProperty(\"border-right-color\", \"transparent\");\n      arrowNode.style.setProperty(\"border-top-width\", arrowHeight + \"px\");\n      arrowNode.style.setProperty(\"border-top-style\", \"solid\");\n      arrowNode.style.setProperty(\"border-top-color\", backgroundColor.toString());\n    } else if (offsetLeft - arrowHeight >= sourceX // arrow tip right of source center\n        && arrowYMin <= sourceY && sourceY <= arrowYMax) { // arrow base on left popover edge\n      // left arrow\n      arrowNode.style.setProperty(\"display\", \"block\");\n      arrowNode.style.setProperty(\"left\", (-arrowHeight) + \"px\");\n      arrowNode.style.setProperty(\"top\", (sourceY - offsetTop - arrowWidth/2) + \"px\");\n      arrowNode.style.setProperty(\"border-top-width\", (arrowWidth/2) + \"px\");\n      arrowNode.style.setProperty(\"border-top-style\", \"solid\");\n      arrowNode.style.setProperty(\"border-top-color\", \"transparent\");\n      arrowNode.style.setProperty(\"border-bottom-width\", (arrowWidth/2) + \"px\");\n      arrowNode.style.setProperty(\"border-bottom-style\", \"solid\");\n      arrowNode.style.setProperty(\"border-bottom-color\", \"transparent\");\n      arrowNode.style.setProperty(\"border-right-width\", arrowHeight + \"px\");\n      arrowNode.style.setProperty(\"border-right-style\", \"solid\");\n      arrowNode.style.setProperty(\"border-right-color\", backgroundColor.toString());\n    } else if (offsetRight + arrowHeight <= sourceX // arrow tip left of source center\n        && arrowYMin <= sourceY && sourceY <= arrowYMax) { // arrow base on right popover edge\n      // right arrow\n      arrowNode.style.setProperty(\"display\", \"block\");\n      arrowNode.style.setProperty(\"right\", (-arrowHeight) + \"px\");\n      arrowNode.style.setProperty(\"top\", (sourceY - offsetTop - arrowWidth/2) + \"px\");\n      arrowNode.style.setProperty(\"border-top-width\", (arrowWidth/2) + \"px\");\n      arrowNode.style.setProperty(\"border-top-style\", \"solid\");\n      arrowNode.style.setProperty(\"border-top-color\", \"transparent\");\n      arrowNode.style.setProperty(\"border-bottom-width\", (arrowWidth/2) + \"px\");\n      arrowNode.style.setProperty(\"border-bottom-style\", \"solid\");\n      arrowNode.style.setProperty(\"border-bottom-color\", \"transparent\");\n      arrowNode.style.setProperty(\"border-left-width\", arrowHeight + \"px\");\n      arrowNode.style.setProperty(\"border-left-style\", \"solid\");\n      arrowNode.style.setProperty(\"border-left-color\", backgroundColor.toString());\n    } else {\n      // no arrow\n      arrowNode.style.setProperty(\"display\", \"none\");\n    }\n  }\n\n  viewDidMount(view: View): void {\n    this.place();\n  }\n\n  viewDidPower(view: View): void {\n    this.place();\n  }\n\n  viewDidScroll(viewContext: ViewContext, view: View): void {\n    this.place();\n  }\n\n  viewDidLayout(viewContext: ViewContext, view: View): void {\n    this.place();\n  }\n\n  viewDidSetAttribute(name: string, value: unknown, view: HtmlView): void {\n    this.place();\n  }\n\n  viewDidSetStyle(name: string, value: unknown, priority: string | undefined, view: HtmlView): void {\n    this.place();\n  }\n}\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {View, HtmlViewController} from \"@swim/view\";\nimport {PopoverPlacement, PopoverView} from \"./PopoverView\";\nimport {PopoverViewObserver} from \"./PopoverViewObserver\";\n\nexport class PopoverViewController<V extends PopoverView = PopoverView> extends HtmlViewController<V> implements PopoverViewObserver<V> {\n  get source(): View | null {\n    const view = this._view;\n    return view !== null ? view.source : null;\n  }\n\n  popoverWillSetSource(source: View | null, view: V): void {\n    // hook\n  }\n\n  popoverDidSetSource(source: View | null, view: V): void {\n    // hook\n  }\n\n  popoverWillPlace(placement: PopoverPlacement, view: V): void {\n    // hook\n  }\n\n  popoverDidPlace(placement: PopoverPlacement, view: V): void {\n    // hook\n  }\n\n  popoverWillShow(view: V): void {\n    // hook\n  }\n\n  popoverDidShow(view: V): void {\n    // hook\n  }\n\n  popoverWillHide(view: V): void {\n    // hook\n  }\n\n  popoverDidHide(view: V): void {\n    // hook\n  }\n}\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {AnyLength, Length} from \"@swim/length\";\nimport {Color} from \"@swim/color\";\nimport {BoxShadow} from \"@swim/shadow\";\nimport {Ease, Tween, Transition} from \"@swim/transition\";\nimport {\n  ViewScope,\n  ViewEdgeInsets,\n  ViewContext,\n  View,\n  ModalState,\n  Modal,\n  MemberAnimator,\n  HtmlView,\n} from \"@swim/view\";\nimport {DrawerViewObserver} from \"./DrawerViewObserver\";\nimport {DrawerViewController} from \"./DrawerViewController\";\n\nexport type DrawerPlacement = \"top\" | \"right\" | \"bottom\" | \"left\";\n\nexport type DrawerState = \"shown\" | \"showing\"\n                        | \"hidden\" | \"hiding\"\n                        | \"collapsed\" | \"collapsing\";\n\nexport class DrawerView extends HtmlView implements Modal {\n  /** @hidden */\n  _drawerPlacement: DrawerPlacement;\n  /** @hidden */\n  _drawerState: DrawerState;\n  /** @hidden */\n  _drawerTransition: Transition<any>;\n\n  constructor(node: HTMLElement) {\n    super(node);\n    this.collapsedWidth.setAutoState(Length.px(60));\n    this.expandedWidth.setAutoState(Length.px(200));\n    this.drawerSlide.setState(0);\n    this.drawerSlide.update = this.updateDrawerSlide.bind(this);\n    this.drawerStretch.setState(1);\n    this.drawerStretch.update = this.updateDrawerStretch.bind(this);\n    this._drawerPlacement = \"left\";\n    this._drawerState = \"hidden\";\n    this._drawerTransition = Transition.duration(250, Ease.cubicOut);\n  }\n\n  protected initNode(node: HTMLElement): void {\n    this.addClass(\"drawer\")\n        .display(\"none\")\n        .flexDirection(\"column\")\n        .overflowX(\"hidden\")\n        .overflowY(\"auto\")\n        .overscrollBehaviorY(\"contain\")\n        .webkitOverflowScrolling(\"touch\")\n        .backgroundColor(\"#26282a\");\n  }\n\n  get viewController(): DrawerViewController | null {\n    return this._viewController;\n  }\n\n  get drawerState(): DrawerState {\n    return this._drawerState;\n  }\n\n  isShown(): boolean {\n    return this._drawerState === \"shown\" || this._drawerState === \"showing\";\n  }\n\n  isHidden(): boolean {\n    return this._drawerState === \"hidden\" || this._drawerState === \"hiding\";\n  }\n\n  isCollapsed(): boolean {\n    return this._drawerState === \"collapsed\" || this._drawerState === \"collapsing\";\n  }\n\n  @MemberAnimator(Length)\n  collapsedWidth: MemberAnimator<this, Length, AnyLength>;\n\n  @MemberAnimator(Length)\n  expandedWidth: MemberAnimator<this, Length, AnyLength>;\n\n  @MemberAnimator(Number)\n  drawerSlide: MemberAnimator<this, number>; // 0 = hidden; 1 = shown\n\n  @MemberAnimator(Number)\n  drawerStretch: MemberAnimator<this, number>; // 0 = collapsed; 1 = expanded\n\n  drawerPlacement(): DrawerPlacement;\n  drawerPlacement(drawerPlacement: DrawerPlacement): this;\n  drawerPlacement(newPlacement?: DrawerPlacement): DrawerPlacement | this {\n    const oldPlacement = this._drawerPlacement;\n    if (newPlacement === void 0) {\n      return oldPlacement;\n    } else {\n      if (oldPlacement !== newPlacement) {\n        this.willSetDrawerPlacement(newPlacement, oldPlacement);\n        this._drawerPlacement = newPlacement;\n        this.onSetDrawerPlacement(newPlacement, oldPlacement);\n        this.didSetDrawerPlacement(newPlacement, oldPlacement);\n      }\n      return this;\n    }\n  }\n\n  isHorizontal(): boolean {\n    return this._drawerPlacement === \"top\" || this._drawerPlacement === \"bottom\";\n  }\n\n  isVertical(): boolean {\n    return this._drawerPlacement === \"left\" || this._drawerPlacement === \"right\";\n  }\n\n  @ViewScope\n  edgeInsets: ViewScope<this, ViewEdgeInsets>;\n\n  protected willSetDrawerPlacement(newPlacement: DrawerPlacement, oldPlacement: DrawerPlacement): void {\n    this.willObserve(function (viewObserver: DrawerViewObserver): void {\n      if (viewObserver.drawerWillSetPlacement !== void 0) {\n        viewObserver.drawerWillSetPlacement(newPlacement, oldPlacement, this);\n      }\n    });\n  }\n\n  protected onSetDrawerPlacement(newPlacement: DrawerPlacement, oldPlacement: DrawerPlacement): void {\n    this.requireUpdate(View.NeedsLayout);\n  }\n\n  protected didSetDrawerPlacement(newPlacement: DrawerPlacement, oldPlacement: DrawerPlacement): void {\n    this.didObserve(function (viewObserver: DrawerViewObserver): void {\n      if (viewObserver.drawerDidSetPlacement !== void 0) {\n        viewObserver.drawerDidSetPlacement(newPlacement, oldPlacement, this);\n      }\n    });\n  }\n\n  /** @hidden */\n  protected updateDrawerSlide(drawerSlide: number): void {\n    const drawerPlacement = this._drawerPlacement;\n    if (drawerPlacement === \"top\") {\n      this.updateDrawerSlideTop(drawerSlide);\n    } else if (drawerPlacement === \"right\") {\n      this.updateDrawerSlideRight(drawerSlide);\n    } else if (drawerPlacement === \"bottom\") {\n      this.updateDrawerSlideBottom(drawerSlide);\n    } else if (drawerPlacement === \"left\") {\n      this.updateDrawerSlideLeft(drawerSlide);\n    }\n  }\n\n  /** @hidden */\n  protected updateDrawerSlideTop(drawerSlide: number): void {\n    this.top.setAutoState(Length.px((drawerSlide - 1) * this._node.offsetHeight));\n  }\n\n  /** @hidden */\n  protected updateDrawerSlideRight(drawerSlide: number): void {\n    this.right.setAutoState(Length.px((drawerSlide - 1) * this._node.offsetWidth));\n  }\n\n  /** @hidden */\n  protected updateDrawerSlideBottom(drawerSlide: number): void {\n    this.bottom.setAutoState(Length.px((drawerSlide - 1) * this._node.offsetHeight));\n  }\n\n  /** @hidden */\n  protected updateDrawerSlideLeft(drawerSlide: number): void {\n    this.left.setAutoState(Length.px((drawerSlide - 1) * this._node.offsetWidth));\n  }\n\n  /** @hidden */\n  protected updateDrawerStretch(drawerStretch: number): void {\n    if (this.isVertical()) {\n      const collapsedWidth = this.collapsedWidth.value!;\n      const expandedWidth = this.expandedWidth.value!;\n      const width = collapsedWidth.times(1 - drawerStretch).plus(expandedWidth.times(drawerStretch));\n      this.width.setAutoState(width);\n    }\n  }\n\n  protected onLayout(viewContext: ViewContext): void {\n    super.onLayout(viewContext);\n    this.place(viewContext);\n    if (viewContext.viewIdiom === \"mobile\") {\n      this.borderRightColor(Color.transparent());\n      this.boxShadow.setState(BoxShadow.of(0, 2, 4, 0, Color.black(0.5)));\n    } else {\n      this.borderRightColor(Color.black());\n      this.boxShadow.setState(void 0);\n    }\n  }\n\n  protected place(viewContext: ViewContext): void {\n    const drawerPlacement = this._drawerPlacement;\n    if (drawerPlacement === \"top\") {\n      this.placeTop(viewContext);\n    } else if (drawerPlacement === \"right\") {\n      this.placeRight(viewContext);\n    } else if (drawerPlacement === \"bottom\") {\n      this.placeBottom(viewContext);\n    } else if (drawerPlacement === \"left\") {\n      this.placeLeft(viewContext);\n    }\n  }\n\n  /** @hidden */\n  protected placeTop(viewContext: ViewContext): void {\n    this.addClass(\"drawer-top\")\n        .removeClass(\"drawer-right\")\n        .removeClass(\"drawer-bottom\")\n        .removeClass(\"drawer-left\");\n\n    this.position.setAutoState(\"fixed\");\n    this.width.setAutoState(void 0);\n    this.height.setAutoState(void 0);\n    this.top.setAutoState(void 0);\n    this.right.setAutoState(Length.zero());\n    this.bottom.setAutoState(void 0);\n    this.left.setAutoState(Length.zero());\n    this.updateDrawerSlideTop(this.drawerSlide.value!);\n\n    const safeArea = viewContext.viewport.safeArea;\n    this.edgeInsets.setState({\n      insetTop: 0,\n      insetRight: safeArea.insetRight,\n      insetBottom: 0,\n      insetLeft: safeArea.insetLeft,\n    });\n\n    if (this.isCollapsed()) {\n      this.expand();\n    }\n  }\n\n  /** @hidden */\n  protected placeRight(viewContext: ViewContext): void {\n    this.removeClass(\"drawer-top\")\n        .addClass(\"drawer-right\")\n        .removeClass(\"drawer-bottom\")\n        .removeClass(\"drawer-left\");\n\n    this.position.setAutoState(\"fixed\");\n    this.width.setAutoState(void 0);\n    this.height.setAutoState(void 0);\n    this.top.setAutoState(Length.zero());\n    this.right.setAutoState(void 0);\n    this.bottom.setAutoState(Length.zero());\n    this.left.setAutoState(void 0);\n    this.updateDrawerSlideRight(this.drawerSlide.value!);\n    this.updateDrawerStretch(this.drawerStretch.value!);\n\n    const safeArea = viewContext.viewport.safeArea;\n    this.paddingTop.setAutoState(Length.px(safeArea.insetTop));\n    this.paddingBottom.setAutoState(Length.px(safeArea.insetBottom));\n    this.edgeInsets.setState({\n      insetTop: 0,\n      insetRight: safeArea.insetRight,\n      insetBottom: 0,\n      insetLeft: 0,\n    });\n  }\n\n  /** @hidden */\n  protected placeBottom(viewContext: ViewContext): void {\n    this.removeClass(\"drawer-top\")\n        .removeClass(\"drawer-right\")\n        .addClass(\"drawer-bottom\")\n        .removeClass(\"drawer-left\");\n\n    this.position.setAutoState(\"fixed\");\n    this.width.setAutoState(void 0);\n    this.height.setAutoState(void 0);\n    this.top.setAutoState(void 0);\n    this.right.setAutoState(Length.zero());\n    this.bottom.setAutoState(void 0);\n    this.left.setAutoState(Length.zero());\n    this.updateDrawerSlideBottom(this.drawerSlide.value!);\n\n    const safeArea = viewContext.viewport.safeArea;\n    this.edgeInsets.setState({\n      insetTop: 0,\n      insetRight: safeArea.insetRight,\n      insetBottom: 0,\n      insetLeft: safeArea.insetLeft,\n    });\n\n    if (this.isCollapsed()) {\n      this.expand();\n    }\n  }\n\n  /** @hidden */\n  protected placeLeft(viewContext: ViewContext): void {\n    this.removeClass(\"drawer-top\")\n        .removeClass(\"drawer-right\")\n        .removeClass(\"drawer-bottom\")\n        .addClass(\"drawer-left\");\n\n    this.position.setAutoState(\"fixed\");\n    this.width.setAutoState(void 0);\n    this.height.setAutoState(void 0);\n    this.top.setAutoState(Length.zero());\n    this.right.setAutoState(void 0);\n    this.bottom.setAutoState(Length.zero());\n    this.left.setAutoState(void 0);\n    this.updateDrawerSlideLeft(this.drawerSlide.value!);\n    this.updateDrawerStretch(this.drawerStretch.value!);\n\n    const safeArea = viewContext.viewport.safeArea;\n    this.paddingTop.setAutoState(Length.px(safeArea.insetTop));\n    this.paddingBottom.setAutoState(Length.px(safeArea.insetBottom));\n    this.edgeInsets.setState({\n      insetTop: 0,\n      insetRight: 0,\n      insetBottom: 0,\n      insetLeft: safeArea.insetLeft,\n    });\n  }\n\n  get modalState(): ModalState {\n    const drawerState = this._drawerState;\n    if (drawerState === \"collapsed\" || drawerState === \"collapsing\") {\n      return \"shown\";\n    } else {\n      return drawerState;\n    }\n  }\n\n  get modalView(): View | null {\n    return this;\n  }\n\n  showModal(tween?: Tween<any>): void {\n    this.show(tween);\n  }\n\n  hideModal(tween?: Tween<any>): void {\n    this.hide(tween);\n  }\n\n  show(tween?: Tween<any>): void {\n    if (!this.isShown() || this.drawerSlide.value !== 1 || this.drawerStretch.value !== 1) {\n      if (tween === void 0 || tween === true) {\n        tween = this._drawerTransition;\n      } else {\n        tween = Transition.forTween(tween);\n      }\n      this.willShow();\n      if (tween !== null) {\n        this.drawerStretch(1, tween)\n            .drawerSlide(1, tween.onEnd(this.didShow.bind(this)));\n      } else {\n        this.drawerStretch(1)\n            .drawerSlide(1);\n        this.didShow();\n      }\n    }\n  }\n\n  protected willShow(): void {\n    this.willObserve(function (viewObserver: DrawerViewObserver): void {\n      if (viewObserver.drawerWillShow !== void 0) {\n        viewObserver.drawerWillShow(this);\n      }\n    });\n    this._drawerState = \"showing\";\n    this.display(\"flex\");\n  }\n\n  protected didShow(): void {\n    this._drawerState = \"shown\";\n    this.didObserve(function (viewObserver: DrawerViewObserver): void {\n      if (viewObserver.drawerDidShow !== void 0) {\n        viewObserver.drawerDidShow(this);\n      }\n    });\n  }\n\n  hide(tween?: Tween<any>): void {\n    if (!this.isHidden() || this.drawerSlide.value !== 0) {\n      if (tween === void 0 || tween === true) {\n        tween = this._drawerTransition;\n      } else {\n        tween = Transition.forTween(tween);\n      }\n      this.willHide();\n      if (tween !== null) {\n        this.drawerSlide(0, tween.onEnd(this.didHide.bind(this)));\n      } else {\n        this.drawerSlide(0);\n        this.didHide();\n      }\n    }\n  }\n\n  protected willHide(): void {\n    this.willObserve(function (viewObserver: DrawerViewObserver): void {\n      if (viewObserver.drawerWillHide !== void 0) {\n        viewObserver.drawerWillHide(this);\n      }\n    });\n    this._drawerState = \"hiding\";\n  }\n\n  protected didHide(): void {\n    this.display(\"none\");\n    this._drawerState = \"hidden\";\n    this.didObserve(function (viewObserver: DrawerViewObserver): void {\n      if (viewObserver.drawerDidHide !== void 0) {\n        viewObserver.drawerDidHide(this);\n      }\n    });\n  }\n\n  expand(tween?: Tween<any>): void {\n    if (!this.isShown() || this.drawerSlide.value !== 1 || this.drawerStretch.value !== 1) {\n      if (tween === void 0 || tween === true) {\n        tween = this._drawerTransition;\n      } else {\n        tween = Transition.forTween(tween);\n      }\n      this.willExpand();\n      if (tween !== null) {\n        this.drawerSlide(1, tween)\n            .drawerStretch(1, tween.onEnd(this.didExpand.bind(this)));\n      } else {\n        this.drawerSlide(1)\n            .drawerStretch(1);\n        this.didExpand();\n      }\n    }\n  }\n\n  protected willExpand(): void {\n    this.willObserve(function (viewObserver: DrawerViewObserver): void {\n      if (viewObserver.drawerWillExpand !== void 0) {\n        viewObserver.drawerWillExpand(this);\n      }\n    });\n    this._drawerState = \"showing\";\n  }\n\n  protected didExpand(): void {\n    this._drawerState = \"shown\";\n    this.didObserve(function (viewObserver: DrawerViewObserver): void {\n      if (viewObserver.drawerDidExpand !== void 0) {\n        viewObserver.drawerDidExpand(this);\n      }\n    });\n  }\n\n  collapse(tween?: Tween<any>): void {\n    if (this.isVertical() && (!this.isCollapsed() || this.drawerSlide.value !== 1 || this.drawerStretch.value !== 0)) {\n      if (tween === void 0 || tween === true) {\n        tween = this._drawerTransition;\n      } else {\n        tween = Transition.forTween(tween);\n      }\n      this.willCollapse();\n      if (tween !== null) {\n        this.drawerSlide(1, tween)\n            .drawerStretch(0, tween.onEnd(this.didCollapse.bind(this)));\n      } else {\n        this.drawerSlide(1)\n            .drawerStretch(0);\n        this.didCollapse();\n      }\n    }\n  }\n\n  protected willCollapse(): void {\n    this.willObserve(function (viewObserver: DrawerViewObserver): void {\n      if (viewObserver.drawerWillCollapse !== void 0) {\n        viewObserver.drawerWillCollapse(this);\n      }\n    });\n    this._drawerState = \"collapsing\";\n    this.display(\"flex\");\n  }\n\n  protected didCollapse(): void {\n    this._drawerState = \"collapsed\";\n    this.didObserve(function (viewObserver: DrawerViewObserver): void {\n      if (viewObserver.drawerDidCollapse !== void 0) {\n        viewObserver.drawerDidCollapse(this);\n      }\n    });\n  }\n\n  toggle(tween?: Tween<any>): void {\n    const drawerState = this._drawerState;\n    if (drawerState === \"hidden\" || drawerState === \"hiding\") {\n      this.show(tween);\n    } else if (drawerState === \"collapsed\" || drawerState === \"collapsing\") {\n      this.expand(tween);\n    } else if (this.viewIdiom === \"mobile\") {\n      this.hide(tween);\n    } else {\n      this.collapse(tween);\n    }\n  }\n}\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {HtmlViewController} from \"@swim/view\";\nimport {DrawerPlacement, DrawerView} from \"./DrawerView\";\nimport {DrawerViewObserver} from \"./DrawerViewObserver\";\n\nexport class DrawerViewController<V extends DrawerView = DrawerView> extends HtmlViewController<V> implements DrawerViewObserver<V> {\n  drawerWillSetPlacement(newPlacement: DrawerPlacement, oldPlacement: DrawerPlacement, view: V): void {\n    // hook\n  }\n\n  drawerDidSetPlacement(newPlacement: DrawerPlacement, oldPlacement: DrawerPlacement, view: V): void {\n    // hook\n  }\n\n  drawerWillShow(view: V): void {\n    // hook\n  }\n\n  drawerDidShow(view: V): void {\n    // hook\n  }\n\n  drawerWillHide(view: V): void {\n    // hook\n  }\n\n  drawerDidHide(view: V): void {\n    // hook\n  }\n\n  drawerWillExpand(view: V): void {\n    // hook\n  }\n\n  drawerDidExpand(view: V): void {\n    // hook\n  }\n\n  drawerWillCollapse(view: V): void {\n    // hook\n  }\n\n  drawerDidCollapse(view: V): void {\n    // hook\n  }\n}\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {View, SvgView, HtmlView, HtmlViewController} from \"@swim/view\";\nimport {DrawerView} from \"./DrawerView\";\n\nexport class DrawerButton extends HtmlView {\n  /** @hidden */\n  _drawerView: DrawerView | null;\n\n  constructor(node: HTMLElement) {\n    super(node);\n    this.onClick = this.onClick.bind(this);\n    this._drawerView = null;\n    this.initChildren();\n  }\n\n  protected initNode(node: HTMLElement): void {\n    this.addClass(\"drawer-button\")\n        .display(\"flex\")\n        .justifyContent(\"center\")\n        .alignItems(\"center\")\n        .width(48)\n        .height(48)\n        .userSelect(\"none\")\n        .cursor(\"pointer\");\n  }\n\n  protected initChildren(): void {\n    this.append(this.createIcon(), \"icon\");\n  }\n\n  protected createIcon(): SvgView {\n    const icon = SvgView.create(\"svg\")\n        .width(30)\n        .height(30)\n        .viewBox(\"0 0 30 30\")\n        .stroke(\"#ffffff\")\n        .strokeWidth(2)\n        .strokeLinecap(\"round\");\n    icon.append(\"path\").d(\"M4 7h22M4 15h22M4 23h22\");\n    return icon;\n  }\n\n  get viewController(): HtmlViewController<DrawerButton> | null {\n    return this._viewController;\n  }\n\n  get drawerView(): DrawerView | null {\n    return this._drawerView;\n  }\n\n  setDrawerView(drawerView: DrawerView | null) {\n    this._drawerView = drawerView;\n  }\n\n  get iconView(): HtmlView | null {\n    const childView = this.getChildView(\"icon\");\n    return childView instanceof HtmlView ? childView : null;\n  }\n\n  protected onMount(): void {\n    super.onMount();\n    this.on(\"click\", this.onClick);\n  }\n\n  protected onUnmount(): void {\n    this.off(\"click\", this.onClick);\n    super.onUnmount();\n  }\n\n  protected onInsertChildView(childView: View, targetView: View | null | undefined): void {\n    super.onInsertChildView(childView, targetView);\n    const childKey = childView.key;\n    if (childKey === \"icon\" && (childView instanceof SvgView || childView instanceof HtmlView)) {\n      this.onInsertIcon(childView);\n    }\n  }\n\n  protected onRemoveChildView(childView: View): void {\n    const childKey = childView.key;\n    if (childKey === \"icon\" && (childView instanceof SvgView || childView instanceof HtmlView)) {\n      this.onRemoveIcon(childView);\n    }\n    super.onRemoveChildView(childView);\n  }\n\n  protected onInsertIcon(icon: SvgView | HtmlView): void {\n    // hook\n  }\n\n  protected onRemoveIcon(icon: SvgView | HtmlView): void {\n    // hook\n  }\n\n  protected onClick(event: MouseEvent): void {\n    event.stopPropagation();\n    const drawerView = this._drawerView;\n    if (drawerView !== null) {\n      drawerView.toggle();\n    }\n  }\n}\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {ViewScope, Viewport, UiViewContext, UiView} from \"@swim/view\";\nimport {Theme} from \"@swim/theme\";\nimport {AppViewController} from \"./AppViewController\";\n\nexport class AppView extends UiView {\n  get viewController(): AppViewController | null {\n    return this._viewController;\n  }\n\n  @ViewScope<AppView, Theme>({\n    init: function (this: AppView): Theme {\n      return this.createTheme();\n    },\n  })\n  theme: ViewScope<this, Theme>;\n\n  protected createTheme(): Theme {\n    const colorScheme = this.viewport.colorScheme;\n    if (colorScheme === \"dark\") {\n      return Theme.dark;\n    } else {\n      return Theme.light;\n    }\n  }\n\n  protected onResize(viewContext: UiViewContext): void {\n    super.onResize(viewContext);\n    this.updateViewIdiom(viewContext.viewport);\n  }\n\n  protected updateViewIdiom(viewport: Viewport) {\n    if (viewport.width < 960 || viewport.height < 480) {\n      this.setViewIdiom(\"mobile\");\n    } else {\n      this.setViewIdiom(\"desktop\");\n    }\n  }\n}\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {UiViewController} from \"@swim/view\";\nimport {AppView} from \"./AppView\";\nimport {AppViewObserver} from \"./AppViewObserver\";\n\nexport class AppViewController<V extends AppView = AppView> extends UiViewController<V> implements AppViewObserver<V> {\n}\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Angle} from \"@swim/angle\";\nimport {Transform} from \"@swim/transform\";\nimport {Tween, Transition} from \"@swim/transition\";\nimport {ViewScope, ViewContext, View, SvgView, HtmlView} from \"@swim/view\";\nimport {GestureViewTrack, GestureViewController} from \"@swim/gesture\";\nimport {Theme} from \"@swim/theme\";\nimport {TactileView} from \"@swim/app\";\n\nexport class ActionButton extends TactileView {\n  constructor(node: HTMLElement) {\n    super(node);\n  }\n\n  protected initNode(node: HTMLElement): void {\n    super.initNode(node);\n    this.addClass(\"action-button\")\n        .position(\"relative\")\n        .display(\"flex\")\n        .justifyContent(\"center\")\n        .alignItems(\"center\")\n        .width(56)\n        .height(56)\n        .borderRadius(\"50%\")\n        .overflow(\"hidden\")\n        .userSelect(\"none\")\n        .cursor(\"pointer\");\n  }\n\n  get viewController(): GestureViewController<ActionButton> | null {\n    return this._viewController;\n  }\n\n  @ViewScope({inherit: true})\n  theme: ViewScope<this, Theme>;\n\n  get iconContainer(): HtmlView | null {\n    const childView = this.getChildView(\"iconContainer\");\n    return childView instanceof HtmlView ? childView : null;\n  }\n\n  get icon(): SvgView | HtmlView | null {\n    const iconContainer = this.iconContainer;\n    const childView = iconContainer !== null ? iconContainer.getChildView(\"icon\") : null;\n    return childView instanceof SvgView || childView instanceof HtmlView ? childView : null;\n  }\n\n  setIcon(icon: SvgView | HtmlView | null, tween: Tween<any> = null, ccw: boolean = false): void {\n    tween = Transition.forTween(tween);\n    const oldIconContainer = this.getChildView(\"iconContainer\");\n    if (oldIconContainer instanceof HtmlView) {\n      this.removeChildViewMap(oldIconContainer);\n      oldIconContainer.setKey(null);\n      if (tween !== null) {\n        oldIconContainer.opacity(0, tween.onEnd(oldIconContainer.remove.bind(oldIconContainer)))\n                        .transform(Transform.rotate(Angle.deg(ccw ? -90 : 90)), tween);\n      } else {\n        oldIconContainer.remove();\n      }\n    }\n    const newIconContainer = this.createIconContainer(icon)\n        .opacity(0)\n        .opacity(1, tween)\n        .transform(Transform.rotate(Angle.deg(ccw ? 90 : -90)))\n        .transform(Transform.rotate(Angle.deg(0)), tween);\n    this.appendChildView(newIconContainer, \"iconContainer\");\n  }\n\n  protected createIconContainer(icon: View | null): HtmlView {\n    const iconContainer = HtmlView.create(\"div\")\n        .addClass(\"action-icon\")\n        .position(\"absolute\")\n        .display(\"flex\")\n        .justifyContent(\"center\")\n        .alignItems(\"center\")\n        .width(56)\n        .height(56)\n        .pointerEvents(\"none\");\n    if (icon !== null) {\n      iconContainer.appendChildView(icon, \"icon\");\n    }\n    return iconContainer;\n  }\n\n  setTheme(theme: Theme): void {\n    this.backgroundColor.setAutoState(theme.primary.fillColor);\n    this.boxShadow.setAutoState(theme.floating.shadow);\n\n    const icon = this.icon;\n    if (icon instanceof SvgView) {\n      icon.fill.setAutoState(theme.primary.iconColor);\n    }\n  }\n\n  protected onMount(): void {\n    super.onMount();\n    this.requireUpdate(View.NeedsDerive);\n  }\n\n  protected onDerive(viewContext: ViewContext): void {\n    super.onDerive(viewContext);\n    const theme = this.theme.state;\n    if (theme !== void 0) {\n      this.setTheme(theme);\n    }\n  }\n\n  protected onInsertChildView(childView: View, targetView: View | null | undefined): void {\n    super.onInsertChildView(childView, targetView);\n    const childKey = childView.key;\n    if (childKey === \"iconContainer\" && childView instanceof HtmlView) {\n      this.onInsertIconContainer(childView);\n    }\n  }\n\n  protected onRemoveChildView(childView: View): void {\n    const childKey = childView.key;\n    if (childKey === \"iconContainer\" && childView instanceof HtmlView) {\n      this.onRemoveIconContainer(childView);\n    }\n    super.onRemoveChildView(childView);\n  }\n\n  protected onInsertIconContainer(iconContainer: HtmlView): void {\n    // hook\n  }\n\n  protected onRemoveIconContainer(iconContainer: HtmlView): void {\n    // hook\n  }\n\n  protected onStartHovering(): void {\n    const theme = this.theme.state;\n    if (theme !== void 0) {\n      this.backgroundColor.setAutoState(theme.primary.fillColor.darker(0.5), this.tactileTransition);\n    }\n  }\n\n  protected onStopHovering(): void {\n    const theme = this.theme.state;\n    if (theme !== void 0) {\n      this.backgroundColor.setAutoState(theme.primary.fillColor, this.tactileTransition);\n    }\n  }\n\n  protected onMoveTrack(track: GestureViewTrack, event: Event | null): void {\n    // nop\n  }\n}\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {AnyColor, Color} from \"@swim/color\";\nimport {\n  ViewScope,\n  ViewContext,\n  ViewFlags,\n  View,\n  MemberAnimator,\n  SvgView,\n  HtmlView,\n  HtmlViewController,\n} from \"@swim/view\";\nimport {Theme} from \"@swim/theme\";\n\nexport class ActionItem extends HtmlView {\n  constructor(node: HTMLElement) {\n    super(node);\n  }\n\n  protected initNode(node: HTMLElement): void {\n    this.addClass(\"action-item\")\n        .position(\"relative\")\n        .display(\"flex\")\n        .justifyContent(\"center\")\n        .alignItems(\"center\")\n        .width(48)\n        .height(48)\n        .borderRadius(\"50%\")\n        .userSelect(\"none\")\n        .cursor(\"pointer\");\n  }\n\n  get viewController(): HtmlViewController<ActionItem> | null {\n    return this._viewController;\n  }\n\n  @ViewScope({inherit: true})\n  theme: ViewScope<this, Theme>;\n\n  @MemberAnimator(Number, {inherit: true})\n  stackPhase: MemberAnimator<this, number>; // 0 = collapsed; 1 = expanded\n\n  @MemberAnimator(Color)\n  hoverColor: MemberAnimator<this, Color, AnyColor>;\n\n  get icon(): SvgView | HtmlView | null {\n    const childView = this.getChildView(\"icon\");\n    return childView instanceof SvgView || childView instanceof HtmlView ? childView : null;\n  }\n\n  get label(): HtmlView | null {\n    const childView = this.getChildView(\"label\");\n    return childView instanceof HtmlView ? childView : null;\n  }\n\n  setTheme(theme: Theme): void {\n    this.backgroundColor.setAutoState(theme.secondary.fillColor);\n    this.boxShadow.setAutoState(theme.floating.shadow);\n    this.hoverColor.setAutoState(theme.secondary.fillColor.darker(0.5));\n\n    const icon = this.icon;\n    if (icon instanceof SvgView) {\n      icon.fill.setAutoState(theme.secondary.iconColor);\n    }\n  }\n\n  protected onMount(): void {\n    this.requireUpdate(View.NeedsDerive);\n  }\n\n  protected modifyUpdate(updateFlags: ViewFlags): ViewFlags {\n    let additionalFlags = 0;\n    if ((updateFlags & View.NeedsAnimate) !== 0) {\n      additionalFlags |= View.NeedsLayout;\n    }\n    additionalFlags |= super.modifyUpdate(updateFlags | additionalFlags);\n    return additionalFlags;\n  }\n\n  protected onDerive(viewContext: ViewContext): void {\n    super.onDerive(viewContext);\n    const theme = this.theme.state;\n    if (theme !== void 0) {\n      this.setTheme(theme);\n    }\n  }\n\n  protected onLayout(viewContext: ViewContext): void {\n    super.onLayout(viewContext);\n    const label = this.label;\n    if (label !== null) {\n      label.opacity(this.stackPhase.value!);\n    }\n  }\n\n  protected onInsertChildView(childView: View, targetView: View | null | undefined): void {\n    super.onInsertChildView(childView, targetView);\n    const childKey = childView.key;\n    if (childKey === \"icon\" && (childView instanceof SvgView || childView instanceof HtmlView)) {\n      this.onInsertIcon(childView);\n    } else if (childKey === \"label\" && childView instanceof HtmlView) {\n      this.onInsertLabel(childView);\n    }\n  }\n\n  protected onRemoveChildView(childView: View): void {\n    const childKey = childView.key;\n    if (childKey === \"icon\" && (childView instanceof SvgView || childView instanceof HtmlView)) {\n      this.onRemoveIcon(childView);\n    } else if (childKey === \"label\" && childView instanceof HtmlView) {\n      this.onRemoveLabel(childView);\n    }\n    super.onRemoveChildView(childView);\n  }\n\n  protected onInsertIcon(icon: SvgView | HtmlView): void {\n    // hook\n  }\n\n  protected onRemoveIcon(icon: SvgView | HtmlView): void {\n    // hook\n  }\n\n  protected onInsertLabel(label: HtmlView): void {\n    label.display.setAutoState(\"block\");\n    label.position(\"absolute\")\n        .top(0)\n        .right(48 + 12)\n        .bottom(0)\n        .fontSize(17)\n        .fontWeight(\"500\")\n        .lineHeight(\"48px\")\n        .whiteSpace(\"nowrap\")\n        .color(\"#cccccc\");\n  }\n\n  protected onRemoveLabel(label: HtmlView): void {\n    // hook\n  }\n}\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {View} from \"@swim/view\";\nimport {GestureViewTrack, GestureView, GestureViewObserver} from \"@swim/gesture\";\nimport {ActionStack} from \"./ActionStack\";\n\nexport class ActionStackGestureController<V extends GestureView = GestureView> implements GestureViewObserver<V> {\n  /** @hidden */\n  _actionStack: ActionStack;\n\n  constructor(actionStack: ActionStack) {\n    this._actionStack = actionStack;\n  }\n\n  viewDidBeginTrack(track: GestureViewTrack, event: Event | null, view: V): void {\n    // hook\n  }\n\n  viewDidHoldTrack(track: GestureViewTrack, view: V): void {\n    this._actionStack.toggle();\n    track.preventDefault();\n  }\n\n  viewDidMoveTrack(track: GestureViewTrack, event: Event | null, view: V): void {\n    if (!track.defaultPrevented) {\n      const actionStack = this._actionStack;\n      if (actionStack.isCollapsed()) {\n        const stackPhase = Math.min(Math.max(0, -track.dy / 100), 1);\n        actionStack.stackPhase.setState(stackPhase);\n        actionStack.requireUpdate(View.NeedsLayout);\n        if (stackPhase > 0.1) {\n          track.clearHoldTimer();\n        }\n      }\n    }\n  }\n\n  viewDidEndTrack(track: GestureViewTrack, event: Event | null, view: V): void {\n    if (!track.defaultPrevented) {\n      const actionStack = this._actionStack;\n      const stackPhase = actionStack.stackPhase.value!;\n      if (track.dt < track.holdDelay) {\n        if (stackPhase < 0.1 || actionStack.stackState === \"expanded\") {\n          actionStack.collapse();\n        } else {\n          actionStack.expand();\n        }\n      } else {\n        if (stackPhase < 0.5) {\n          actionStack.collapse();\n        } else if (stackPhase >= 0.5) {\n          actionStack.expand();\n        }\n      }\n    }\n  }\n\n  viewDidCancelTrack(track: GestureViewTrack, event: Event | null, view: V): void {\n    const actionStack = this._actionStack;\n    if (track.buttons === 2) {\n      actionStack.toggle();\n    } else {\n      const stackPhase = actionStack.stackPhase.value!;\n      if (stackPhase < 0.1 || actionStack.stackState === \"expanded\") {\n        actionStack.collapse();\n      } else {\n        actionStack.expand();\n      }\n    }\n  }\n}\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Ease, Tween, Transition} from \"@swim/transition\";\nimport {\n  ViewContext,\n  ViewFlags,\n  View,\n  ViewNode,\n  ModalState,\n  Modal,\n  MemberAnimator,\n  SvgView,\n  HtmlView,\n} from \"@swim/view\";\nimport {ActionButton} from \"./ActionButton\";\nimport {ActionItem} from \"./ActionItem\";\nimport {ActionStackObserver} from \"./ActionStackObserver\";\nimport {ActionStackController} from \"./ActionStackController\";\nimport {ActionStackGestureController} from \"./ActionStackGestureController\";\n\nexport type ActionStackState = \"collapsed\" | \"expanding\" | \"expanded\" | \"collapsing\";\n\nexport class ActionStack extends HtmlView implements Modal {\n  /** @hidden */\n  _stackState: ActionStackState;\n  /** @hidden */\n  _stackTransition: Transition<any>;\n  /** @hidden */\n  _buttonIcon: SvgView | HtmlView | null;\n  /** @hidden */\n  _buttonSpacing: number;\n  /** @hidden */\n  _itemSpacing: number;\n\n  constructor(node: HTMLElement) {\n    super(node);\n    this.onClick = this.onClick.bind(this);\n    this.onContextMenu = this.onContextMenu.bind(this);\n    this._stackState = \"collapsed\";\n    this._stackTransition = Transition.duration(250, Ease.cubicOut);\n    this._buttonIcon = null;\n    this._buttonSpacing = 36;\n    this._itemSpacing = 20;\n    this.initChildren();\n  }\n\n  protected initNode(node: HTMLElement): void {\n    this.addClass(\"action-stack\")\n        .display(\"block\")\n        .position(\"relative\")\n        .width(56)\n        .height(56)\n        .opacity(1)\n        .userSelect(\"none\")\n        .touchAction(\"none\");\n  }\n\n  protected initChildren(): void {\n    this.append(ActionButton, \"button\");\n  }\n\n  get viewController(): ActionStackController | null {\n    return this._viewController;\n  }\n\n  get stackState(): ActionStackState {\n    return this._stackState;\n  }\n\n  isExpanded(): boolean {\n    return this._stackState === \"expanded\" || this._stackState === \"expanding\";\n  }\n\n  isCollapsed(): boolean {\n    return this._stackState === \"collapsed\" || this._stackState === \"collapsing\";\n  }\n\n  @MemberAnimator(Number, {value: 0})\n  stackPhase: MemberAnimator<this, number>; // 0 = collapsed; 1 = expanded\n\n  get modalState(): ModalState {\n    const stackState = this._stackState;\n    if (stackState === \"collapsed\") {\n      return \"hidden\";\n    } else if (stackState === \"expanding\") {\n      return \"showing\";\n    } else if (stackState === \"expanded\") {\n      return \"shown\";\n    } else if (stackState === \"collapsing\") {\n      return \"hiding\";\n    } else {\n      return void 0 as any; // unreachable\n    }\n  }\n\n  get modalView(): View | null {\n    return null;\n  }\n\n  showModal(tween?: Tween<any>): void {\n    this.expand(tween);\n  }\n\n  hideModal(tween?: Tween<any>): void {\n    this.collapse(tween);\n  }\n\n  get button(): ActionButton | null {\n    const childView = this.getChildView(\"button\");\n    return childView instanceof ActionButton ? childView : null;\n  }\n\n  get buttonIcon(): SvgView | HtmlView | null {\n    return this._buttonIcon;\n  }\n\n  setButtonIcon(buttonIcon: SvgView | HtmlView | null, tween?: Tween<any>, ccw?: boolean): void {\n    this._buttonIcon = buttonIcon;\n    const button = this.button;\n    if (button !== null) {\n      if (tween === void 0 || tween === true) {\n        tween = this._stackTransition;\n      } else if (tween === false) {\n        tween = void 0;\n      }\n      button.setIcon(buttonIcon, tween, ccw);\n    }\n  }\n\n  protected createCloseIcon(): SvgView {\n    const icon = SvgView.create(\"svg\").width(24).height(24).viewBox(\"0 0 24 24\");\n    icon.append(\"path\").d(\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\");\n    return icon;\n  }\n\n  get items(): ReadonlyArray<ActionItem> {\n    const childNodes = this._node.childNodes;\n    const childViews = [];\n    for (let i = 0, n = childNodes.length; i < n; i += 1) {\n      const childView = (childNodes[i] as ViewNode).view;\n      if (childView instanceof ActionItem) {\n        childViews.push(childView);\n      }\n    }\n    return childViews;\n  }\n\n  insertItem(item: ActionItem, index?: number, key?: string): void {\n    if (index === void 0) {\n      index = this.node.childNodes.length - 1;\n    }\n    this.insertChildNode(item.node, this.node.childNodes[1 + index] || null, key);\n  }\n\n  removeItems(): void {\n    const childNodes = this._node.childNodes;\n    for (let i = childNodes.length - 1; i >= 0; i -= 1) {\n      const childView = (childNodes[i] as ViewNode).view;\n      if (childView instanceof ActionItem) {\n        this.removeChild(childView);\n      }\n    }\n  }\n\n  protected onMount(): void {\n    super.onMount();\n    this.on(\"click\", this.onClick);\n    this.on(\"contextmenu\", this.onContextMenu);\n  }\n\n  protected onUnmount(): void {\n    this.off(\"click\", this.onClick);\n    this.off(\"contextmenu\", this.onContextMenu);\n    super.onUnmount();\n  }\n\n  protected modifyUpdate(updateFlags: ViewFlags): ViewFlags {\n    let additionalFlags = 0;\n    if ((updateFlags & View.NeedsAnimate) !== 0) {\n      additionalFlags |= View.NeedsLayout;\n    }\n    additionalFlags |= super.modifyUpdate(updateFlags | additionalFlags);\n    return additionalFlags;\n  }\n\n  protected onLayout(viewContext: ViewContext): void {\n    super.onLayout(viewContext);\n    const phase = this.stackPhase.value!;\n    const childNodes = this._node.childNodes;\n    const childCount = childNodes.length;\n    const buttonHeight = 56;\n    const itemHeight = 48;\n    let itemIndex = 0;\n    let zIndex = childCount - 1;\n    for (let i = 0; i < childCount; i += 1) {\n      const childView = (childNodes[i] as ViewNode).view;\n      if (childView instanceof ActionItem) {\n        const bottom = buttonHeight + this._buttonSpacing + itemIndex * (itemHeight + this._itemSpacing);\n        childView.display(phase === 0 ? \"none\" : \"flex\")\n                 .bottom(phase * bottom)\n                 .zIndex(zIndex);\n        itemIndex += 1;\n        zIndex -= 1;\n      }\n      const button = this.button;\n      if (button !== null) {\n        button.zIndex(childCount);\n      }\n    }\n  }\n\n  protected onInsertChildView(childView: View, targetView: View | null | undefined): void {\n    super.onInsertChildView(childView, targetView);\n    const childKey = childView.key;\n    if (childKey === \"button\" && childView instanceof ActionButton) {\n      this.onInsertButton(childView);\n    } else if (childView instanceof ActionItem) {\n      this.onInsertItem(childView);\n    }\n  }\n\n  protected onRemoveChildView(childView: View): void {\n    const childKey = childView.key;\n    if (childKey === \"button\" && childView instanceof ActionButton) {\n      this.onRemoveButton(childView);\n    } else if (childView instanceof ActionItem) {\n      this.onRemoveItem(childView);\n    }\n    super.onRemoveChildView(childView);\n  }\n\n  protected onInsertButton(button: ActionButton): void {\n    if (this.isCollapsed && this._buttonIcon !== null) {\n      button.setIcon(this._buttonIcon);\n    } else if (this.isExpanded()) {\n      button.setIcon(this.createCloseIcon());\n    }\n    button.zIndex(0);\n    button.addViewObserver(new ActionStackGestureController(this) as any);\n  }\n\n  protected onRemoveButton(button: ActionButton): void {\n    // hook\n  }\n\n  protected onInsertItem(item: ActionItem): void {\n    item.position(\"absolute\").right(4).bottom(4).left(4).zIndex(0);\n  }\n\n  protected onRemoveItem(item: ActionItem): void {\n    // hook\n  }\n\n  expand(tween?: Tween<any>): void {\n    if (this.isCollapsed() || this.stackPhase.value !== 1) {\n      if (tween === void 0 || tween === true) {\n        tween = this._stackTransition;\n      } else {\n        tween = Transition.forTween(tween);\n      }\n      this.willExpand();\n      if (tween !== null) {\n        this.button!.setIcon(this.createCloseIcon(), tween);\n        if (this.stackPhase.value !== 1) {\n          this.stackPhase.setState(1, tween.onEnd(this.didExpand.bind(this)));\n        } else {\n          setTimeout(this.didExpand.bind(this));\n        }\n      } else {\n        this.button!.setIcon(this.createCloseIcon());\n        this.stackPhase.setState(1);\n        this.requireUpdate(View.NeedsLayout);\n        this.didExpand();\n      }\n    }\n  }\n\n  protected willExpand(): void {\n    this.willObserve(function (viewObserver: ActionStackObserver): void {\n      if (viewObserver.actionStackWillExpand !== void 0) {\n        viewObserver.actionStackWillExpand(this);\n      }\n    });\n    this._stackState = \"expanding\";\n  }\n\n  protected didExpand(): void {\n    this._stackState = \"expanded\";\n    this.didObserve(function (viewObserver: ActionStackObserver): void {\n      if (viewObserver.actionStackDidExpand !== void 0) {\n        viewObserver.actionStackDidExpand(this);\n      }\n    });\n  }\n\n  collapse(tween?: Tween<any>): void {\n    if (this.isExpanded() || this.stackPhase.value !== 0) {\n      if (tween === void 0 || tween === true) {\n        tween = this._stackTransition;\n      } else {\n        tween = Transition.forTween(tween);\n      }\n      this.willCollapse();\n      if (tween !== null) {\n        this.button!.setIcon(this._buttonIcon, tween, true);\n        if (this.stackPhase.value !== 0) {\n          this.stackPhase.setState(0, tween.onEnd(this.didCollapse.bind(this)));\n        } else {\n          setTimeout(this.didCollapse.bind(this));\n        }\n      } else {\n        this.button!.setIcon(this._buttonIcon);\n        this.stackPhase.setState(0);\n        this.requireUpdate(View.NeedsLayout);\n        this.didCollapse();\n      }\n    }\n  }\n\n  protected willCollapse(): void {\n    this.willObserve(function (viewObserver: ActionStackObserver): void {\n      if (viewObserver.actionStackWillCollapse !== void 0) {\n        viewObserver.actionStackWillCollapse(this);\n      }\n    });\n    this._stackState = \"collapsing\";\n  }\n\n  protected didCollapse(): void {\n    this._stackState = \"collapsed\";\n    this.didObserve(function (viewObserver: ActionStackObserver): void {\n      if (viewObserver.actionStackDidCollapse !== void 0) {\n        viewObserver.actionStackDidCollapse(this);\n      }\n    });\n  }\n\n  toggle(tween?: Tween<any>): void {\n    const stackState = this._stackState;\n    if (stackState === \"collapsed\" || stackState === \"collapsing\") {\n      this.expand(tween);\n    } else if (stackState === \"expanded\" || stackState === \"expanding\") {\n      this.collapse(tween);\n    }\n  }\n\n  show(tween?: Tween<any>): void {\n    if (this.opacity.state !== 1) {\n      if (tween === void 0 || tween === true) {\n        tween = this._stackTransition;\n      } else {\n        tween = Transition.forTween(tween);\n      }\n      this.willShow();\n      if (tween !== null) {\n        this.opacity(1, tween.onEnd(this.didShow.bind(this)));\n      } else {\n        this.opacity(1);\n        this.requireUpdate(View.NeedsLayout);\n        this.didShow();\n      }\n    }\n  }\n\n  protected willShow(): void {\n    this.willObserve(function (viewObserver: ActionStackObserver): void {\n      if (viewObserver.actionStackWillShow !== void 0) {\n        viewObserver.actionStackWillShow(this);\n      }\n    });\n    this.display(\"block\");\n  }\n\n  protected didShow(): void {\n    this.didObserve(function (viewObserver: ActionStackObserver): void {\n      if (viewObserver.actionStackDidShow !== void 0) {\n        viewObserver.actionStackDidShow(this);\n      }\n    });\n  }\n\n  hide(tween?: Tween<any>): void {\n    if (this.opacity.state !== 0) {\n      if (tween === void 0 || tween === true) {\n        tween = this._stackTransition;\n      } else {\n        tween = Transition.forTween(tween);\n      }\n      this.willHide();\n      if (tween !== null) {\n        this.opacity(0, tween.onEnd(this.didHide.bind(this)));\n      } else {\n        this.opacity(0);\n        this.requireUpdate(View.NeedsLayout);\n        this.didHide();\n      }\n    }\n  }\n\n  protected willHide(): void {\n    this.willObserve(function (viewObserver: ActionStackObserver): void {\n      if (viewObserver.actionStackWillHide !== void 0) {\n        viewObserver.actionStackWillHide(this);\n      }\n    });\n  }\n\n  protected didHide(): void {\n    this.display(\"none\");\n    this.didObserve(function (viewObserver: ActionStackObserver): void {\n      if (viewObserver.actionStackDidHide !== void 0) {\n        viewObserver.actionStackDidHide(this);\n      }\n    });\n  }\n\n  protected onClick(event: MouseEvent): void {\n    event.stopPropagation();\n  }\n\n  protected onContextMenu(event: MouseEvent): void {\n    event.preventDefault();\n  }\n}\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {HtmlViewController} from \"@swim/view\";\nimport {ActionButton} from \"./ActionButton\";\nimport {ActionItem} from \"./ActionItem\";\nimport {ActionStackState, ActionStack} from \"./ActionStack\";\nimport {ActionStackObserver} from \"./ActionStackObserver\";\n\nexport class ActionStackController<V extends ActionStack = ActionStack> extends HtmlViewController<V> implements ActionStackObserver<V> {\n  get stackState(): ActionStackState | null {\n    return this._view !== null ? this._view.stackState : null;\n  }\n\n  get button(): ActionButton | null {\n    return this._view !== null ? this._view.button : null;\n  }\n\n  get items(): ReadonlyArray<ActionItem> {\n    return this._view !== null ? this._view.items : [];\n  }\n\n  removeItems(): void {\n    if (this._view !== null) {\n      this._view.removeItems();\n    }\n  }\n\n  actionStackWillExpand(view: V): void {\n    // hook\n  }\n\n  actionStackDidExpand(view: V): void {\n    const rootView = this.rootView;\n    if (rootView !== null) {\n      rootView.presentModal(view, {focus: true});\n    }\n  }\n\n  actionStackWillCollapse(view: V): void {\n    // hook\n  }\n\n  actionStackDidCollapse(view: V): void {\n    const rootView = this.rootView;\n    if (rootView !== null) {\n      rootView.dismissModal(view);\n    }\n  }\n\n  actionStackWillShow(view: V): void {\n    // hook\n  }\n\n  actionStackDidShow(view: V): void {\n    // hook\n  }\n\n  actionStackWillHide(view: V): void {\n    // hook\n  }\n\n  actionStackDidHide(view: V): void {\n    // hook\n  }\n}\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {View, HtmlView} from \"@swim/view\";\nimport {MenuItem} from \"./MenuItem\";\nimport {MenuListObserver} from \"./MenuListObserver\";\nimport {MenuListController} from \"./MenuListController\";\n\nexport class MenuList extends HtmlView {\n  constructor(node: HTMLElement) {\n    super(node);\n  }\n\n  protected initNode(node: HTMLElement): void {\n    this.addClass(\"menu-list\")\n        .flexGrow(1)\n        .flexShrink(0)\n        .marginTop(12)\n        .marginBottom(12);\n  }\n\n  get viewController(): MenuListController | null {\n    return this._viewController;\n  }\n\n  protected onInsertChildView(childView: View, targetView: View | null | undefined): void {\n    super.onInsertChildView(childView, targetView);\n    if (childView instanceof MenuItem) {\n      this.onInsertItem(childView);\n    }\n  }\n\n  protected onRemoveChildView(childView: View): void {\n    if (childView instanceof MenuItem) {\n      this.onRemoveItem(childView);\n    }\n    super.onRemoveChildView(childView);\n  }\n\n  protected onInsertItem(item: MenuItem): void {\n    // hook\n  }\n\n  protected onRemoveItem(item: MenuItem): void {\n    // hook\n  }\n\n  /** @hidden */\n  onPressItem(item: MenuItem): void {\n    this.didObserve(function (viewObserver: MenuListObserver): void {\n      if (viewObserver.menuDidPressItem !== void 0) {\n        viewObserver.menuDidPressItem(item, this);\n      }\n    });\n  }\n}\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Length} from \"@swim/length\";\nimport {AnyColor, Color} from \"@swim/color\";\nimport {Tween} from \"@swim/transition\";\nimport {\n  ViewScope,\n  ViewEdgeInsets,\n  ViewContext,\n  View,\n  MemberAnimator,\n  SvgView,\n  HtmlView,\n} from \"@swim/view\";\nimport {GestureViewController} from \"@swim/gesture\";\nimport {TactileView} from \"@swim/app\";\nimport {MenuList} from \"./MenuList\";\n\nexport class MenuItem extends TactileView {\n  /** @hidden */\n  _highlighted: boolean;\n\n  constructor(node: HTMLElement) {\n    super(node);\n    this.onClick = this.onClick.bind(this);\n    this.normalFillColor.setState(Color.parse(\"#9a9a9a\"));\n    this.highlightFillColor.setState(Color.parse(\"#d8d8d8\"));\n    this.highlightCellColor.setState(Color.parse(\"#0a1215\"));\n    this.hoverColor.setState(Color.rgb(255, 255, 255, 0.05));\n    this.backgroundColor.setAutoState(this.hoverColor.value!.alpha(0));\n    this._highlighted = false;\n  }\n\n  protected initNode(node: HTMLElement): void {\n    this.addClass(\"memu-item\")\n        .position(\"relative\")\n        .display(\"flex\")\n        .flexShrink(0)\n        .height(44)\n        .boxSizing(\"border-box\")\n        .lineHeight(44)\n        .overflow(\"hidden\")\n        .userSelect(\"none\")\n        .cursor(\"pointer\");\n    this.paddingLeft.setAutoState(Length.px(4));\n    this.paddingRight.setAutoState(Length.px(4));\n  }\n\n  get viewController(): GestureViewController<MenuItem> | null {\n    return this._viewController;\n  }\n\n  @MemberAnimator(Number, {inherit: true})\n  drawerStretch: MemberAnimator<this, number>; // 0 = collapsed; 1 = expanded\n\n  @MemberAnimator(Color)\n  normalFillColor: MemberAnimator<this, Color, AnyColor>;\n\n  @MemberAnimator(Color)\n  highlightFillColor: MemberAnimator<this, Color, AnyColor>;\n\n  @MemberAnimator(Color)\n  highlightCellColor: MemberAnimator<this, Color, AnyColor>;\n\n  @MemberAnimator(Color)\n  hoverColor: MemberAnimator<this, Color, AnyColor>;\n\n  @ViewScope({inherit: true})\n  edgeInsets: ViewScope<this, ViewEdgeInsets>;\n\n  get highlighted(): boolean {\n    return this._highlighted;\n  }\n\n  protected createIconView(icon?: SvgView): HtmlView {\n    const view = HtmlView.create(\"div\")\n        .display(\"flex\")\n        .justifyContent(\"center\")\n        .alignItems(\"center\")\n        .width(36)\n        .height(44);\n    if (icon !== void 0) {\n      icon.fill(this.normalFillColor.value!);\n      view.append(icon, \"icon\");\n    }\n    return view;\n  }\n\n  protected createTitleView(text?: string): HtmlView {\n    const view = HtmlView.create(\"span\")\n        .display(\"block\")\n        .fontFamily(\"system-ui, 'Open Sans', sans-serif\")\n        .fontSize(17)\n        .whiteSpace(\"nowrap\")\n        .textOverflow(\"ellipsis\")\n        .overflow(\"hidden\")\n        .color(this.normalFillColor.value!);\n    if (text !== void 0) {\n      view.text(text);\n    }\n    return view;\n  }\n\n  iconView(): HtmlView | null;\n  iconView(iconView: HtmlView | SvgView | null): this;\n  iconView(newIconView?: HtmlView | SvgView | null): HtmlView | null | this {\n    const childView = this.getChildView(\"icon\");\n    const oldIconView = childView instanceof HtmlView ? childView : null;\n    if (newIconView === void 0) {\n      return oldIconView;\n    } else {\n      if (newIconView instanceof SvgView) {\n        if (oldIconView === null) {\n          newIconView = this.createIconView(newIconView);\n          this.appendChildView(newIconView, \"icon\");\n        } else {\n          oldIconView.removeAll();\n          oldIconView.append(newIconView);\n          newIconView = oldIconView;\n        }\n      } else if (newIconView !== null) {\n        if (oldIconView === null) {\n          this.appendChildView(newIconView, \"icon\");\n        } else {\n          this.setChildView(\"icon\", newIconView);\n        }\n      } else if (oldIconView !== null) {\n        oldIconView.remove();\n      }\n      return this;\n    }\n  }\n\n  titleView(): HtmlView | null;\n  titleView(titleView: HtmlView | string | null): this;\n  titleView(newTitleView?: HtmlView | string | null): HtmlView | null | this {\n    const childView = this.getChildView(\"title\");\n    const oldTitleView = childView instanceof HtmlView ? childView : null;\n    if (newTitleView === void 0) {\n      return oldTitleView;\n    } else {\n      if (typeof newTitleView === \"string\") {\n        if (oldTitleView === null) {\n          newTitleView = this.createTitleView(newTitleView);\n          this.appendChildView(newTitleView, \"title\");\n        } else {\n          oldTitleView.text(newTitleView);\n          newTitleView = oldTitleView;\n        }\n      } else if (newTitleView !== null) {\n        if (oldTitleView === null) {\n          this.appendChildView(newTitleView, \"title\");\n        } else {\n          this.setChildView(\"title\", newTitleView);\n        }\n      } else if (oldTitleView !== null) {\n        oldTitleView.remove();\n      }\n      return this;\n    }\n  }\n\n  protected onMount(): void {\n    super.onMount();\n    this.on(\"click\", this.onClick);\n  }\n\n  protected onUnmount(): void {\n    this.off(\"click\", this.onClick);\n    super.onUnmount();\n  }\n\n  protected onAnimate(viewContext: ViewContext): void {\n    super.onAnimate(viewContext);\n    const drawerStretch = this.drawerStretch.value;\n    if (typeof drawerStretch === \"number\") {\n      const titleView = this.titleView()!;\n      titleView.display(drawerStretch === 0 ? \"none\" : \"block\")\n               .opacity(drawerStretch);\n    }\n  }\n\n  protected onLayout(viewContext: ViewContext): void {\n    super.onLayout(viewContext);\n    const edgeInsets = this.edgeInsets.state;\n    if (edgeInsets !== void 0) {\n      this.paddingLeft.setAutoState(Length.px(Math.max(4, edgeInsets.insetLeft)));\n      this.paddingRight.setAutoState(Length.px(Math.max(4, edgeInsets.insetRight)));\n    }\n  }\n\n  protected onInsertChildView(childView: View, targetView: View | null | undefined): void {\n    super.onInsertChildView(childView, targetView);\n    const childKey = childView.key;\n    if (childKey === \"icon\" && childView instanceof HtmlView) {\n      this.onInsertIcon(childView);\n    } else if (childKey === \"title\" && childView instanceof HtmlView) {\n      this.onInsertTitle(childView);\n    }\n  }\n\n  protected onRemoveChildView(childView: View): void {\n    const childKey = childView.key;\n    if (childKey === \"icon\" && childView instanceof HtmlView) {\n      this.onRemoveIcon(childView);\n    } else if (childKey === \"title\" && childView instanceof HtmlView) {\n      this.onRemoveTitle(childView);\n    }\n    super.onRemoveChildView(childView);\n  }\n\n  protected onInsertIcon(icon: HtmlView): void {\n    icon.flexShrink(0)\n        .marginLeft(8)\n        .marginRight(8);\n  }\n\n  protected onRemoveIcon(icon: HtmlView): void {\n    // hook\n  }\n\n  protected onInsertTitle(title: HtmlView): void {\n    title.flexShrink(0)\n         .marginLeft(4)\n         .marginRight(4);\n  }\n\n  protected onRemoveTitle(title: HtmlView): void {\n    // hook\n  }\n\n  protected onStartHovering(): void {\n    const hoverColor = this.hoverColor.value;\n    if (hoverColor !== void 0 && this.backgroundColor.isAuto()) {\n      if (this.backgroundColor.value === void 0) {\n        this.backgroundColor.setAutoState(hoverColor.alpha(0), false);\n      }\n      this.backgroundColor.setAutoState(hoverColor, this.tactileTransition);\n    }\n  }\n\n  protected onStopHovering(): void {\n    const hoverColor = this.hoverColor.value;\n    if (hoverColor !== void 0 && this.backgroundColor.isAuto()) {\n      this.backgroundColor.setAutoState(hoverColor.alpha(0), this.tactileTransition);\n    }\n  }\n\n  highlight(tween?: Tween<any>): this {\n    if (!this._highlighted) {\n      this._highlighted = true;\n      if (tween === true) {\n        tween = this.tactileTransition;\n      }\n      this.backgroundColor.setAutoState(this.highlightCellColor.value!.alpha(1), tween);\n      const iconView = this.iconView();\n      if (iconView !== null) {\n        const icon = iconView.getChildView(\"icon\");\n        if (icon instanceof SvgView) {\n          icon.fill(this.highlightFillColor.value!, tween);\n        }\n      }\n      const titleView = this.titleView();\n      if (titleView !== null) {\n        titleView.color(this.highlightFillColor.value!, tween);\n      }\n    }\n    return this;\n  }\n\n  unhighlight(tween?: Tween<any>): this {\n    if (this._highlighted) {\n      this._highlighted = false;\n      if (tween === true) {\n        tween = this.tactileTransition;\n      }\n      this.backgroundColor.setAutoState(this.highlightCellColor.value!.alpha(0), tween);\n      const iconView = this.iconView();\n      if (iconView !== null) {\n        const icon = iconView.getChildView(\"icon\");\n        if (icon instanceof SvgView) {\n          icon.fill(this.normalFillColor.value!, tween);\n        }\n      }\n      const titleView = this.titleView();\n      if (titleView !== null) {\n        titleView.color(this.normalFillColor.value!, tween);\n      }\n    }\n    return this;\n  }\n\n  protected onClick(event: MouseEvent): void {\n    event.stopPropagation();\n    const parentView = this.parentView;\n    if (parentView instanceof MenuList) {\n      parentView.onPressItem(this);\n    }\n  }\n}\n","// Copyright 2015-2020 SWIM.AI inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {HtmlViewController} from \"@swim/view\";\nimport {MenuItem} from \"./MenuItem\";\nimport {MenuList} from \"./MenuList\";\nimport {MenuListObserver} from \"./MenuListObserver\";\n\nexport class MenuListController<V extends MenuList = MenuList> extends HtmlViewController<V> implements MenuListObserver<V> {\n  /** @hidden */\n  _selectedItem: MenuItem | null;\n\n  constructor() {\n    super();\n    this._selectedItem = null;\n  }\n\n  get selectedItem(): MenuItem | null {\n    return this._selectedItem;\n  }\n\n  selectItem(newItem: MenuItem | null): void {\n    const oldItem = this._selectedItem;\n    if (oldItem !== newItem) {\n      this.willSelectItem(newItem, oldItem);\n      this._selectedItem = newItem;\n      this.onSelectItem(newItem, oldItem);\n      this.didSelectItem(newItem, oldItem);\n    }\n  }\n\n  protected willSelectItem(newItem: MenuItem | null, oldItem: MenuItem | null): void {\n    // hook\n  }\n\n  protected onSelectItem(newItem: MenuItem | null, oldItem: MenuItem | null): void {\n    if (oldItem !== null) {\n      oldItem.unhighlight(true);\n    }\n    if (newItem !== null) {\n      newItem.highlight(false);\n    }\n  }\n\n  protected didSelectItem(newItem: MenuItem | null, oldItem: MenuItem | null): void {\n    // hook\n  }\n\n  menuDidPressItem(item: MenuItem, view: V): void {\n    this.selectItem(item);\n  }\n}\n"]}